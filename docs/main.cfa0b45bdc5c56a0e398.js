(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),h=u.next();!h.done;h=u.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(l)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return l},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class h extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.3","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},LvDl:function(t,e,n){(function(t){var r;(function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,l=128,u=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",b="[object Boolean]",y="[object Date]",v="[object Error]",_="[object Function]",w="[object GeneratorFunction]",C="[object Map]",E="[object Number]",S="[object Object]",x="[object Promise]",O="[object RegExp]",I="[object Set]",T="[object String]",k="[object Symbol]",A="[object WeakMap]",P="[object ArrayBuffer]",D="[object DataView]",R="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",F="[object Int16Array]",L="[object Int32Array]",M="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",U="[object Uint32Array]",H=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,G=RegExp(K.source),$=RegExp(W.source),Q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",Et="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xt="["+St+"]",Ot="["+wt+"]",It="\\d+",Tt="["+Ct+"]",kt="[^\\ud800-\\udfff"+St+It+"\\u2700-\\u27bf"+Ct+Et+"]",At="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",Dt="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",jt="["+Et+"]",Nt="(?:"+Tt+"|"+kt+")",Ft="(?:"+jt+"|"+kt+")",Lt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Mt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Bt="(?:"+Ot+"|"+At+")?",Vt="[\\ufe0e\\ufe0f]?",Ut=Vt+Bt+"(?:\\u200d(?:"+[Pt,Dt,Rt].join("|")+")"+Vt+Bt+")*",Ht="(?:"+["[\\u2700-\\u27bf]",Dt,Rt].join("|")+")"+Ut,qt="(?:"+[Pt+Ot+"?",Ot,Dt,Rt,"[\\ud800-\\udfff]"].join("|")+")",zt=RegExp("['\u2019]","g"),Kt=RegExp(Ot,"g"),Wt=RegExp(At+"(?="+At+")|"+qt+Ut,"g"),Gt=RegExp([jt+"?"+Tt+"+"+Lt+"(?="+[xt,jt,"$"].join("|")+")",Ft+"+"+Mt+"(?="+[xt,jt+Nt,"$"].join("|")+")",jt+"?"+Nt+"+"+Lt,jt+"+"+Mt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,Ht].join("|"),"g"),$t=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Zt={};Zt[R]=Zt[j]=Zt[N]=Zt[F]=Zt[L]=Zt[M]=Zt[B]=Zt[V]=Zt[U]=!0,Zt[g]=Zt[m]=Zt[P]=Zt[b]=Zt[D]=Zt[y]=Zt[v]=Zt[_]=Zt[C]=Zt[E]=Zt[S]=Zt[O]=Zt[I]=Zt[T]=Zt[A]=!1;var Jt={};Jt[g]=Jt[m]=Jt[P]=Jt[D]=Jt[b]=Jt[y]=Jt[R]=Jt[j]=Jt[N]=Jt[F]=Jt[L]=Jt[C]=Jt[E]=Jt[S]=Jt[O]=Jt[I]=Jt[T]=Jt[k]=Jt[M]=Jt[B]=Jt[V]=Jt[U]=!0,Jt[v]=Jt[_]=Jt[A]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof global&&global&&global.Object===Object&&global,ie="object"==typeof self&&self&&self.Object===Object&&self,se=re||ie||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&"object"==typeof t&&t&&!t.nodeType&&t,ce=ae&&ae.exports===oe,le=ce&&re.process,ue=function(){try{return ae&&ae.require&&ae.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),he=ue&&ue.isArrayBuffer,de=ue&&ue.isDate,fe=ue&&ue.isMap,pe=ue&&ue.isRegExp,ge=ue&&ue.isSet,me=ue&&ue.isTypedArray;function be(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ye(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function _e(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ee(t,e){return!(null==t||!t.length)&&Re(t,e,0)>-1}function Se(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function xe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Oe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ie(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Te(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ae=Le("length");function Pe(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function De(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Re(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):De(t,Ne,n)}function je(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function Ne(t){return t!=t}function Fe(t,e){var n=null==t?0:t.length;return n?Ve(t,e)/n:d}function Le(t){return function(e){return null==e?i:e[t]}}function Me(t){return function(e){return null==t?i:t[e]}}function Be(t,e,n,r,i){return i(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}function Ve(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function Ue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function He(t){return t?t.slice(0,an(t)+1).replace(rt,""):t}function qe(t){return function(e){return t(e)}}function ze(t,e){return xe(e,function(e){return t[e]})}function Ke(t,e){return t.has(e)}function We(t,e){for(var n=-1,r=t.length;++n<r&&Re(e,t[n],0)>-1;);return n}function Ge(t,e){for(var n=t.length;n--&&Re(e,t[n],0)>-1;);return n}function $e(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Qe=Me({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ye=Me({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xe(t){return"\\"+te[t]}function Ze(t){return $t.test(t)}function Je(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];o!==e&&o!==a||(t[n]=a,s[i++]=n)}return s}function nn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function sn(t){return Ze(t)?function(t){for(var e=Wt.lastIndex=0;Wt.test(t);)++e;return e}(t):Ae(t)}function on(t){return Ze(t)?function(t){return t.match(Wt)||[]}(t):function(t){return t.split("")}(t)}function an(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var cn=Me({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ln=function t(e){var n,r=(e=null==e?se:ln.defaults(se.Object(),e,ln.pick(se,Yt))).Array,it=e.Date,wt=e.Error,Ct=e.Function,Et=e.Math,St=e.Object,xt=e.RegExp,Ot=e.String,It=e.TypeError,Tt=r.prototype,kt=St.prototype,At=e["__core-js_shared__"],Pt=Ct.prototype.toString,Dt=kt.hasOwnProperty,Rt=0,jt=(n=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Nt=kt.toString,Ft=Pt.call(St),Lt=se._,Mt=xt("^"+Pt.call(Dt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=ce?e.Buffer:i,Vt=e.Symbol,Ut=e.Uint8Array,Ht=Bt?Bt.allocUnsafe:i,qt=tn(St.getPrototypeOf,St),Wt=St.create,$t=kt.propertyIsEnumerable,te=Tt.splice,re=Vt?Vt.isConcatSpreadable:i,ie=Vt?Vt.iterator:i,oe=Vt?Vt.toStringTag:i,ae=function(){try{var t=cs(St,"defineProperty");return t({},"",{}),t}catch(e){}}(),le=e.clearTimeout!==se.clearTimeout&&e.clearTimeout,ue=it&&it.now!==se.Date.now&&it.now,Ae=e.setTimeout!==se.setTimeout&&e.setTimeout,Me=Et.ceil,un=Et.floor,hn=St.getOwnPropertySymbols,dn=Bt?Bt.isBuffer:i,fn=e.isFinite,pn=Tt.join,gn=tn(St.keys,St),mn=Et.max,bn=Et.min,yn=it.now,vn=e.parseInt,_n=Et.random,wn=Tt.reverse,Cn=cs(e,"DataView"),En=cs(e,"Map"),Sn=cs(e,"Promise"),xn=cs(e,"Set"),On=cs(e,"WeakMap"),In=cs(St,"create"),Tn=On&&new On,kn={},An=Ls(Cn),Pn=Ls(En),Dn=Ls(Sn),Rn=Ls(xn),jn=Ls(On),Nn=Vt?Vt.prototype:i,Fn=Nn?Nn.valueOf:i,Ln=Nn?Nn.toString:i;function Mn(t){if(ea(t)&&!zo(t)&&!(t instanceof Hn)){if(t instanceof Un)return t;if(Dt.call(t,"__wrapped__"))return Ms(t)}return new Un(t)}var Bn=function(){function t(){}return function(e){if(!ta(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Vn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Kn;++e<n;)this.add(t[e])}function Gn(t){var e=this.__data__=new zn(t);this.size=e.size}function $n(t,e){var n=zo(t),r=!n&&qo(t),i=!n&&!r&&$o(t),s=!n&&!r&&!i&&la(t),o=n||r||i||s,a=o?Ue(t.length,Ot):[],c=a.length;for(var l in t)!e&&!Dt.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||gs(l,c))||a.push(l);return a}function Qn(t){var e=t.length;return e?t[Kr(0,e-1)]:i}function Yn(t,e){return Ds(Oi(t),sr(e,0,t.length))}function Xn(t){return Ds(Oi(t))}function Zn(t,e,n){(n!==i&&!Vo(t[e],n)||n===i&&!(e in t))&&rr(t,e,n)}function Jn(t,e,n){var r=t[e];Dt.call(t,e)&&Vo(r,n)&&(n!==i||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Vo(t[n][0],e))return n;return-1}function er(t,e,n,r){return ur(t,function(t,i,s){e(r,t,n(t),s)}),r}function nr(t,e){return t&&Ii(e,Pa(e),t)}function rr(t,e,n){"__proto__"==e&&ae?ae(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var n=-1,s=e.length,o=r(s),a=null==t;++n<s;)o[n]=a?i:Oa(t,e[n]);return o}function sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function or(t,e,n,r,s,o){var a,c=1&e,l=2&e,u=4&e;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!ta(t))return t;var h=zo(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return Oi(t,a)}else{var d=hs(t),f=d==_||d==w;if($o(t))return _i(t,c);if(d==S||d==g||f&&!s){if(a=l||f?{}:fs(t),!c)return l?function(t,e){return Ii(t,us(t),e)}(t,function(t,e){return t&&Ii(e,Da(e),t)}(a,t)):function(t,e){return Ii(t,ls(t),e)}(t,nr(a,t))}else{if(!Jt[d])return s?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case P:return wi(t);case b:case y:return new r(+t);case D:return function(t,e){var n=e?wi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case j:case N:case F:case L:case M:case B:case V:case U:return Ci(t,n);case C:return new r;case E:case T:return new r(t);case O:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new r;case k:return Fn?St(Fn.call(t)):{}}}(t,d,c)}}o||(o=new Gn);var p=o.get(t);if(p)return p;o.set(t,a),oa(t)?t.forEach(function(r){a.add(or(r,e,n,r,t,o))}):na(t)&&t.forEach(function(r,i){a.set(i,or(r,e,n,i,t,o))});var m=h?i:(u?l?es:ts:l?Da:Pa)(t);return ve(m||t,function(r,i){m&&(r=t[i=r]),Jn(a,i,or(r,e,n,i,t,o))}),a}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=St(t);r--;){var s=n[r],o=t[s];if(o===i&&!(s in t)||!(0,e[s])(o))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new It(s);return Ts(function(){t.apply(i,n)},e)}function lr(t,e,n,r){var i=-1,s=Ee,o=!0,a=t.length,c=[],l=e.length;if(!a)return c;n&&(e=xe(e,qe(n))),r?(s=Se,o=!1):e.length>=200&&(s=Ke,o=!1,e=new Wn(e));t:for(;++i<a;){var u=t[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h==h){for(var d=l;d--;)if(e[d]===h)continue t;c.push(u)}else s(e,h,r)||c.push(u)}return c}Mn.templateSettings={escape:Q,evaluate:Y,interpolate:X,variable:"",imports:{_:Mn}},(Mn.prototype=Vn.prototype).constructor=Mn,(Un.prototype=Bn(Vn.prototype)).constructor=Un,(Hn.prototype=Bn(Vn.prototype)).constructor=Hn,qn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(In){var n=e[t];return n===o?i:n}return Dt.call(e,t)?e[t]:i},qn.prototype.has=function(t){var e=this.__data__;return In?e[t]!==i:Dt.call(e,t)},qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=In&&e===i?o:e,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():te.call(e,n,1),--this.size,0))},zn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]},zn.prototype.has=function(t){return tr(this.__data__,t)>-1},zn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(En||zn),string:new qn}},Kn.prototype.delete=function(t){var e=os(this,t).delete(t);return this.size-=e?1:0,e},Kn.prototype.get=function(t){return os(this,t).get(t)},Kn.prototype.has=function(t){return os(this,t).has(t)},Kn.prototype.set=function(t,e){var n=os(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(t){return this.__data__.set(t,o),this},Wn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.clear=function(){this.__data__=new zn,this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Gn.prototype.get=function(t){return this.__data__.get(t)},Gn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!En||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(t,e),this.size=n.size,this};var ur=Ai(yr),hr=Ai(vr,!0);function dr(t,e){var n=!0;return ur(t,function(t,r,i){return n=!!e(t,r,i)}),n}function fr(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(null!=a&&(c===i?a==a&&!ca(a):n(a,c)))var c=a,l=o}return l}function pr(t,e){var n=[];return ur(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function gr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ps),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?gr(a,e-1,n,r,i):Oe(i,a):r||(i[i.length]=a)}return i}var mr=Pi(),br=Pi(!0);function yr(t,e){return t&&mr(t,e,Pa)}function vr(t,e){return t&&br(t,e,Pa)}function _r(t,e){return Ce(e,function(e){return Xo(t[e])})}function wr(t,e){for(var n=0,r=(e=mi(e,t)).length;null!=t&&n<r;)t=t[Fs(e[n++])];return n&&n==r?t:i}function Cr(t,e,n){var r=e(t);return zo(t)?r:Oe(r,n(t))}function Er(t){return null==t?t===i?"[object Undefined]":"[object Null]":oe&&oe in St(t)?function(t){var e=Dt.call(t,oe),n=t[oe];try{t[oe]=i;var r=!0}catch(o){}var s=Nt.call(t);return r&&(e?t[oe]=n:delete t[oe]),s}(t):function(t){return Nt.call(t)}(t)}function Sr(t,e){return t>e}function xr(t,e){return null!=t&&Dt.call(t,e)}function Or(t,e){return null!=t&&e in St(t)}function Ir(t,e,n){for(var s=n?Se:Ee,o=t[0].length,a=t.length,c=a,l=r(a),u=1/0,h=[];c--;){var d=t[c];c&&e&&(d=xe(d,qe(e))),u=bn(d.length,u),l[c]=!n&&(e||o>=120&&d.length>=120)?new Wn(c&&d):i}d=t[0];var f=-1,p=l[0];t:for(;++f<o&&h.length<u;){var g=d[f],m=e?e(g):g;if(g=n||0!==g?g:0,!(p?Ke(p,m):s(h,m,n))){for(c=a;--c;){var b=l[c];if(!(b?Ke(b,m):s(t[c],m,n)))continue t}p&&p.push(m),h.push(g)}}return h}function Tr(t,e,n){var r=null==(t=Ss(t,e=mi(e,t)))?t:t[Fs(Qs(e))];return null==r?i:be(r,t,n)}function kr(t){return ea(t)&&Er(t)==g}function Ar(t,e,n,r,s){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!=t&&e!=e:function(t,e,n,r,s,o){var a=zo(t),c=zo(e),l=a?m:hs(t),u=c?m:hs(e),h=(l=l==g?S:l)==S,d=(u=u==g?S:u)==S,f=l==u;if(f&&$o(t)){if(!$o(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Gn),a||la(t)?Zi(t,e,n,r,s,o):function(t,e,n,r,i,s,o){switch(n){case D:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!s(new Ut(t),new Ut(e)));case b:case y:case E:return Vo(+t,+e);case v:return t.name==e.name&&t.message==e.message;case O:case T:return t==e+"";case C:var a=Je;case I:if(a||(a=nn),t.size!=e.size&&!(1&r))return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var l=Zi(a(t),a(e),r,i,s,o);return o.delete(t),l;case k:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,r,s,o);if(!(1&n)){var p=h&&Dt.call(t,"__wrapped__"),_=d&&Dt.call(e,"__wrapped__");if(p||_){var w=p?t.value():t,x=_?e.value():e;return o||(o=new Gn),s(w,x,n,r,o)}}return!!f&&(o||(o=new Gn),function(t,e,n,r,s,o){var a=1&n,c=ts(t),l=c.length;if(l!=ts(e).length&&!a)return!1;for(var u=l;u--;){var h=c[u];if(!(a?h in e:Dt.call(e,h)))return!1}var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=a;++u<l;){var m=t[h=c[u]],b=e[h];if(r)var y=a?r(b,m,h,e,t,o):r(m,b,h,t,e,o);if(!(y===i?m===b||s(m,b,n,r,o):y)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var v=t.constructor,_=e.constructor;v==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,s,o))}(t,e,n,r,Ar,s))}function Pr(t,e,n,r){var s=n.length,o=s,a=!r;if(null==t)return!o;for(t=St(t);s--;){var c=n[s];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<o;){var l=(c=n[s])[0],u=t[l],h=c[1];if(a&&c[2]){if(u===i&&!(l in t))return!1}else{var d=new Gn;if(r)var f=r(u,h,l,t,e,d);if(!(f===i?Ar(h,u,3,r,d):f))return!1}}return!0}function Dr(t){return!(!ta(t)||(e=t,jt&&jt in e))&&(Xo(t)?Mt:gt).test(Ls(t));var e}function Rr(t){return"function"==typeof t?t:null==t?rc:"object"==typeof t?zo(t)?Mr(t[0],t[1]):Lr(t):dc(t)}function jr(t){if(!_s(t))return gn(t);var e=[];for(var n in St(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Nr(t,e){return t<e}function Fr(t,e){var n=-1,i=Wo(t)?r(t.length):[];return ur(t,function(t,r,s){i[++n]=e(t,r,s)}),i}function Lr(t){var e=as(t);return 1==e.length&&e[0][2]?Cs(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function Mr(t,e){return bs(t)&&ws(e)?Cs(Fs(t),e):function(n){var r=Oa(n,t);return r===i&&r===e?Ia(n,t):Ar(e,r,3)}}function Br(t,e,n,r,s){t!==e&&mr(e,function(o,a){if(s||(s=new Gn),ta(o))!function(t,e,n,r,s,o,a){var c=Os(t,n),l=Os(e,n),u=a.get(l);if(u)Zn(t,n,u);else{var h=o?o(c,l,n+"",t,e,a):i,d=h===i;if(d){var f=zo(l),p=!f&&$o(l),g=!f&&!p&&la(l);h=l,f||p||g?zo(c)?h=c:Go(c)?h=Oi(c):p?(d=!1,h=_i(l,!0)):g?(d=!1,h=Ci(l,!0)):h=[]:ia(l)||qo(l)?(h=c,qo(c)?h=ba(c):ta(c)&&!Xo(c)||(h=fs(l))):d=!1}d&&(a.set(l,h),s(h,l,r,o,a),a.delete(l)),Zn(t,n,h)}}(t,e,a,n,Br,r,s);else{var c=r?r(Os(t,a),o,a+"",t,e,s):i;c===i&&(c=o),Zn(t,a,c)}},Da)}function Vr(t,e){var n=t.length;if(n)return gs(e+=e<0?n:0,n)?t[e]:i}function Ur(t,e,n){e=e.length?xe(e,function(t){return zo(t)?function(e){return wr(e,1===t.length?t[0]:t)}:t}):[rc];var r=-1;return e=xe(e,qe(ss())),function(t,e){var r=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var c=Ei(i[r],s[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)});r--;)t[r]=t[r].value;return t}(Fr(t,function(t,n,i){return{criteria:xe(e,function(e){return e(t)}),index:++r,value:t}}))}function Hr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=wr(t,o);n(a,o)&&Yr(s,mi(o,t),a)}return s}function qr(t,e,n,r){var i=r?je:Re,s=-1,o=e.length,a=t;for(t===e&&(e=Oi(e)),n&&(a=xe(t,qe(n)));++s<o;)for(var c=0,l=e[s],u=n?n(l):l;(c=i(a,u,c,r))>-1;)a!==t&&te.call(a,c,1),te.call(t,c,1);return t}function zr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;gs(i)?te.call(t,i,1):ci(t,i)}}return t}function Kr(t,e){return t+un(_n()*(e-t+1))}function Wr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=un(e/2))&&(t+=t)}while(e);return n}function Gr(t,e){return ks(Es(t,e,rc),t+"")}function $r(t){return Qn(Va(t))}function Qr(t,e){var n=Va(t);return Ds(n,sr(e,0,n.length))}function Yr(t,e,n,r){if(!ta(t))return t;for(var s=-1,o=(e=mi(e,t)).length,a=o-1,c=t;null!=c&&++s<o;){var l=Fs(e[s]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(s!=a){var h=c[l];(u=r?r(h,l,c):i)===i&&(u=ta(h)?h:gs(e[s+1])?[]:{})}Jn(c,l,u),c=c[l]}return t}var Xr=Tn?function(t,e){return Tn.set(t,e),t}:rc,Zr=ae?function(t,e){return ae(t,"toString",{configurable:!0,enumerable:!1,value:tc(e),writable:!0})}:rc;function Jr(t){return Ds(Va(t))}function ti(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=r(s);++i<s;)o[i]=t[i+e];return o}function ei(t,e){var n;return ur(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!ca(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return ri(t,e,rc,n)}function ri(t,e,n,r){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,c=null===e,l=ca(e),u=e===i;s<o;){var h=un((s+o)/2),d=n(t[h]),f=d!==i,p=null===d,g=d==d,m=ca(d);if(a)var b=r||g;else b=u?g&&(r||f):c?g&&f&&(r||!p):l?g&&f&&!p&&(r||!m):!p&&!m&&(r?d<=e:d<e);b?s=h+1:o=h}return bn(o,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!Vo(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function si(t){return"number"==typeof t?t:ca(t)?d:+t}function oi(t){if("string"==typeof t)return t;if(zo(t))return xe(t,oi)+"";if(ca(t))return Ln?Ln.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ai(t,e,n){var r=-1,i=Ee,s=t.length,o=!0,a=[],c=a;if(n)o=!1,i=Se;else if(s>=200){var l=e?null:Wi(t);if(l)return nn(l);o=!1,i=Ke,c=new Wn}else c=e?[]:a;t:for(;++r<s;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(u)}else i(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a}function ci(t,e){return null==(t=Ss(t,e=mi(e,t)))||delete t[Fs(Qs(e))]}function li(t,e,n,r){return Yr(t,e,n(wr(t,e)),r)}function ui(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?ti(t,r?0:s,r?s+1:i):ti(t,r?s+1:0,r?i:s)}function hi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Ie(e,function(t,e){return e.func.apply(e.thisArg,Oe([t],e.args))},n)}function di(t,e,n){var i=t.length;if(i<2)return i?ai(t[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=t[s],c=-1;++c<i;)c!=s&&(o[s]=lr(o[s]||a,t[c],e,n));return ai(gr(o,1),e,n)}function fi(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;)n(a,t[r],r<o?e[r]:i);return a}function pi(t){return Go(t)?t:[]}function gi(t){return"function"==typeof t?t:rc}function mi(t,e){return zo(t)?t:bs(t,e)?[t]:Ns(ya(t))}var bi=Gr;function yi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ti(t,e,n)}var vi=le||function(t){return se.clearTimeout(t)};function _i(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function wi(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function Ci(t,e){var n=e?wi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ei(t,e){if(t!==e){var n=t!==i,r=null===t,s=t==t,o=ca(t),a=e!==i,c=null===e,l=e==e,u=ca(e);if(!c&&!u&&!o&&t>e||o&&a&&l&&!c&&!u||r&&a&&l||!n&&l||!s)return 1;if(!r&&!o&&!u&&t<e||u&&n&&s&&!r&&!o||c&&n&&s||!a&&s||!l)return-1}return 0}function Si(t,e,n,i){for(var s=-1,o=t.length,a=n.length,c=-1,l=e.length,u=mn(o-a,0),h=r(l+u),d=!i;++c<l;)h[c]=e[c];for(;++s<a;)(d||s<o)&&(h[n[s]]=t[s]);for(;u--;)h[c++]=t[s++];return h}function xi(t,e,n,i){for(var s=-1,o=t.length,a=-1,c=n.length,l=-1,u=e.length,h=mn(o-c,0),d=r(h+u),f=!i;++s<h;)d[s]=t[s];for(var p=s;++l<u;)d[p+l]=e[l];for(;++a<c;)(f||s<o)&&(d[p+n[a]]=t[s++]);return d}function Oi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ii(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],l=r?r(n[c],t[c],c,n,t):i;l===i&&(l=t[c]),s?rr(n,c,l):Jn(n,c,l)}return n}function Ti(t,e){return function(n,r){var i=zo(n)?ye:er,s=e?e():{};return i(n,t,ss(r,2),s)}}function ki(t){return Gr(function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&ms(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=St(e);++r<s;){var c=n[r];c&&t(e,c,r,o)}return e})}function Ai(t,e){return function(n,r){if(null==n)return n;if(!Wo(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=St(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Pi(t){return function(e,n,r){for(var i=-1,s=St(e),o=r(e),a=o.length;a--;){var c=o[t?a:++i];if(!1===n(s[c],c,s))break}return e}}function Di(t){return function(e){var n=Ze(e=ya(e))?on(e):i,r=n?n[0]:e.charAt(0),s=n?yi(n,1).join(""):e.slice(1);return r[t]()+s}}function Ri(t){return function(e){return Ie(Xa(qa(e).replace(zt,"")),t,"")}}function ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Bn(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function Ni(t){return function(e,n,r){var s=St(e);if(!Wo(e)){var o=ss(n,3);e=Pa(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Fi(t){return Ji(function(e){var n=e.length,r=n,o=Un.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new It(s);if(o&&!c&&"wrapper"==rs(a))var c=new Un([],!0)}for(r=c?r:n;++r<n;){var l=rs(a=e[r]),u="wrapper"==l?ns(a):i;c=u&&ys(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[rs(u[0])].apply(c,u[3]):1==a.length&&ys(a)?c[l]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&zo(r))return c.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}})}function Li(t,e,n,s,o,a,c,u,h,d){var f=e&l,p=1&e,g=2&e,m=24&e,b=512&e,y=g?i:ji(t);return function i(){for(var l=arguments.length,v=r(l),_=l;_--;)v[_]=arguments[_];if(m)var w=is(i),C=$e(v,w);if(s&&(v=Si(v,s,o,m)),a&&(v=xi(v,a,c,m)),l-=C,m&&l<d){var E=en(v,w);return zi(t,e,Li,i.placeholder,n,v,E,u,h,d-l)}var S=p?n:this,x=g?S[t]:t;return l=v.length,u?v=xs(v,u):b&&l>1&&v.reverse(),f&&h<l&&(v.length=h),this&&this!==se&&this instanceof i&&(x=y||ji(x)),x.apply(S,v)}}function Mi(t,e){return function(n,r){return function(t,e,n,r){return yr(t,function(t,i,s){e(r,n(t),i,s)}),r}(n,t,e(r),{})}}function Bi(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=oi(n),r=oi(r)):(n=si(n),r=si(r)),s=t(n,r)}return s}}function Vi(t){return Ji(function(e){return e=xe(e,qe(ss())),Gr(function(n){var r=this;return t(e,function(t){return be(t,r,n)})})})}function Ui(t,e){var n=(e=e===i?" ":oi(e)).length;if(n<2)return n?Wr(e,t):e;var r=Wr(e,Me(t/sn(e)));return Ze(e)?yi(on(r),0,t).join(""):r.slice(0,t)}function Hi(t){return function(e,n,s){return s&&"number"!=typeof s&&ms(e,n,s)&&(n=s=i),e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n,i){for(var s=-1,o=mn(Me((e-t)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=t,t+=n;return a}(e,n,s=s===i?e<n?1:-1:fa(s),t)}}function qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function zi(t,e,n,r,s,o,a,l,u,h){var d=8&e;e|=d?c:64,4&(e&=~(d?64:c))||(e&=-4);var f=[t,e,s,d?o:i,d?a:i,d?i:o,d?i:a,l,u,h],p=n.apply(i,f);return ys(t)&&Is(p,f),p.placeholder=r,As(p,t,e)}function Ki(t){var e=Et[t];return function(t,n){if(t=ma(t),(n=null==n?0:bn(pa(n),292))&&fn(t)){var r=(ya(t)+"e").split("e");return+((r=(ya(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Wi=xn&&1/nn(new xn([,-0]))[1]==u?function(t){return new xn(t)}:cc;function Gi(t){return function(e){var n=hs(e);return n==C?Je(e):n==I?rn(e):function(t,e){return xe(e,function(e){return[e,t[e]]})}(e,t(e))}}function $i(t,e,n,o,u,h,d,f){var p=2&e;if(!p&&"function"!=typeof t)throw new It(s);var g=o?o.length:0;if(g||(e&=-97,o=u=i),d=d===i?d:mn(pa(d),0),f=f===i?f:pa(f),g-=u?u.length:0,64&e){var m=o,b=u;o=u=i}var y=p?i:ns(t),v=[t,e,n,o,u,m,b,h,d,f];if(y&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||r==l&&8==n||r==l&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var o=t[3];t[3]=o?Si(o,s,e[4]):s,t[4]=o?en(t[3],a):e[4]}(s=e[5])&&(t[5]=(o=t[5])?xi(o,s,e[6]):s,t[6]=o?en(t[5],a):e[6]),(s=e[7])&&(t[7]=s),r&l&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,y),t=v[0],e=v[1],n=v[2],o=v[3],u=v[4],!(f=v[9]=v[9]===i?p?0:t.length:mn(v[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||16==e?function(t,e,n){var s=ji(t);return function o(){for(var a=arguments.length,c=r(a),l=a,u=is(o);l--;)c[l]=arguments[l];var h=a<3&&c[0]!==u&&c[a-1]!==u?[]:en(c,u);return(a-=h.length)<n?zi(t,e,Li,o.placeholder,i,c,h,i,i,n-a):be(this&&this!==se&&this instanceof o?s:t,this,c)}}(t,e,f):e!=c&&33!=e||u.length?Li.apply(i,v):function(t,e,n,i){var s=1&e,o=ji(t);return function e(){for(var a=-1,c=arguments.length,l=-1,u=i.length,h=r(u+c),d=this&&this!==se&&this instanceof e?o:t;++l<u;)h[l]=i[l];for(;c--;)h[l++]=arguments[++a];return be(d,s?n:this,h)}}(t,e,n,o);else var _=function(t,e,n){var r=1&e,i=ji(t);return function e(){return(this&&this!==se&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return As((y?Xr:Is)(_,v),t,e)}function Qi(t,e,n,r){return t===i||Vo(t,kt[n])&&!Dt.call(r,n)?e:t}function Yi(t,e,n,r,s,o){return ta(t)&&ta(e)&&(o.set(e,t),Br(t,e,i,Yi,o),o.delete(e)),t}function Xi(t){return ia(t)?i:t}function Zi(t,e,n,r,s,o){var a=1&n,c=t.length,l=e.length;if(c!=l&&!(a&&l>c))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,p=2&n?new Wn:i;for(o.set(t,e),o.set(e,t);++d<c;){var g=t[d],m=e[d];if(r)var b=a?r(m,g,d,e,t,o):r(g,m,d,t,e,o);if(b!==i){if(b)continue;f=!1;break}if(p){if(!ke(e,function(t,e){if(!Ke(p,e)&&(g===t||s(g,t,n,r,o)))return p.push(e)})){f=!1;break}}else if(g!==m&&!s(g,m,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Ji(t){return ks(Es(t,i,zs),t+"")}function ts(t){return Cr(t,Pa,ls)}function es(t){return Cr(t,Da,us)}var ns=Tn?function(t){return Tn.get(t)}:cc;function rs(t){for(var e=t.name+"",n=kn[e],r=Dt.call(kn,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function is(t){return(Dt.call(Mn,"placeholder")?Mn:t).placeholder}function ss(){var t=Mn.iteratee||ic;return t=t===ic?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function os(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function as(t){for(var e=Pa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ws(i)]}return e}function cs(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Dr(n)?n:i}var ls=hn?function(t){return null==t?[]:(t=St(t),Ce(hn(t),function(e){return $t.call(t,e)}))}:gc,us=hn?function(t){for(var e=[];t;)Oe(e,ls(t)),t=qt(t);return e}:gc,hs=Er;function ds(t,e,n){for(var r=-1,i=(e=mi(e,t)).length,s=!1;++r<i;){var o=Fs(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&Jo(i)&&gs(o,i)&&(zo(t)||qo(t))}function fs(t){return"function"!=typeof t.constructor||_s(t)?{}:Bn(qt(t))}function ps(t){return zo(t)||qo(t)||!!(re&&t&&t[re])}function gs(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function ms(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?Wo(n)&&gs(e,n.length):"string"==r&&e in n)&&Vo(n[e],t)}function bs(t,e){if(zo(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ca(t))||J.test(t)||!Z.test(t)||null!=e&&t in St(e)}function ys(t){var e=rs(t),n=Mn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=ns(n);return!!r&&t===r[0]}(Cn&&hs(new Cn(new ArrayBuffer(1)))!=D||En&&hs(new En)!=C||Sn&&hs(Sn.resolve())!=x||xn&&hs(new xn)!=I||On&&hs(new On)!=A)&&(hs=function(t){var e=Er(t),n=e==S?t.constructor:i,r=n?Ls(n):"";if(r)switch(r){case An:return D;case Pn:return C;case Dn:return x;case Rn:return I;case jn:return A}return e});var vs=At?Xo:mc;function _s(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kt)}function ws(t){return t==t&&!ta(t)}function Cs(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in St(n))}}function Es(t,e,n){return e=mn(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=mn(i.length-e,0),a=r(o);++s<o;)a[s]=i[e+s];s=-1;for(var c=r(e+1);++s<e;)c[s]=i[s];return c[e]=n(a),be(t,this,c)}}function Ss(t,e){return e.length<2?t:wr(t,ti(e,0,-1))}function xs(t,e){for(var n=t.length,r=bn(e.length,n),s=Oi(t);r--;){var o=e[r];t[r]=gs(o,n)?s[o]:i}return t}function Os(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Is=Ps(Xr),Ts=Ae||function(t,e){return se.setTimeout(t,e)},ks=Ps(Zr);function As(t,e,n){var r=e+"";return ks(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ve(p,function(n){var r="_."+n[0];e&n[1]&&!Ee(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(r),n)))}function Ps(t){var e=0,n=0;return function(){var r=yn(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ds(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=Kr(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Rs,js,Ns=(Rs=jo(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,function(t,n,r,i){e.push(r?i.replace(ut,"$1"):n||t)}),e},function(t){return 500===js.size&&js.clear(),t}),js=Rs.cache,Rs);function Fs(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ls(t){if(null!=t){try{return Pt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ms(t){if(t instanceof Hn)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bs=Gr(function(t,e){return Go(t)?lr(t,gr(e,1,Go,!0)):[]}),Vs=Gr(function(t,e){var n=Qs(e);return Go(n)&&(n=i),Go(t)?lr(t,gr(e,1,Go,!0),ss(n,2)):[]}),Us=Gr(function(t,e){var n=Qs(e);return Go(n)&&(n=i),Go(t)?lr(t,gr(e,1,Go,!0),i,n):[]});function Hs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),De(t,ss(e,3),i)}function qs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=pa(n),s=n<0?mn(r+s,0):bn(s,r-1)),De(t,ss(e,3),s,!0)}function zs(t){return null!=t&&t.length?gr(t,1):[]}function Ks(t){return t&&t.length?t[0]:i}var Ws=Gr(function(t){var e=xe(t,pi);return e.length&&e[0]===t[0]?Ir(e):[]}),Gs=Gr(function(t){var e=Qs(t),n=xe(t,pi);return e===Qs(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Ir(n,ss(e,2)):[]}),$s=Gr(function(t){var e=Qs(t),n=xe(t,pi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Ir(n,i,e):[]});function Qs(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Ys=Gr(Xs);function Xs(t,e){return t&&t.length&&e&&e.length?qr(t,e):t}var Zs=Ji(function(t,e){var n=null==t?0:t.length,r=ir(t,e);return zr(t,xe(e,function(t){return gs(t,n)?+t:t}).sort(Ei)),r});function Js(t){return null==t?t:wn.call(t)}var to=Gr(function(t){return ai(gr(t,1,Go,!0))}),eo=Gr(function(t){var e=Qs(t);return Go(e)&&(e=i),ai(gr(t,1,Go,!0),ss(e,2))}),no=Gr(function(t){var e=Qs(t);return e="function"==typeof e?e:i,ai(gr(t,1,Go,!0),i,e)});function ro(t){if(!t||!t.length)return[];var e=0;return t=Ce(t,function(t){if(Go(t))return e=mn(t.length,e),!0}),Ue(e,function(e){return xe(t,Le(e))})}function io(t,e){if(!t||!t.length)return[];var n=ro(t);return null==e?n:xe(n,function(t){return be(e,i,t)})}var so=Gr(function(t,e){return Go(t)?lr(t,e):[]}),oo=Gr(function(t){return di(Ce(t,Go))}),ao=Gr(function(t){var e=Qs(t);return Go(e)&&(e=i),di(Ce(t,Go),ss(e,2))}),co=Gr(function(t){var e=Qs(t);return e="function"==typeof e?e:i,di(Ce(t,Go),i,e)}),lo=Gr(ro),uo=Gr(function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,io(t,n)});function ho(t){var e=Mn(t);return e.__chain__=!0,e}function fo(t,e){return e(t)}var po=Ji(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(e){return ir(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&gs(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new Un(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(s)}),go=Ti(function(t,e,n){Dt.call(t,n)?++t[n]:rr(t,n,1)}),mo=Ni(Hs),bo=Ni(qs);function yo(t,e){return(zo(t)?ve:ur)(t,ss(e,3))}function vo(t,e){return(zo(t)?_e:hr)(t,ss(e,3))}var _o=Ti(function(t,e,n){Dt.call(t,n)?t[n].push(e):rr(t,n,[e])}),wo=Gr(function(t,e,n){var i=-1,s="function"==typeof e,o=Wo(t)?r(t.length):[];return ur(t,function(t){o[++i]=s?be(e,t,n):Tr(t,e,n)}),o}),Co=Ti(function(t,e,n){rr(t,n,e)});function Eo(t,e){return(zo(t)?xe:Fr)(t,ss(e,3))}var So=Ti(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),xo=Gr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ms(t,e[0],e[1])?e=[]:n>2&&ms(e[0],e[1],e[2])&&(e=[e[0]]),Ur(t,gr(e,1),[])}),Oo=ue||function(){return se.Date.now()};function Io(t,e,n){return e=n?i:e,$i(t,l,i,i,i,i,e=t&&null==e?t.length:e)}function To(t,e){var n;if("function"!=typeof e)throw new It(s);return t=pa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var ko=Gr(function(t,e,n){var r=1;if(n.length){var i=en(n,is(ko));r|=c}return $i(t,r,e,n,i)}),Ao=Gr(function(t,e,n){var r=3;if(n.length){var i=en(n,is(Ao));r|=c}return $i(e,r,t,n,i)});function Po(t,e,n){var r,o,a,c,l,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new It(s);function g(e){var n=r,s=o;return r=o=i,h=e,c=t.apply(s,n)}function m(t){return h=t,l=Ts(y,e),d?g(t):c}function b(t){var n=t-u;return u===i||n>=e||n<0||f&&t-h>=a}function y(){var t=Oo();if(b(t))return v(t);l=Ts(y,function(t){var n=e-(t-u);return f?bn(n,a-(t-h)):n}(t))}function v(t){return l=i,p&&r?g(t):(r=o=i,c)}function _(){var t=Oo(),n=b(t);if(r=arguments,o=this,u=t,n){if(l===i)return m(u);if(f)return vi(l),l=Ts(y,e),g(u)}return l===i&&(l=Ts(y,e)),c}return e=ma(e)||0,ta(n)&&(d=!!n.leading,a=(f="maxWait"in n)?mn(ma(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){l!==i&&vi(l),h=0,r=u=o=l=i},_.flush=function(){return l===i?c:v(Oo())},_}var Do=Gr(function(t,e){return cr(t,1,e)}),Ro=Gr(function(t,e,n){return cr(t,ma(e)||0,n)});function jo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(jo.Cache||Kn),n}function No(t){if("function"!=typeof t)throw new It(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}jo.Cache=Kn;var Fo=bi(function(t,e){var n=(e=1==e.length&&zo(e[0])?xe(e[0],qe(ss())):xe(gr(e,1),qe(ss()))).length;return Gr(function(r){for(var i=-1,s=bn(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return be(t,this,r)})}),Lo=Gr(function(t,e){var n=en(e,is(Lo));return $i(t,c,i,e,n)}),Mo=Gr(function(t,e){var n=en(e,is(Mo));return $i(t,64,i,e,n)}),Bo=Ji(function(t,e){return $i(t,256,i,i,i,e)});function Vo(t,e){return t===e||t!=t&&e!=e}var Uo=qi(Sr),Ho=qi(function(t,e){return t>=e}),qo=kr(function(){return arguments}())?kr:function(t){return ea(t)&&Dt.call(t,"callee")&&!$t.call(t,"callee")},zo=r.isArray,Ko=he?qe(he):function(t){return ea(t)&&Er(t)==P};function Wo(t){return null!=t&&Jo(t.length)&&!Xo(t)}function Go(t){return ea(t)&&Wo(t)}var $o=dn||mc,Qo=de?qe(de):function(t){return ea(t)&&Er(t)==y};function Yo(t){if(!ea(t))return!1;var e=Er(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ia(t)}function Xo(t){if(!ta(t))return!1;var e=Er(t);return e==_||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zo(t){return"number"==typeof t&&t==pa(t)}function Jo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}var na=fe?qe(fe):function(t){return ea(t)&&hs(t)==C};function ra(t){return"number"==typeof t||ea(t)&&Er(t)==E}function ia(t){if(!ea(t)||Er(t)!=S)return!1;var e=qt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==Ft}var sa=pe?qe(pe):function(t){return ea(t)&&Er(t)==O},oa=ge?qe(ge):function(t){return ea(t)&&hs(t)==I};function aa(t){return"string"==typeof t||!zo(t)&&ea(t)&&Er(t)==T}function ca(t){return"symbol"==typeof t||ea(t)&&Er(t)==k}var la=me?qe(me):function(t){return ea(t)&&Jo(t.length)&&!!Zt[Er(t)]},ua=qi(Nr),ha=qi(function(t,e){return t<=e});function da(t){if(!t)return[];if(Wo(t))return aa(t)?on(t):Oi(t);if(ie&&t[ie])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ie]());var e=hs(t);return(e==C?Je:e==I?nn:Va)(t)}function fa(t){return t?(t=ma(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function pa(t){var e=fa(t),n=e%1;return e==e?n?e-n:e:0}function ga(t){return t?sr(pa(t),0,f):0}function ma(t){if("number"==typeof t)return t;if(ca(t))return d;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=He(t);var n=pt.test(t);return n||mt.test(t)?ne(t.slice(2),n?2:8):ft.test(t)?d:+t}function ba(t){return Ii(t,Da(t))}function ya(t){return null==t?"":oi(t)}var va=ki(function(t,e){if(_s(e)||Wo(e))Ii(e,Pa(e),t);else for(var n in e)Dt.call(e,n)&&Jn(t,n,e[n])}),_a=ki(function(t,e){Ii(e,Da(e),t)}),wa=ki(function(t,e,n,r){Ii(e,Da(e),t,r)}),Ca=ki(function(t,e,n,r){Ii(e,Pa(e),t,r)}),Ea=Ji(ir),Sa=Gr(function(t,e){t=St(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&ms(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=Da(o),c=-1,l=a.length;++c<l;){var u=a[c],h=t[u];(h===i||Vo(h,kt[u])&&!Dt.call(t,u))&&(t[u]=o[u])}return t}),xa=Gr(function(t){return t.push(i,Yi),be(ja,i,t)});function Oa(t,e,n){var r=null==t?i:wr(t,e);return r===i?n:r}function Ia(t,e){return null!=t&&ds(t,e,Or)}var Ta=Mi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=n},tc(rc)),ka=Mi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]},ss),Aa=Gr(Tr);function Pa(t){return Wo(t)?$n(t):jr(t)}function Da(t){return Wo(t)?$n(t,!0):function(t){if(!ta(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=_s(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}(t)}var Ra=ki(function(t,e,n){Br(t,e,n)}),ja=ki(function(t,e,n,r){Br(t,e,n,r)}),Na=Ji(function(t,e){var n={};if(null==t)return n;var r=!1;e=xe(e,function(e){return e=mi(e,t),r||(r=e.length>1),e}),Ii(t,es(t),n),r&&(n=or(n,7,Xi));for(var i=e.length;i--;)ci(n,e[i]);return n}),Fa=Ji(function(t,e){return null==t?{}:function(t,e){return Hr(t,e,function(e,n){return Ia(t,n)})}(t,e)});function La(t,e){if(null==t)return{};var n=xe(es(t),function(t){return[t]});return e=ss(e),Hr(t,n,function(t,n){return e(t,n[0])})}var Ma=Gi(Pa),Ba=Gi(Da);function Va(t){return null==t?[]:ze(t,Pa(t))}var Ua=Ri(function(t,e,n){return e=e.toLowerCase(),t+(n?Ha(e):e)});function Ha(t){return Ya(ya(t).toLowerCase())}function qa(t){return(t=ya(t))&&t.replace(yt,Qe).replace(Kt,"")}var za=Ri(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ka=Ri(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wa=Di("toLowerCase"),Ga=Ri(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),$a=Ri(function(t,e,n){return t+(n?" ":"")+Ya(e)}),Qa=Ri(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ya=Di("toUpperCase");function Xa(t,e,n){return t=ya(t),(e=n?i:e)===i?function(t){return Qt.test(t)}(t)?function(t){return t.match(Gt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var Za=Gr(function(t,e){try{return be(t,i,e)}catch(n){return Yo(n)?n:new wt(n)}}),Ja=Ji(function(t,e){return ve(e,function(e){e=Fs(e),rr(t,e,ko(t[e],t))}),t});function tc(t){return function(){return t}}var ec=Fi(),nc=Fi(!0);function rc(t){return t}function ic(t){return Rr("function"==typeof t?t:or(t,1))}var sc=Gr(function(t,e){return function(n){return Tr(n,t,e)}}),oc=Gr(function(t,e){return function(n){return Tr(t,n,e)}});function ac(t,e,n){var r=Pa(e),i=_r(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=_r(e,Pa(e)));var s=!(ta(n)&&"chain"in n&&!n.chain),o=Xo(t);return ve(i,function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Oe([this.value()],arguments))})}),t}function cc(){}var lc=Vi(xe),uc=Vi(we),hc=Vi(ke);function dc(t){return bs(t)?Le(Fs(t)):function(t){return function(e){return wr(e,t)}}(t)}var fc=Hi(),pc=Hi(!0);function gc(){return[]}function mc(){return!1}var bc,yc=Bi(function(t,e){return t+e},0),vc=Ki("ceil"),_c=Bi(function(t,e){return t/e},1),wc=Ki("floor"),Cc=Bi(function(t,e){return t*e},1),Ec=Ki("round"),Sc=Bi(function(t,e){return t-e},0);return Mn.after=function(t,e){if("function"!=typeof e)throw new It(s);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Mn.ary=Io,Mn.assign=va,Mn.assignIn=_a,Mn.assignInWith=wa,Mn.assignWith=Ca,Mn.at=Ea,Mn.before=To,Mn.bind=ko,Mn.bindAll=Ja,Mn.bindKey=Ao,Mn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return zo(t)?t:[t]},Mn.chain=ho,Mn.chunk=function(t,e,n){e=(n?ms(t,e,n):e===i)?1:mn(pa(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,c=r(Me(s/e));o<s;)c[a++]=ti(t,o,o+=e);return c},Mn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},Mn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Oe(zo(n)?Oi(n):[n],gr(e,1))},Mn.cond=function(t){var e=null==t?0:t.length,n=ss();return t=e?xe(t,function(t){if("function"!=typeof t[1])throw new It(s);return[n(t[0]),t[1]]}):[],Gr(function(n){for(var r=-1;++r<e;){var i=t[r];if(be(i[0],this,n))return be(i[1],this,n)}})},Mn.conforms=function(t){return function(t){var e=Pa(t);return function(n){return ar(n,t,e)}}(or(t,1))},Mn.constant=tc,Mn.countBy=go,Mn.create=function(t,e){var n=Bn(t);return null==e?n:nr(n,e)},Mn.curry=function t(e,n,r){var s=$i(e,8,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Mn.curryRight=function t(e,n,r){var s=$i(e,16,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Mn.debounce=Po,Mn.defaults=Sa,Mn.defaultsDeep=xa,Mn.defer=Do,Mn.delay=Ro,Mn.difference=Bs,Mn.differenceBy=Vs,Mn.differenceWith=Us,Mn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=n||e===i?1:pa(e))<0?0:e,r):[]},Mn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,0,(e=r-(e=n||e===i?1:pa(e)))<0?0:e):[]},Mn.dropRightWhile=function(t,e){return t&&t.length?ui(t,ss(e,3),!0,!0):[]},Mn.dropWhile=function(t,e){return t&&t.length?ui(t,ss(e,3),!0):[]},Mn.fill=function(t,e,n,r){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&ms(t,e,n)&&(n=0,r=s),function(t,e,n,r){var s=t.length;for((n=pa(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:pa(r))<0&&(r+=s),r=n>r?0:ga(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Mn.filter=function(t,e){return(zo(t)?Ce:pr)(t,ss(e,3))},Mn.flatMap=function(t,e){return gr(Eo(t,e),1)},Mn.flatMapDeep=function(t,e){return gr(Eo(t,e),u)},Mn.flatMapDepth=function(t,e,n){return n=n===i?1:pa(n),gr(Eo(t,e),n)},Mn.flatten=zs,Mn.flattenDeep=function(t){return null!=t&&t.length?gr(t,u):[]},Mn.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===i?1:pa(e)):[]},Mn.flip=function(t){return $i(t,512)},Mn.flow=ec,Mn.flowRight=nc,Mn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Mn.functions=function(t){return null==t?[]:_r(t,Pa(t))},Mn.functionsIn=function(t){return null==t?[]:_r(t,Da(t))},Mn.groupBy=_o,Mn.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},Mn.intersection=Ws,Mn.intersectionBy=Gs,Mn.intersectionWith=$s,Mn.invert=Ta,Mn.invertBy=ka,Mn.invokeMap=wo,Mn.iteratee=ic,Mn.keyBy=Co,Mn.keys=Pa,Mn.keysIn=Da,Mn.map=Eo,Mn.mapKeys=function(t,e){var n={};return e=ss(e,3),yr(t,function(t,r,i){rr(n,e(t,r,i),t)}),n},Mn.mapValues=function(t,e){var n={};return e=ss(e,3),yr(t,function(t,r,i){rr(n,r,e(t,r,i))}),n},Mn.matches=function(t){return Lr(or(t,1))},Mn.matchesProperty=function(t,e){return Mr(t,or(e,1))},Mn.memoize=jo,Mn.merge=Ra,Mn.mergeWith=ja,Mn.method=sc,Mn.methodOf=oc,Mn.mixin=ac,Mn.negate=No,Mn.nthArg=function(t){return t=pa(t),Gr(function(e){return Vr(e,t)})},Mn.omit=Na,Mn.omitBy=function(t,e){return La(t,No(ss(e)))},Mn.once=function(t){return To(2,t)},Mn.orderBy=function(t,e,n,r){return null==t?[]:(zo(e)||(e=null==e?[]:[e]),zo(n=r?i:n)||(n=null==n?[]:[n]),Ur(t,e,n))},Mn.over=lc,Mn.overArgs=Fo,Mn.overEvery=uc,Mn.overSome=hc,Mn.partial=Lo,Mn.partialRight=Mo,Mn.partition=So,Mn.pick=Fa,Mn.pickBy=La,Mn.property=dc,Mn.propertyOf=function(t){return function(e){return null==t?i:wr(t,e)}},Mn.pull=Ys,Mn.pullAll=Xs,Mn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,ss(n,2)):t},Mn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,i,n):t},Mn.pullAt=Zs,Mn.range=fc,Mn.rangeRight=pc,Mn.rearg=Bo,Mn.reject=function(t,e){return(zo(t)?Ce:pr)(t,No(ss(e,3)))},Mn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=ss(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return zr(t,i),n},Mn.rest=function(t,e){if("function"!=typeof t)throw new It(s);return Gr(t,e=e===i?e:pa(e))},Mn.reverse=Js,Mn.sampleSize=function(t,e,n){return e=(n?ms(t,e,n):e===i)?1:pa(e),(zo(t)?Yn:Qr)(t,e)},Mn.set=function(t,e,n){return null==t?t:Yr(t,e,n)},Mn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Yr(t,e,n,r)},Mn.shuffle=function(t){return(zo(t)?Xn:Jr)(t)},Mn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ms(t,e,n)?(e=0,n=r):(e=null==e?0:pa(e),n=n===i?r:pa(n)),ti(t,e,n)):[]},Mn.sortBy=xo,Mn.sortedUniq=function(t){return t&&t.length?ii(t):[]},Mn.sortedUniqBy=function(t,e){return t&&t.length?ii(t,ss(e,2)):[]},Mn.split=function(t,e,n){return n&&"number"!=typeof n&&ms(t,e,n)&&(e=n=i),(n=n===i?f:n>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=oi(e))&&Ze(t)?yi(on(t),0,n):t.split(e,n):[]},Mn.spread=function(t,e){if("function"!=typeof t)throw new It(s);return e=null==e?0:mn(pa(e),0),Gr(function(n){var r=n[e],i=yi(n,0,e);return r&&Oe(i,r),be(t,this,i)})},Mn.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},Mn.take=function(t,e,n){return t&&t.length?ti(t,0,(e=n||e===i?1:pa(e))<0?0:e):[]},Mn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=r-(e=n||e===i?1:pa(e)))<0?0:e,r):[]},Mn.takeRightWhile=function(t,e){return t&&t.length?ui(t,ss(e,3),!1,!0):[]},Mn.takeWhile=function(t,e){return t&&t.length?ui(t,ss(e,3)):[]},Mn.tap=function(t,e){return e(t),t},Mn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new It(s);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Po(t,e,{leading:r,maxWait:e,trailing:i})},Mn.thru=fo,Mn.toArray=da,Mn.toPairs=Ma,Mn.toPairsIn=Ba,Mn.toPath=function(t){return zo(t)?xe(t,Fs):ca(t)?[t]:Oi(Ns(ya(t)))},Mn.toPlainObject=ba,Mn.transform=function(t,e,n){var r=zo(t),i=r||$o(t)||la(t);if(e=ss(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:ta(t)&&Xo(s)?Bn(qt(t)):{}}return(i?ve:yr)(t,function(t,r,i){return e(n,t,r,i)}),n},Mn.unary=function(t){return Io(t,1)},Mn.union=to,Mn.unionBy=eo,Mn.unionWith=no,Mn.uniq=function(t){return t&&t.length?ai(t):[]},Mn.uniqBy=function(t,e){return t&&t.length?ai(t,ss(e,2)):[]},Mn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ai(t,i,e):[]},Mn.unset=function(t,e){return null==t||ci(t,e)},Mn.unzip=ro,Mn.unzipWith=io,Mn.update=function(t,e,n){return null==t?t:li(t,e,gi(n))},Mn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:li(t,e,gi(n),r)},Mn.values=Va,Mn.valuesIn=function(t){return null==t?[]:ze(t,Da(t))},Mn.without=so,Mn.words=Xa,Mn.wrap=function(t,e){return Lo(gi(e),t)},Mn.xor=oo,Mn.xorBy=ao,Mn.xorWith=co,Mn.zip=lo,Mn.zipObject=function(t,e){return fi(t||[],e||[],Jn)},Mn.zipObjectDeep=function(t,e){return fi(t||[],e||[],Yr)},Mn.zipWith=uo,Mn.entries=Ma,Mn.entriesIn=Ba,Mn.extend=_a,Mn.extendWith=wa,ac(Mn,Mn),Mn.add=yc,Mn.attempt=Za,Mn.camelCase=Ua,Mn.capitalize=Ha,Mn.ceil=vc,Mn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ma(n))==n?n:0),e!==i&&(e=(e=ma(e))==e?e:0),sr(ma(t),e,n)},Mn.clone=function(t){return or(t,4)},Mn.cloneDeep=function(t){return or(t,5)},Mn.cloneDeepWith=function(t,e){return or(t,5,e="function"==typeof e?e:i)},Mn.cloneWith=function(t,e){return or(t,4,e="function"==typeof e?e:i)},Mn.conformsTo=function(t,e){return null==e||ar(t,e,Pa(e))},Mn.deburr=qa,Mn.defaultTo=function(t,e){return null==t||t!=t?e:t},Mn.divide=_c,Mn.endsWith=function(t,e,n){t=ya(t),e=oi(e);var r=t.length,s=n=n===i?r:sr(pa(n),0,r);return(n-=e.length)>=0&&t.slice(n,s)==e},Mn.eq=Vo,Mn.escape=function(t){return(t=ya(t))&&$.test(t)?t.replace(W,Ye):t},Mn.escapeRegExp=function(t){return(t=ya(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Mn.every=function(t,e,n){var r=zo(t)?we:dr;return n&&ms(t,e,n)&&(e=i),r(t,ss(e,3))},Mn.find=mo,Mn.findIndex=Hs,Mn.findKey=function(t,e){return Pe(t,ss(e,3),yr)},Mn.findLast=bo,Mn.findLastIndex=qs,Mn.findLastKey=function(t,e){return Pe(t,ss(e,3),vr)},Mn.floor=wc,Mn.forEach=yo,Mn.forEachRight=vo,Mn.forIn=function(t,e){return null==t?t:mr(t,ss(e,3),Da)},Mn.forInRight=function(t,e){return null==t?t:br(t,ss(e,3),Da)},Mn.forOwn=function(t,e){return t&&yr(t,ss(e,3))},Mn.forOwnRight=function(t,e){return t&&vr(t,ss(e,3))},Mn.get=Oa,Mn.gt=Uo,Mn.gte=Ho,Mn.has=function(t,e){return null!=t&&ds(t,e,xr)},Mn.hasIn=Ia,Mn.head=Ks,Mn.identity=rc,Mn.includes=function(t,e,n,r){t=Wo(t)?t:Va(t),n=n&&!r?pa(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),aa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Re(t,e,n)>-1},Mn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),Re(t,e,i)},Mn.inRange=function(t,e,n){return e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n){return t>=bn(e,n)&&t<mn(e,n)}(t=ma(t),e,n)},Mn.invoke=Aa,Mn.isArguments=qo,Mn.isArray=zo,Mn.isArrayBuffer=Ko,Mn.isArrayLike=Wo,Mn.isArrayLikeObject=Go,Mn.isBoolean=function(t){return!0===t||!1===t||ea(t)&&Er(t)==b},Mn.isBuffer=$o,Mn.isDate=Qo,Mn.isElement=function(t){return ea(t)&&1===t.nodeType&&!ia(t)},Mn.isEmpty=function(t){if(null==t)return!0;if(Wo(t)&&(zo(t)||"string"==typeof t||"function"==typeof t.splice||$o(t)||la(t)||qo(t)))return!t.length;var e=hs(t);if(e==C||e==I)return!t.size;if(_s(t))return!jr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},Mn.isEqual=function(t,e){return Ar(t,e)},Mn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Ar(t,e,i,n):!!r},Mn.isError=Yo,Mn.isFinite=function(t){return"number"==typeof t&&fn(t)},Mn.isFunction=Xo,Mn.isInteger=Zo,Mn.isLength=Jo,Mn.isMap=na,Mn.isMatch=function(t,e){return t===e||Pr(t,e,as(e))},Mn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Pr(t,e,as(e),n)},Mn.isNaN=function(t){return ra(t)&&t!=+t},Mn.isNative=function(t){if(vs(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(t)},Mn.isNil=function(t){return null==t},Mn.isNull=function(t){return null===t},Mn.isNumber=ra,Mn.isObject=ta,Mn.isObjectLike=ea,Mn.isPlainObject=ia,Mn.isRegExp=sa,Mn.isSafeInteger=function(t){return Zo(t)&&t>=-9007199254740991&&t<=h},Mn.isSet=oa,Mn.isString=aa,Mn.isSymbol=ca,Mn.isTypedArray=la,Mn.isUndefined=function(t){return t===i},Mn.isWeakMap=function(t){return ea(t)&&hs(t)==A},Mn.isWeakSet=function(t){return ea(t)&&"[object WeakSet]"==Er(t)},Mn.join=function(t,e){return null==t?"":pn.call(t,e)},Mn.kebabCase=za,Mn.last=Qs,Mn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=pa(n))<0?mn(r+s,0):bn(s,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):De(t,Ne,s,!0)},Mn.lowerCase=Ka,Mn.lowerFirst=Wa,Mn.lt=ua,Mn.lte=ha,Mn.max=function(t){return t&&t.length?fr(t,rc,Sr):i},Mn.maxBy=function(t,e){return t&&t.length?fr(t,ss(e,2),Sr):i},Mn.mean=function(t){return Fe(t,rc)},Mn.meanBy=function(t,e){return Fe(t,ss(e,2))},Mn.min=function(t){return t&&t.length?fr(t,rc,Nr):i},Mn.minBy=function(t,e){return t&&t.length?fr(t,ss(e,2),Nr):i},Mn.stubArray=gc,Mn.stubFalse=mc,Mn.stubObject=function(){return{}},Mn.stubString=function(){return""},Mn.stubTrue=function(){return!0},Mn.multiply=Cc,Mn.nth=function(t,e){return t&&t.length?Vr(t,pa(e)):i},Mn.noConflict=function(){return se._===this&&(se._=Lt),this},Mn.noop=cc,Mn.now=Oo,Mn.pad=function(t,e,n){t=ya(t);var r=(e=pa(e))?sn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ui(un(i),n)+t+Ui(Me(i),n)},Mn.padEnd=function(t,e,n){t=ya(t);var r=(e=pa(e))?sn(t):0;return e&&r<e?t+Ui(e-r,n):t},Mn.padStart=function(t,e,n){t=ya(t);var r=(e=pa(e))?sn(t):0;return e&&r<e?Ui(e-r,n)+t:t},Mn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),vn(ya(t).replace(rt,""),e||0)},Mn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ms(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fa(t),e===i?(e=t,t=0):e=fa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=_n();return bn(t+s*(e-t+ee("1e-"+((s+"").length-1))),e)}return Kr(t,e)},Mn.reduce=function(t,e,n){var r=zo(t)?Ie:Be,i=arguments.length<3;return r(t,ss(e,4),n,i,ur)},Mn.reduceRight=function(t,e,n){var r=zo(t)?Te:Be,i=arguments.length<3;return r(t,ss(e,4),n,i,hr)},Mn.repeat=function(t,e,n){return e=(n?ms(t,e,n):e===i)?1:pa(e),Wr(ya(t),e)},Mn.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Mn.result=function(t,e,n){var r=-1,s=(e=mi(e,t)).length;for(s||(s=1,t=i);++r<s;){var o=null==t?i:t[Fs(e[r])];o===i&&(r=s,o=n),t=Xo(o)?o.call(t):o}return t},Mn.round=Ec,Mn.runInContext=t,Mn.sample=function(t){return(zo(t)?Qn:$r)(t)},Mn.size=function(t){if(null==t)return 0;if(Wo(t))return aa(t)?sn(t):t.length;var e=hs(t);return e==C||e==I?t.size:jr(t).length},Mn.snakeCase=Ga,Mn.some=function(t,e,n){var r=zo(t)?ke:ei;return n&&ms(t,e,n)&&(e=i),r(t,ss(e,3))},Mn.sortedIndex=function(t,e){return ni(t,e)},Mn.sortedIndexBy=function(t,e,n){return ri(t,e,ss(n,2))},Mn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Vo(t[r],e))return r}return-1},Mn.sortedLastIndex=function(t,e){return ni(t,e,!0)},Mn.sortedLastIndexBy=function(t,e,n){return ri(t,e,ss(n,2),!0)},Mn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Vo(t[n],e))return n}return-1},Mn.startCase=$a,Mn.startsWith=function(t,e,n){return t=ya(t),n=null==n?0:sr(pa(n),0,t.length),e=oi(e),t.slice(n,n+e.length)==e},Mn.subtract=Sc,Mn.sum=function(t){return t&&t.length?Ve(t,rc):0},Mn.sumBy=function(t,e){return t&&t.length?Ve(t,ss(e,2)):0},Mn.template=function(t,e,n){var r=Mn.templateSettings;n&&ms(t,e,n)&&(e=i),t=ya(t),e=wa({},e,r,Qi);var s,o,a=wa({},e.imports,r.imports,Qi),c=Pa(a),l=ze(a,c),u=0,h=e.interpolate||vt,d="__p += '",f=xt((e.escape||vt).source+"|"+h.source+"|"+(h===X?ht:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),p="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xt+"]")+"\n";t.replace(f,function(e,n,r,i,a,c){return r||(r=i),d+=t.slice(u,c).replace(_t,Xe),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+e.length,e}),d+="';\n";var g=Dt.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(H,""):d).replace(q,"$1").replace(z,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Za(function(){return Ct(c,p+"return "+d).apply(i,l)});if(m.source=d,Yo(m))throw m;return m},Mn.times=function(t,e){if((t=pa(t))<1||t>h)return[];var n=f,r=bn(t,f);e=ss(e),t-=f;for(var i=Ue(r,e);++n<t;)e(n);return i},Mn.toFinite=fa,Mn.toInteger=pa,Mn.toLength=ga,Mn.toLower=function(t){return ya(t).toLowerCase()},Mn.toNumber=ma,Mn.toSafeInteger=function(t){return t?sr(pa(t),-9007199254740991,h):0===t?t:0},Mn.toString=ya,Mn.toUpper=function(t){return ya(t).toUpperCase()},Mn.trim=function(t,e,n){if((t=ya(t))&&(n||e===i))return He(t);if(!t||!(e=oi(e)))return t;var r=on(t),s=on(e);return yi(r,We(r,s),Ge(r,s)+1).join("")},Mn.trimEnd=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.slice(0,an(t)+1);if(!t||!(e=oi(e)))return t;var r=on(t);return yi(r,0,Ge(r,on(e))+1).join("")},Mn.trimStart=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=oi(e)))return t;var r=on(t);return yi(r,We(r,on(e))).join("")},Mn.truncate=function(t,e){var n=30,r="...";if(ta(e)){var s="separator"in e?e.separator:s;n="length"in e?pa(e.length):n,r="omission"in e?oi(e.omission):r}var o=(t=ya(t)).length;if(Ze(t)){var a=on(t);o=a.length}if(n>=o)return t;var c=n-sn(r);if(c<1)return r;var l=a?yi(a,0,c).join(""):t.slice(0,c);if(s===i)return l+r;if(a&&(c+=l.length-c),sa(s)){if(t.slice(c).search(s)){var u,h=l;for(s.global||(s=xt(s.source,ya(dt.exec(s))+"g")),s.lastIndex=0;u=s.exec(h);)var d=u.index;l=l.slice(0,d===i?c:d)}}else if(t.indexOf(oi(s),c)!=c){var f=l.lastIndexOf(s);f>-1&&(l=l.slice(0,f))}return l+r},Mn.unescape=function(t){return(t=ya(t))&&G.test(t)?t.replace(K,cn):t},Mn.uniqueId=function(t){var e=++Rt;return ya(t)+e},Mn.upperCase=Qa,Mn.upperFirst=Ya,Mn.each=yo,Mn.eachRight=vo,Mn.first=Ks,ac(Mn,(bc={},yr(Mn,function(t,e){Dt.call(Mn.prototype,e)||(bc[e]=t)}),bc),{chain:!1}),Mn.VERSION="4.17.21",ve(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Mn[t].placeholder=Mn}),ve(["drop","take"],function(t,e){Hn.prototype[t]=function(n){n=n===i?1:mn(pa(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,f),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ve(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ss(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),ve(["head","last"],function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}}),ve(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}}),Hn.prototype.compact=function(){return this.filter(rc)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Gr(function(t,e){return"function"==typeof t?new Hn(this):this.map(function(n){return Tr(n,t,e)})}),Hn.prototype.reject=function(t){return this.filter(No(ss(t)))},Hn.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(f)},yr(Hn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=Mn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);s&&(Mn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,c=e instanceof Hn,l=a[0],u=c||zo(e),h=function(t){var e=s.apply(Mn,Oe([t],a));return r&&d?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=c&&!f;if(!o&&u){e=g?e:new Hn(this);var m=t.apply(e,a);return m.__actions__.push({func:fo,args:[h],thisArg:i}),new Un(m,d)}return p&&g?t.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})}),ve(["pop","push","shift","sort","splice","unshift"],function(t){var e=Tt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Mn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(zo(i)?i:[],t)}return this[n](function(n){return e.apply(zo(n)?n:[],t)})}}),yr(Hn.prototype,function(t,e){var n=Mn[e];if(n){var r=n.name+"";Dt.call(kn,r)||(kn[r]=[]),kn[r].push({name:e,func:n})}}),kn[Li(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=zo(t),r=e<0,i=n?t.length:0,s=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=bn(e,t+o);break;case"takeRight":t=mn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,l=r?a:o-1,u=this.__iteratees__,h=u.length,d=0,f=bn(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return hi(t,this.__actions__);var p=[];t:for(;c--&&d<f;){for(var g=-1,m=t[l+=e];++g<h;){var b=u[g],y=b.type,v=(0,b.iteratee)(m);if(2==y)m=v;else if(!v){if(1==y)continue t;break t}}p[d++]=m}return p},Mn.prototype.at=po,Mn.prototype.chain=function(){return ho(this)},Mn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Mn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Mn.prototype.plant=function(t){for(var e,n=this;n instanceof Vn;){var r=Ms(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e},Mn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:fo,args:[Js],thisArg:i}),new Un(e,this.__chain__)}return this.thru(Js)},Mn.prototype.toJSON=Mn.prototype.valueOf=Mn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Mn.prototype.first=Mn.prototype.head,ie&&(Mn.prototype[ie]=function(){return this}),Mn}();se._=ln,(r=(function(){return ln}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[o.a])return u=t,t=>{const e=u[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return fn}),n.d(e,"b",function(){return fu}),n.d(e,"c",function(){return cu}),n.d(e,"d",function(){return ou}),n.d(e,"e",function(){return au}),n.d(e,"f",function(){return oh}),n.d(e,"g",function(){return Yu}),n.d(e,"h",function(){return nl}),n.d(e,"i",function(){return Su}),n.d(e,"j",function(){return Oc}),n.d(e,"k",function(){return mu}),n.d(e,"l",function(){return Ac}),n.d(e,"m",function(){return Rr}),n.d(e,"n",function(){return Bl}),n.d(e,"o",function(){return Ns}),n.d(e,"p",function(){return jn}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return dn}),n.d(e,"s",function(){return Xs}),n.d(e,"t",function(){return Qc}),n.d(e,"u",function(){return Xc}),n.d(e,"v",function(){return gu}),n.d(e,"w",function(){return fl}),n.d(e,"x",function(){return Zu}),n.d(e,"y",function(){return dl}),n.d(e,"z",function(){return Ku}),n.d(e,"A",function(){return Iu}),n.d(e,"B",function(){return Nn}),n.d(e,"C",function(){return du}),n.d(e,"D",function(){return hu}),n.d(e,"E",function(){return Ul}),n.d(e,"F",function(){return Rc}),n.d(e,"G",function(){return Dc}),n.d(e,"H",function(){return Vr}),n.d(e,"I",function(){return Nc}),n.d(e,"J",function(){return Or}),n.d(e,"K",function(){return Fn}),n.d(e,"L",function(){return eh}),n.d(e,"M",function(){return cl}),n.d(e,"N",function(){return ju}),n.d(e,"O",function(){return pn}),n.d(e,"P",function(){return Lc}),n.d(e,"Q",function(){return Fc}),n.d(e,"R",function(){return gl}),n.d(e,"S",function(){return F}),n.d(e,"T",function(){return Wu}),n.d(e,"U",function(){return qu}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return Pn}),n.d(e,"X",function(){return Hu}),n.d(e,"Y",function(){return ih}),n.d(e,"Z",function(){return Lu}),n.d(e,"ab",function(){return pu}),n.d(e,"bb",function(){return Ls}),n.d(e,"cb",function(){return Ca}),n.d(e,"db",function(){return Sr}),n.d(e,"eb",function(){return or}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Yn}),n.d(e,"hb",function(){return tr}),n.d(e,"ib",function(){return Zn}),n.d(e,"jb",function(){return Xn}),n.d(e,"kb",function(){return Jn}),n.d(e,"lb",function(){return ya}),n.d(e,"mb",function(){return rh}),n.d(e,"nb",function(){return va}),n.d(e,"ob",function(){return _a}),n.d(e,"pb",function(){return Qn}),n.d(e,"qb",function(){return U}),n.d(e,"rb",function(){return ao}),n.d(e,"sb",function(){return To}),n.d(e,"tb",function(){return Oo}),n.d(e,"ub",function(){return Io}),n.d(e,"vb",function(){return ba}),n.d(e,"wb",function(){return It}),n.d(e,"xb",function(){return u}),n.d(e,"yb",function(){return Gn}),n.d(e,"zb",function(){return Js}),n.d(e,"Ab",function(){return _t}),n.d(e,"Bb",function(){return Ec}),n.d(e,"Cb",function(){return Fi}),n.d(e,"Db",function(){return fo}),n.d(e,"Eb",function(){return $o}),n.d(e,"Fb",function(){return ua}),n.d(e,"Gb",function(){return ha}),n.d(e,"Hb",function(){return Go}),n.d(e,"Ib",function(){return Jl}),n.d(e,"Jb",function(){return J}),n.d(e,"Kb",function(){return ot}),n.d(e,"Lb",function(){return w}),n.d(e,"Mb",function(){return C}),n.d(e,"Nb",function(){return rt}),n.d(e,"Ob",function(){return at}),n.d(e,"Pb",function(){return bo}),n.d(e,"Qb",function(){return Co}),n.d(e,"Rb",function(){return So}),n.d(e,"Sb",function(){return Eo}),n.d(e,"Tb",function(){return wo}),n.d(e,"Ub",function(){return _o}),n.d(e,"Vb",function(){return xo}),n.d(e,"Wb",function(){return an}),n.d(e,"Xb",function(){return da}),n.d(e,"Yb",function(){return fc}),n.d(e,"Zb",function(){return gc}),n.d(e,"ac",function(){return pc}),n.d(e,"bc",function(){return An}),n.d(e,"cc",function(){return ln}),n.d(e,"dc",function(){return su}),n.d(e,"ec",function(){return ko}),n.d(e,"fc",function(){return tu}),n.d(e,"gc",function(){return Se}),n.d(e,"hc",function(){return Ee}),n.d(e,"ic",function(){return jo}),n.d(e,"jc",function(){return Fl}),n.d(e,"kc",function(){return Ll}),n.d(e,"lc",function(){return Lo}),n.d(e,"mc",function(){return Fo}),n.d(e,"nc",function(){return yo}),n.d(e,"oc",function(){return Mo}),n.d(e,"pc",function(){return Bo}),n.d(e,"qc",function(){return Al}),n.d(e,"rc",function(){return Pl}),n.d(e,"sc",function(){return Dl}),n.d(e,"tc",function(){return Rl}),n.d(e,"uc",function(){return Xl}),n.d(e,"vc",function(){return mo}),n.d(e,"wc",function(){return Mr}),n.d(e,"xc",function(){return Gt}),n.d(e,"yc",function(){return Ir}),n.d(e,"zc",function(){return Tr}),n.d(e,"Ac",function(){return it}),n.d(e,"Bc",function(){return Wo}),n.d(e,"Cc",function(){return Ao}),n.d(e,"Dc",function(){return fa}),n.d(e,"Ec",function(){return go}),n.d(e,"Fc",function(){return iu}),n.d(e,"Gc",function(){return oa}),n.d(e,"Hc",function(){return aa}),n.d(e,"Ic",function(){return ca}),n.d(e,"Jc",function(){return la}),n.d(e,"Kc",function(){return Zl});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return u(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${y(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return S(t,O)||S(t,T)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(k))?t[I]:null}const O=c({"\u0275prov":c}),I=c({"\u0275inj":c}),T=c({ngInjectableDef:c}),k=c({ngInjectorDef:c});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void v(u(t),"Injector")}function j(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=L||V||M||B,H={},q=[],z=[],K=c({"\u0275cmp":c}),W=c({"\u0275dir":c}),G=c({"\u0275pipe":c}),$=c({"\u0275mod":c}),Q=c({"\u0275loc":c}),Y=c({"\u0275fac":c}),X=c({__NG_ELEMENT_ID__:c});let Z=0;function J(t){return j(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[W]||null}(t)}function et(t){return function(t){return t[G]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&j(()=>{nt[t.id]=t.type}),e}function it(t,e){return j(()=>{const n=lt(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const ut=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),Ct}function Ct(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new vt(c&&c.currentValue,e,o===H),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const xt="http://www.w3.org/2000/svg";let Ot;function It(t){Ot=t}function Tt(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}const At={createRenderer:(t,e)=>Tt()};function Pt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Pt(e[t])}function Rt(t,e){return Pt(e[t.index])}function jt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Ft(t,e){const n=e[t];return dt(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Bt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Ht(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return qt.bindingsEnabled}function Kt(){return qt.lFrame.lView}function Wt(){return qt.lFrame.tView}function Gt(t){qt.lFrame.contextLView=t}function $t(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return qt.lFrame.currentTNode}function Yt(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return qt.lFrame.isParent}function Jt(){qt.lFrame.isParent=!1}function te(){return qt.isInCheckNoChangesMode}function ee(t){qt.isInCheckNoChangesMode=t}function ne(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return qt.lFrame.bindingIndex}function ie(){return qt.lFrame.bindingIndex++}function se(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t){qt.lFrame.inI18n=t}function ae(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ce(e)}function ce(t){qt.lFrame.currentDirectiveIndex=t}function le(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ue(){return qt.lFrame.currentQueryIndex}function he(t){qt.lFrame.currentQueryIndex=t}function de(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fe(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=de(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ge();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=ge(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ge(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function be(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ye=be;function ve(){const t=be();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return qt.lFrame.selectedIndex}function we(t){qt.lFrame.selectedIndex=t}function Ce(){const t=qt.lFrame;return jt(t.tView,t.selectedIndex)}function Ee(){qt.lFrame.currentNamespace=xt}function Se(){qt.lFrame.currentNamespace=null}function xe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){ke(t,e,3,n)}function Ie(t,e,n,r){(3&t[2])===n&&ke(t,e,n,r)}function Te(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ke(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ae(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ae(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Pe=-1;class De{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Re(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Ne(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Fe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Le(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Le(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Me(t){return t!==Pe}function Be(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function He(t){const e=Ue;return Ue=t,e}let qe=0;function ze(t,e){const n=We(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ke(r.data,t),Ke(e,null),Ke(r.blueprint,null));const i=Ge(t,e),s=t.injectorIndex;if(Me(i)){const t=Be(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ke(t,e){t.push(0,0,0,0,0,0,0,0,e)}function We(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ge(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Pe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Pe}function $e(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=qe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Qe(t,e,n){if(n&A.Optional)return t;v(e,"NodeInjector")}function Ye(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&A.Optional):R(e,r,n&A.Optional)}finally{D(s)}}return Qe(r,e,n)}function Xe(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Je:e}(n);if("function"==typeof s){if(!fe(e,t,r))return r&A.Host?Qe(i,n,r):Ye(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;v(n)}finally{ye()}}else if("number"==typeof s){let i=null,o=We(t,e),a=Pe,c=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Ge(t,e):e[o+8],a!==Pe&&sn(r,!1)?(i=e[1],o=Be(a),e=Ve(a,e)):o=-1);-1!==o;){const t=e[1];if(rn(s,o,t.data)){const t=tn(o,e,n,i,r,c);if(t!==Ze)return t}a=e[o+8],a!==Pe&&sn(r,e[1].data[o+8]===c)&&rn(s,o,e)?(i=t,o=Be(a),e=Ve(a,e)):o=-1}}}return Ye(e,n,r,i)}const Ze={};function Je(){return new on($t(),Kt())}function tn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=en(a,o,n,null==r?gt(a)&&Ue:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==c?nn(e,o,c,a):Ze}function en(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,u=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&bt(t)&&t.type===n)return c}return null}function nn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof De){const o=i;o.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(y(s[n]));const a=He(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?D(o.injectImpl):null;fe(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&D(c),He(a),o.resolving=!1,ye()}}return i}function rn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function sn(t,e){return!(t&A.Self||t&A.Host&&e)}class on{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Xe(this._tNode,this._lView,t,void 0,e)}}function an(t){return j(()=>{const e=t.prototype.constructor,n=e[Y]||cn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||cn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function cn(t){return g(t)?()=>{const e=cn(p(t));return e&&e()}:yt(t)}function ln(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const un="__parameters__";function hn(t,e,n){return j(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class dn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fn=new dn("AnalyzeForEntryComponents"),pn=Function;function gn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),gn(r,e)):e!==t&&e.push(r)}return e}function mn(t,e){t.forEach(t=>Array.isArray(t)?mn(t,e):e(t))}function bn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function _n(t,e,n){let r=Cn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wn(t,e){const n=Cn(t,e);if(n>=0)return t[1|n]}function Cn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const En={},Sn=/\n/gm,xn="__source",On=c({provide:String,useValue:c});let In;function Tn(t){const e=In;return In=t,e}function kn(t,e=A.Default){if(void 0===In)throw new Error("inject() must be called from an injection context");return null===In?R(t,void 0,e):In.get(t,e&A.Optional?null:void 0,e)}function An(t,e=A.Default){return(P||kn)(p(t),e)}const Pn=An;function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(An(t,n))}else e.push(An(r))}return e}function Rn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const jn=Rn(hn("Inject",t=>({token:t})),-1),Nn=Rn(hn("Optional"),8),Fn=Rn(hn("SkipSelf"),4);let Ln,Mn;function Bn(t){var e;return(null===(e=function(){if(void 0===Ln&&(Ln=null,U.trustedTypes))try{Ln=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ln}())||void 0===e?void 0:e.createHTML(t))||t}function Vn(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,U.trustedTypes))try{Mn=U.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}class Un{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hn extends Un{getTypeName(){return"HTML"}}class qn extends Un{getTypeName(){return"Style"}}class zn extends Un{getTypeName(){return"Script"}}class Kn extends Un{getTypeName(){return"URL"}}class Wn extends Un{getTypeName(){return"ResourceURL"}}function Gn(t){return t instanceof Un?t.changingThisBreaksApplicationSecurity:t}function $n(t,e){const n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Qn(t){return t instanceof Un&&t.getTypeName()||null}function Yn(t){return new Hn(t)}function Xn(t){return new qn(t)}function Zn(t){return new zn(t)}function Jn(t){return new Kn(t)}function tr(t){return new Wn(t)}function er(t){const e=new rr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Bn(""),"text/html")}catch(t){return!1}}()?new nr(e):e}class nr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Bn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class rr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Bn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Bn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ir=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function or(t){return(t=String(t)).match(ir)||t.match(sr)?t:"unsafe:"+t}function ar(t){return(t=String(t)).split(",").map(t=>or(t.trim())).join(", ")}function cr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function lr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ur=cr("area,br,col,hr,img,wbr"),hr=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=cr("rp,rt"),fr=lr(dr,hr),pr=lr(ur,lr(hr,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lr(dr,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fr),gr=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=cr("srcset"),br=lr(gr,mr,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yr=cr("script,style,template");class vr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pr.hasOwnProperty(e))return this.sanitizedSomething=!0,!yr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!br.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;gr[i]&&(s=or(s)),mr[i]&&(s=ar(s)),this.buf.push(" ",e,'="',Cr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pr.hasOwnProperty(e)&&!ur.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Cr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const _r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wr=/([^\#-~ |!])/g;function Cr(t){return t.replace(/&/g,"&amp;").replace(_r,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(wr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Er;function Sr(t,e){let n=null;try{Er=Er||er(t);let r=e?String(e):"";n=Er.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Er.getInertBodyElement(r)}while(r!==s);return Bn((new vr).sanitizeChildren(xr(n)||n))}finally{if(n){const t=xr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function xr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Ir(t){const e=kr();return e?Vn(e.sanitize(Or.HTML,t)||""):$n(t,"HTML")?Vn(Gn(t)):Sr(Tt(),b(t))}function Tr(t){const e=kr();return e?e.sanitize(Or.URL,t)||"":$n(t,"URL")?Gn(t):or(b(t))}function kr(){const t=Kt();return t&&t[12]}function Ar(t){return t.ngDebugContext}function Pr(t){return t.ngOriginalError}function Dr(t,...e){t.error(...e)}class Rr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Dr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ar(t)?Ar(t):this._findContext(Pr(t)):null}_findOriginalError(t){let e=Pr(t);for(;e&&Pr(e);)e=Pr(e);return e}}const jr=/^>|^->|<!--|-->|--!>|<!-$/g,Nr=/(<|>)/;function Fr(t,e){t.__ngContext__=e}const Lr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function Mr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Br(t){return t instanceof Function?t():t}var Vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ur;function Hr(t,e){return Ur(t,e)}function qr(t){const e=t[3];return ft(e)?e[3]:e}function zr(t){return Wr(t[13])}function Kr(t){return Wr(t[4])}function Wr(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Gr(t,e,n,r,i){if(null!=r){let s,o=!1;ft(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Pt(r);0===t&&null!==n?null==i?si(e,n,a):ii(e,n,a,i||null,!0):1===t&&null!==n?ii(e,n,a,i||null,!0):2===t?bi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Pt(n)&&Gr(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];vi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function $r(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}function Qr(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}function Yr(t,e){return t.createComment(function(t){return t.replace(jr,t=>t.replace(Nr,"\u200b$1\u200b"))}(e))}function Xr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Zr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ht(i,-1)),n.splice(r,1)}function Jr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Zr(s,r),e>0&&(t[n-1][4]=r[4]);const o=yn(t,ht+e);vi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function ti(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&vi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return ei(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&ei(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&ei(e[1],e),n=e&&e[4]}e=n}}(e)}}function ei(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof De)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Pt(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Zr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function ni(t,e,n){return ri(t,e.parent,n)}function ri(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Rt(r,n)}function ii(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function si(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function oi(t,e,n,r,i){null!==r?ii(t,e,n,r,i):si(t,e,n)}function ai(t,e){return kt(t)?t.parentNode(e):e.parentNode}function ci(t,e,n){return hi(t,e,n)}function li(t,e,n){return 40&t.type?Rt(t,n):null}let ui,hi=li;function di(t,e){hi=t,ui=e}function fi(t,e,n,r){const i=ni(t,r,e),s=e[11],o=ci(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)oi(s,i,n[a],o,!1);else oi(s,i,n,o,!1);void 0!==ui&&ui(s,r,e,n,i)}function pi(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return mi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return pi(t,n);{const n=t[e.index];return ft(n)?mi(-1,n):Pt(n)}}if(32&n)return Hr(e,t)()||Pt(t[e.index]);{const n=gi(t,e);return null!==n?Array.isArray(n)?n[0]:pi(qr(t[16]),n):pi(t,e.next)}}return null}function gi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function mi(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return pi(t,r)}return e[7]}function bi(t,e,n){const r=ai(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function yi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Fr(Pt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)yi(t,e,n.child,r,i,s,!1),Gr(e,t,i,a,s);else if(32&c){const o=Hr(n,r);let c;for(;c=o();)Gr(e,t,i,c,s);Gr(e,t,i,a,s)}else 16&c?_i(t,e,r,n,i,s):Gr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function vi(t,e,n,r,i,s){yi(n,r,t.firstChild,e,i,s,!1)}function _i(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Gr(e,t,i,a[c],s);else yi(t,e,a,o[3],i,s,!0)}function wi(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ci(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Ei(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Si="ng-template";function xi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Ei(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Oi(t){return 4===t.type&&t.value!==Si}function Ii(t,e,n){return e===(4!==t.type||n?t.value:Si)}function Ti(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Ii(t,c,n)||""===c&&1===e.length){if(ki(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!xi(t.attrs,l,n)){if(ki(r))return!1;o=!0}continue}const u=Ai(8&r?"class":c,i,Oi(t),n);if(-1===u){if(ki(r))return!1;o=!0;continue}if(""!==l){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Ei(e,l,0)||2&r&&l!==t){if(ki(r))return!1;o=!0}}}}else{if(!o&&!ki(r)&&!ki(c))return!1;if(o&&ki(c))continue;o=!1,r=c|1&r}}return ki(r)||o}function ki(t){return 0==(1&t)}function Ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Pi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ti(t,e[r],n))return!0;return!1}function Di(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ri(t,e){return t?":not("+e.trim()+")":e}function ji(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ki(o)||(e+=Ri(s,i),i=""),r=o,s=s||!ki(r);n++}return""!==i&&(e+=Ri(s,i)),e}const Ni={};function Fi(t){Li(Wt(),Kt(),_e()+t,te())}function Li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ie(e,r,0,n)}we(n)}function Mi(t,e){return t<<17|e<<2}function Bi(t){return t>>17&32767}function Vi(t){return 2|t}function Ui(t){return(131068&t)>>2}function Hi(t,e){return-131069&t|e<<2}function qi(t){return 1|t}function zi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];he(i),n.contentQueries(2,e[s],s)}}}function Ki(t,e,n,r,i,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Ut(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Wi(t,e,n,r,i){let s=t.data[e];if(null===s)s=Gi(t,e,n,r,i),qt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Yt();s.injectorIndex=null===t?-1:t.injectorIndex}return Xt(s,!0),s}function Gi(t,e,n,r,i){const s=Qt(),o=Zt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function $i(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Qi(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&Os(1,r,n);const i=t.template;null!==i&&Zi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zi(t,e),t.staticViewQueries&&Os(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ws(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ve()}}function Yi(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const s=te();try{Ut(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Zi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ie(e,n,0,null),Te(e,0)}if(function(t){for(let e=zr(t);null!==e;e=Kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ht(r,1),n[2]|=1024}}}(e),function(t){for(let e=zr(t);null!==e;e=Kr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Bt(n)&&Yi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&zi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Ie(e,n,1),Te(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)vs(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Os(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Ie(e,n,2),Te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ht(e[3],-1))}finally{ve()}}function Xi(t,e,n,r){const i=e[10],s=!te(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&Qi(t,e,r),Yi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Zi(t,e,n,r,i){const s=_e(),o=2&r;try{we(-1),o&&e.length>ut&&Li(t,e,ut,te()),n(r,i)}finally{we(s)}}function Ji(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ts(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ze(n,e),Fr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=bt(r);s&&ps(e,n,r);const c=nn(e,t,a,n);Fr(c,e),null!==o&&ms(0,a-i,c,r,0,o),s&&(Ft(n.index,e)[8]=c)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qt.lFrame.currentDirectiveIndex;try{we(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ce(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ls(r,i)}}finally{we(-1),ce(o)}}(t,e,n))}function es(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ns(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=rs(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function rs(t,e,n,r,i,s,o,a,c,l){const u=ut+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ni);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function is(t,e,n,r){const i=Ts(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ks(t).push(r,i.length-1))}function ss(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function os(t,e,n,r,i,s,o,a){const c=Rt(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[r])?(Ds(t,n,l,r,i),gt(e)&&function(t,e){const n=Ft(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,kt(s)?s.setProperty(c,r,i):Ne(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function as(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Pi(n,o.selectors,!1)&&(i||(i=[]),$e(ze(n,e),t,o.type),bt(o)?(us(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ds(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=$i(t,e,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Fe(n.mergedAttrs,l.hostAttrs),fs(t,n,e,c,l),hs(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===i||Oi(e)?null:bs(n,i);s.push(l),o=ss(n,c,o),a=ss(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Fe(n.mergedAttrs,n.attrs),i}function cs(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function ls(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function us(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function hs(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function ds(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fs(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yt(i.type)),o=new De(s,bt(i),null);t.blueprint[r]=o,n[r]=o,cs(t,e,0,r,$i(t,n,i.hostVars,Ni),i)}function ps(t,e,n){const r=Rt(e,t),i=ns(n),s=t[10],o=Cs(t,Ki(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function gs(t,e,n,r,i,s,o){if(null==s)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ms(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function bs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ys(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vs(t,e){const n=Ft(e,t);if(Bt(n)){const t=n[1];80&n[2]?Yi(t,n,t.template,n[8]):n[5]>0&&_s(n)}}function _s(t){for(let n=zr(t);null!==n;n=Kr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Yi(t,e,t.template,e[8])}else e[5]>0&&_s(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ft(e[n],t);Bt(r)&&r[5]>0&&_s(r)}}function ws(t,e){const n=Ft(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Qi(r,n,n[8])}function Cs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Es(t){for(;t;){t[2]|=64;const e=qr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ss(t,e,n){const r=e[10];r.begin&&r.begin();try{Yi(t,e,t.template,n)}catch(i){throw Ps(e,i),i}finally{r.end&&r.end()}}function xs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];Xi(i,r,i.template,n)}}(t[8])}function Os(t,e,n){he(0),e(t,n)}const Is=(()=>Promise.resolve(null))();function Ts(t){return t[7]||(t[7]=[])}function ks(t){return t.cleanup||(t.cleanup=[])}function As(t,e,n){return(null===t||bt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ps(t,e){const n=t[9],r=n?n.get(Rr,null):null;r&&r.handleError(e)}function Ds(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Rs(t,e,n){const r=Dt(e,t);Qr(t[11],r,n)}function js(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ns=new dn("INJECTOR",-1);class Fs{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ls=new dn("Set Injector scope."),Ms={},Bs={},Vs=[];let Us;function Hs(){return void 0===Us&&(Us=new Fs),Us}function qs(t,e=null,n=null,r){return new zs(t,n,e||Hs(),r)}class zs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mn(e,n=>this.processProvider(n,t,e)),mn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ns,Gs(void 0,this));const s=this.records.get(Ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=A.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof dn)&&E(t);e=n&&this.injectableDefInScope(n)?Gs(Ks(t),Ms):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?Hs():this.parent).get(t,e=n&A.Optional&&e===En?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[xn]&&i.unshift(e[xn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=u(e);if(Array.isArray(e))i=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mn(r,t=>this.processProvider(t,n,r||Vs))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,Gs(a,Ms));const c=r.providers;if(null!=c&&!o){const e=t;mn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Qs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return $s(t)?Gs(void 0,t.useValue):Gs(Ws(t),Ms)}(t);if(Qs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Gs(void 0,Ms,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ms&&(e.value=Bs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ks(t){const e=E(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof dn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=vn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ws(t,e,n){let r;if(Qs(t)){const e=p(t);return yt(e)||Ks(e)}if($s(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Ks(e);r=()=>new e(...Dn(t.deps))}var i;return r}function Gs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $s(t){return null!==t&&"object"==typeof t&&On in t}function Qs(t){return"function"==typeof t}const Ys=function(t,e,n){return function(t,e=null,n=null,r){const i=qs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Xs=(()=>{class t{static create(t,e){return Array.isArray(t)?Ys(t,e,""):Ys(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new Fs,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>An(Ns)}),t.__NG_ELEMENT_ID__=-1,t})();function Zs(t,e){xe(Lt(t)[1],$t())}function Js(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=to(t.inputs),e.declaredInputs=to(t.declaredInputs),e.outputs=to(t.outputs);const n=i.hostBindings;n&&ro(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&eo(t,s),o&&no(t,o),l(t.inputs,i.inputs),l(t.declaredInputs,i.declaredInputs),l(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Js&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fe(i.hostAttrs,n=Fe(n,i.hostAttrs))}}(r)}function to(t){return t===H?{}:t===z?[]:t}function eo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function no(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ro(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let io=null;function so(){if(!io){const t=U.Symbol;if(t&&t.iterator)io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(io=n)}}}return io}class oo{constructor(t){this.wrapped=t}static wrap(t){return new oo(t)}static unwrap(t){return oo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof oo}}function ao(t){return!!co(t)&&(Array.isArray(t)||!(t instanceof Map)&&so()in t)}function co(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function lo(t,e,n){return t[e]=n}function uo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ho(t,e,n,r){const i=uo(t,e,n);return uo(t,e+1,r)||i}function fo(t,e,n,r){const i=Kt();return uo(i,ie(),e)&&(Wt(),function(t,e,n,r,i,s){const o=Rt(t,e);gs(e[11],o,s,t.value,n,r,i)}(Ce(),i,t,e,n,r)),fo}function po(t,e,n,r){return uo(t,ie(),n)?e+b(n)+r:Ni}function go(t,e,n,r,i,s,o,a){const c=Kt(),l=Wt(),u=t+ut,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const l=e.consts,u=Wi(e,t,4,o||null,Vt(l,a));as(e,n,u,Vt(l,c)),xe(e,u);const h=u.tViews=rs(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Xt(h,!1);const d=c[11].createComment("");fi(l,c,d,h),Fr(d,c),Cs(c,c[u]=ys(d,c,d,h)),mt(h)&&ts(l,c,h),null!=o&&es(c,h,a)}function mo(t){return Nt(qt.lFrame.contextLView,ut+t)}function bo(t,e=A.Default){const n=Kt();return null===n?An(t,e):Xe($t(),n,p(t),e)}function yo(t,e,n){const r=Kt();return uo(r,ie(),e)&&os(Wt(),Ce(),r,t,e,r[11],n,!1),yo}function vo(t,e,n,r,i){const s=i?"class":"style";Ds(t,n,e.inputs[s],s,r)}function _o(t,e,n,r){const i=Kt(),s=Wt(),o=ut+t,a=i[11],c=i[o]=Xr(a,e,qt.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Wi(e,t,2,i,Vt(a,s));return as(e,n,c,Vt(a,o)),null!==c.attrs&&js(c,c.attrs,!1),null!==c.mergedAttrs&&js(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Xt(l,!0);const u=l.mergedAttrs;null!==u&&Re(a,c,u);const h=l.classes;null!==h&&Ci(a,c,h);const d=l.styles;null!==d&&wi(a,c,d),64!=(64&l.flags)&&fi(s,i,c,l),0===qt.lFrame.elementDepthCount&&Fr(c,i),qt.lFrame.elementDepthCount++,mt(l)&&(ts(s,i,l),Ji(s,l,i)),null!==r&&es(i,l)}function wo(){let t=$t();Zt()?Jt():(t=t.parent,Xt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(xe(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&vo(n,e,Kt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&vo(n,e,Kt(),e.stylesWithoutHost,!1)}function Co(t,e,n,r){_o(t,e,n,r),wo()}function Eo(t,e,n){const r=Kt(),i=Wt(),s=t+ut,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Vt(s,r),a=Wi(e,t,8,"ng-container",o);return null!==o&&js(a,o,!0),as(e,n,a,Vt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Xt(o,!0);const a=r[s]=r[11].createComment("");fi(i,r,a,o),Fr(a,r),mt(o)&&(ts(i,r,o),Ji(i,o,r)),null!=n&&es(r,o)}function So(){let t=$t();const e=Wt();Zt()?Jt():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(xe(e,t),pt(t)&&e.queries.elementEnd(t))}function xo(){return Kt()}function Oo(t){return!!t&&"function"==typeof t.then}function Io(t){return!!t&&"function"==typeof t.subscribe}const To=Io;function ko(t,e,n=!1,r){const i=Kt(),s=Wt(),o=$t();return Po(s,i,i[11],o,t,e,n,r),ko}function Ao(t,e,n=!1,r){const i=$t(),s=Kt(),o=Wt();return Po(o,s,As(le(o.data),i,s),i,t,e,n,r),Ao}function Po(t,e,n,r,i,s,o=!1,a){const c=mt(r),l=t.firstCreatePass&&ks(t),u=Ts(e);let h=!0;if(3&r.type){const d=Rt(r,e),f=a?a(d):H,p=f.target||d,g=u.length,m=a?t=>a(Pt(t[r.index])).target:r.index;if(kt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ro(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);u.push(s,t),l&&l.push(i,m,g,g+1)}}else s=Ro(r,e,0,s,!0),p.addEventListener(i,s,o),u.push(s),l&&l.push(i,m,g,o)}else s=Ro(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}function Do(t,e,n,r){try{return!1!==n(r)}catch(i){return Ps(t,i),!1}}function Ro(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Ft(t.index,e):e;0==(32&e[2])&&Es(o);let a=Do(e,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=Do(e,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function jo(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function No(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Pi(t,s,!0):Di(r,s))return i}else n=i}return n}function Fo(t){const e=Kt()[16][6];if(!e.projection){const n=e.projection=vn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?No(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Lo(t,e=0,n){const r=Kt(),i=Wt(),s=Wi(i,ut+t,16,null,n||null);null===s.projection&&(s.projection=e),Jt(),64!=(64&s.flags)&&function(t,e,n){_i(e[11],0,e,n,ni(t,n,e),ci(n.parent||e[6],n,e))}(i,r,s)}function Mo(t,e,n){return Bo(t,"",e,"",n),Mo}function Bo(t,e,n,r,i){const s=Kt(),o=po(s,e,n,r);return o!==Ni&&os(Wt(),Ce(),s,t,o,s[11],i,!1),Bo}function Vo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Bi(s):Ui(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Uo(t[a],e)&&(c=!0,t[a+1]=r?qi(n):Vi(n)),a=r?Bi(n):Ui(n)}c&&(t[n+1]=r?Vi(s):qi(s))}function Uo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Cn(t,e)>=0}const Ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qo(t){return t.substring(Ho.key,Ho.keyEnd)}function zo(t,e){const n=Ho.textEnd;return n===e?-1:(e=Ho.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ho.key=e,n),Ko(t,e,n))}function Ko(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Wo(t,e,n){return Yo(t,e,n,!1),Wo}function Go(t,e){return Yo(t,e,null,!0),Go}function $o(t){Xo(_n,Qo,t,!0)}function Qo(t,e){for(let n=function(t){return function(t){Ho.key=0,Ho.keyEnd=0,Ho.value=0,Ho.valueEnd=0,Ho.textEnd=t.length}(t),zo(t,Ko(t,0,Ho.textEnd))}(e);n>=0;n=zo(e,n))_n(t,qo(e),!0)}function Yo(t,e,n,r){const i=Kt(),s=Wt(),o=se(2);s.firstUpdatePass&&Jo(s,t,o,r),e!==Ni&&uo(i,o,e)&&na(s,s.data[_e()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Gn(t)))),t}(e,n),r,o)}function Xo(t,e,n,r){const i=Wt(),s=se(2);i.firstUpdatePass&&Jo(i,null,s,r);const o=Kt();if(n!==Ni&&uo(o,s,n)){const a=i.data[_e()];if(sa(a,r)&&!Zo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),vo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Ni&&(i=q);let c=0,l=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=c<i.length?i[c+1]:void 0,f=l<s.length?s[l+1]:void 0;let p,g=null;u===h?(c+=2,l+=2,d!==f&&(g=h,p=f)):null===h||null!==u&&u<h?(c+=2,g=u):(l+=2,g=h,p=f),null!==g&&na(t,e,n,r,g,p,o,a),u=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return q;const r=[],i=Gn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Zo(t,e){return e>=t.expandoStartIndex}function Jo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_e()],o=Zo(t,n);sa(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=le(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ea(n=ta(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ta(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ui(r))return t[Bi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ta(null,t,e,n[1],r),n=ea(n,e.attrs,r),function(t,e,n,r){t[Bi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ea(r,t[s].hostAttrs,n);return ea(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Bi(o),c=Ui(o);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||Cn(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=Bi(t[a+1]);t[r+1]=Mi(e,a),0!==e&&(t[e+1]=Hi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Mi(a,0),0!==a&&(t[a+1]=Hi(t[a+1],r)),a=r;else t[r+1]=Mi(c,0),0===a?a=r:t[c+1]=Hi(t[c+1],r),c=r;u&&(t[r+1]=Vi(t[r+1])),Vo(t,l,r,!0),Vo(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Cn(s,e)>=0&&(n[r+1]=qi(n[r+1]))}(e,l,t,r,s),o=Mi(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ta(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ea(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ea(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_n(t,o,!!n||e[++s]))}return void 0===t?null:t}function na(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];ia(1==(1&l)?ra(c,e,n,i,Ui(l),o):void 0)||(ia(s)||2==(2&l)&&(s=ra(c,null,n,i,a,o)),function(t,e,n,r,i){const s=kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Vr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Vr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Dt(_e(),n),i,s))}function ra(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,l=null===c;let u=n[i+1];u===Ni&&(u=l?q:void 0);let h=l?wn(u,r):c===r?u:void 0;if(s&&!ia(h)&&(h=wn(e,r)),ia(h)&&(a=h,o))return a;const d=t[i+1];i=o?Bi(d):Ui(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=wn(t,r))}return a}function ia(t){return void 0!==t}function sa(t,e){return 0!=(t.flags&(e?16:32))}function oa(t,e=""){const n=Kt(),r=Wt(),i=t+ut,s=r.firstCreatePass?Wi(r,i,1,e,null):r.data[i],o=n[i]=$r(n[11],e);fi(r,n,o,s),Xt(s,!1)}function aa(t){return ca("",t,""),aa}function ca(t,e,n){const r=Kt(),i=po(r,t,e,n);return i!==Ni&&Rs(r,_e(),i),ca}function la(t,e,n,r,i){const s=Kt(),o=function(t,e,n,r,i,s){const o=ho(t,re(),n,i);return se(2),o?e+b(n)+r+b(i)+s:Ni}(s,t,e,n,r,i);return o!==Ni&&Rs(s,_e(),o),la}function ua(t,e,n){Xo(_n,Qo,po(Kt(),t,e,n),!0)}function ha(t,e,n,r,i,s,o,a,c){Xo(_n,Qo,function(t,e,n,r,i,s,o,a,c,l){const u=function(t,e,n,r,i,s){const o=ho(t,e,n,r);return ho(t,e+2,i,s)||o}(t,re(),n,i,o,c);return se(4),u?e+b(n)+r+b(i)+s+b(o)+a+b(c)+l:Ni}(Kt(),t,e,n,r,i,s,o,a,c),!0)}function da(t,e,n){const r=Kt();return uo(r,ie(),e)&&os(Wt(),Ce(),r,t,e,r[11],n,!0),da}function fa(t,e,n){const r=Kt();if(uo(r,ie(),e)){const i=Wt(),s=Ce();os(i,s,r,t,e,As(le(i.data),s,r),n,!0)}return fa}const pa=void 0;var ga=["en",[["a","p"],["AM","PM"],pa],[["AM","PM"],pa,pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pa,"{1} 'at' {0}",pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ma={};function ba(t,e,n){"string"!=typeof e&&(n=e,e=t[Ca.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ma[e]=t,n&&(ma[e][Ca.ExtraData]=n)}function ya(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=wa(e);if(n)return n;const r=e.split("-")[0];if(n=wa(r),n)return n;if("en"===r)return ga;throw new Error(`Missing locale data for the locale "${t}".`)}function va(t){return ya(t)[Ca.CurrencyCode]||null}function _a(t){return ya(t)[Ca.PluralCase]}function wa(t){return t in ma||(ma[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),ma[t]}var Ca=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ea=["zero","one","two","few","many"],Sa="en-US",xa={marker:"element"},Oa={marker:"ICU"};var Ia=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Ta=Sa;function ka(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Ta=t.toLowerCase().replace(/_/g,"-"))}function Aa(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?li(t,0,n):Pt(n[i])}function Pa(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)ii(t,o,n[s[e]],a,!1)}}function Da(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Ra(r)||ja(r,e)&&null===Na(r)&&Fa(r,e.index)}}function Ra(t){return!(64&t.type)}function ja(t,e){return Ra(e)||t.index>e.index}function Na(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Fa(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(di(Aa,Pa),t.insertBeforeIndex=e)}function La(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ma(t,e,n){const r=Gi(t,n,64,null,null);return Da(e,r),r}function Ba(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Va=0,Ua=0;function Ha(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=$r(i,c))}else if("number"==typeof c)switch(1&c){case 0:const l=c>>>17;let u,h;if(null===o&&(o=l,s=ai(i,r)),l===o?(u=r,h=s):(u=null,h=Pt(n[l])),null!==h){const e=(131070&c)>>>1;ii(i,h,n[e],u,!1);const r=La(t,e);if(null!==r&&"object"==typeof r){const e=Ba(r,n);null!==e&&Ha(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];gs(i,Dt(c>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case Oa:const t=e[++a],r=e[++a];null===n[r]&&Fr(n[r]=Yr(i,t),n);break;case xa:const s=e[++a],o=e[++a];null===n[o]&&Fr(n[o]=Xr(i,s,null),n)}}}function qa(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=b(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],c=n[++o],l=t.data[a];"string"==typeof l?gs(e[11],e[a],null,l,s,i,c):os(t,l,e,s,i,e[11],c,!1);break;case 0:const u=e[a];null!==u&&Qr(e[11],u,i);break;case 2:Ka(t,La(t,a),e,i);break;case 3:za(t,La(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=La(t,i>>>2);e[n.currentCaseLViewIndex]<0&&za(t,n,r,e)}}s+=a}}function za(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Va;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),qa(t,r,e.update[i],n,s)}}function Ka(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=_a(e)(parseInt(t,10)),r=Ea[n];return void 0!==r?r:"other"}(e,Ta);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ba(e,n)!==i&&(Wa(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Ha(t,e.create[i],n,r)}}function Wa(t,e,n){let r=Ba(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&bi(n[11],t)}else Wa(t,La(t,~r),n)}}}const Ga=/\ufffd(\d+):?\d*\ufffd/gi,$a=/\ufffd(\d+)\ufffd/,Qa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ya=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Xa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Za=/\uE500/g;function Ja(t,e,n,r,i,s,o){const a=$i(t,r,1,null);let c=a<<Ia.SHIFT,l=Yt();e===l&&(l=null),null===l&&(c|=Ia.APPEND_EAGERLY),o&&(c|=Ia.COMMENT,void 0===Ur&&(Ur=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Ba(t,e);n=null!==i?t.remove[i]:z}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(c,null===s?"":s);const u=Gi(t,a,o?32:1,null===s?"":s,null);Da(n,u);const h=u.index;return Xt(u,!1),null!==l&&e!==l&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(di(Aa,Pa),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(l,h),u}function tc(t,e,n,r,i,s,o){const a=o.match(Ga),c=Ja(t,e,n,s,r,a?null:o,!1);a&&ec(i,o,c.index)}function ec(t,e,n,r,i=null){const s=t.length,o=s+1;t.push(null,null);const a=s+2,c=e.split(Ga);let l=0;for(let u=0;u<c.length;u++){const e=c[u];if(1&u){const n=parseInt(e,10);t.push(-1-n),l|=nc(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[s]=l,t[o]=t.length-a,l}function nc(t){return 1<<Math.min(t,31)}function rc(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Ya.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function ic(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:$i(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(nc(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const c=i.values;for(let l=0;l<c.length;l++){const s=c[l],u=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=u.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=ac(t,a,e,n,r,i.cases[l],s.join(""),u)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function sc(t){const e=[],n=[];let r=1,i=0;const s=oc(t=t.replace(Qa,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=oc(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function oc(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Qa.test(n)?r.push(sc(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function ac(t,e,n,r,i,s,o,a){const c=[],l=[],u=[];e.cases.push(s),e.create.push(c),e.remove.push(l),e.update.push(u);const h=er(Tt()).getInertBodyElement(o),d=xr(h)||h;return d?cc(t,e,n,r,c,l,u,d,i,a,0):0}function cc(t,e,n,r,i,s,o,a,c,l,u){let h=0,d=a.firstChild;for(;d;){const a=$i(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(pr.hasOwnProperty(p)){hc(i,xa,p,c,a),t.data[a]=p;const g=f.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Ga)?br.hasOwnProperty(n)&&(gr[n]?ec(o,e.value,a,e.name,or):mr[n]?ec(o,e.value,a,e.name,ar):ec(o,e.value,a,e.name)):dc(i,a,e)}h=cc(t,e,n,r,i,s,o,d,a,l,u+1)|h,lc(s,a,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Ga);hc(i,null,m?"":g,c,a),lc(s,a,u),m&&(h=ec(o,g,a)|h);break;case Node.COMMENT_NODE:const b=$a.exec(d.textContent||"");if(b){const e=l[parseInt(b[1],10)];hc(i,Oa,"",c,a),ic(t,n,r,c,e,a),uc(s,a,u)}}d=d.nextSibling}return h}function lc(t,e,n){0===n&&t.push(e)}function uc(t,e,n){0===n&&(t.push(~e),t.push(e))}function hc(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function dc(t,e,n){t.push(e<<1|1,n.name,n.value)}function fc(t,e,n){(function(t,e,n=-1){const r=Wt(),i=Kt(),s=ut+t,o=Vt(r.consts,e),a=Yt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Yt(),a=[],c=[],l=[[]],u=(h=i=function(t,e){if(function(t){return-1===t}(e))return rc(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return rc(t.substring(n,r))}}(i,s),h.replace(Za," ")).split(Xa);var h;for(let d=0;d<u.length;d++){let r=u[d];if(0==(1&d)){const s=oc(r);for(let r=0;r<s.length;r++){let u=s[r];if(0==(1&r)){const e=u;""!==e&&tc(t,o,l[0],a,c,n,e)}else{const r=u;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);ic(t,n,c,e,r,Ja(t,o,l[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ut+Number.parseInt(r.substring(e?2:1)));if(e)l.shift(),Xt(Yt(),!1);else{const e=Ma(t,l[0],n);l.unshift([]),Xt(e,!0)}}}t.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,s,o,n);const c=r.data[s],l=ri(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],c=(o&Ia.COMMENT)===Ia.COMMENT,l=(o&Ia.APPEND_EAGERLY)===Ia.APPEND_EAGERLY,u=o>>>Ia.SHIFT;let h=t[u];null===h&&(h=t[u]=c?i.createComment(a):$r(i,a)),l&&null!==n&&ii(i,n,h,r,!1)}}(i,c.create,l,a&&8&a.type?i[a.index]:null),oe(!0)})(t,e,n),oe(!1)}function pc(t){return uo(Kt(),ie(),t)&&(Va|=1<<Math.min(Ua,31)),Ua++,pc}function gc(t){!function(t,e,n){if(Ua>0){const r=t.data[n];qa(t,e,Array.isArray(r)?r:r.update,re()-Ua-1,Va)}Va=0,Ua=0}(Wt(),Kt(),t+ut)}function mc(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)mc(t[s],e,n,r,i);else{const s=Wt(),o=Kt();let a=Qs(t)?t:p(t.provide),c=Ws(t);const l=$t(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Qs(t)||!t.multi){const r=new De(c,i,bo),f=vc(a,e,i?u:u+d,h);-1===f?($e(ze(l,o),s,a),bc(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=vc(a,e,u+d,h),p=vc(a,e,u,u+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){$e(ze(l,o),s,a);const u=function(t,e,n,r,i){const s=new De(t,n,bo);return s.multi=[],s.index=e,s.componentProviders=0,yc(s,i,r&&!n),s}(i?wc:_c,n.length,i,r,c);!i&&m&&(n[p].providerFactory=u),bc(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else bc(s,t,f>-1?f:p,yc(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function bc(t,e,n,r){const i=Qs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function yc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vc(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _c(t,e,n,r){return Cc(this.multi,[])}function wc(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=nn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Cc(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Cc(i,s);return s}function Cc(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ec(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=bt(t);mc(n,r.data,r.blueprint,i,!0),mc(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Sc{}class xc{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Oc=(()=>{class t{}return t.NULL=new xc,t})();function Ic(...t){}function Tc(t,e){return new Ac(Rt(t,e))}const kc=function(){return Tc($t(),Kt())};let Ac=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=kc,t})();function Pc(t){return t instanceof Ac?t.nativeElement:t}class Dc{}let Rc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>jc(),t})();const jc=function(){const t=Kt(),e=Ft($t().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Nc=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Fc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Lc=new Fc("11.2.11");class Mc{constructor(){}supports(t){return ao(t)}create(t){return new Vc(t)}}const Bc=(t,e)=>e;class Vc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Bc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<zc(n,r,i)?e:n,o=zc(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ao(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[so()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Uc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Uc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Hc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Kc{constructor(){}supports(t){return t instanceof Map||co(t)}create(){return new Wc}}class Wc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||co(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $c(){return new Qc([new Mc])}let Qc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||$c()),deps:[[t,new Fn,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:$c}),t})();function Yc(){return new Xc([new Kc])}let Xc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Yc()),deps:[[t,new Fn,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Yc}),t})();function Zc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Pt(s)),ft(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Zc(e[1],e,n,r)}const o=n.type;if(8&o)Zc(t,e,n.child,r);else if(32&o){const t=Hr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=gi(e,n);if(Array.isArray(t))r.push(...t);else{const n=qr(e[16]);Zc(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Jc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Zc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Jr(t,n),yn(e,n))}this._attachedToViewContainer=!1}ti(this._lView[1],this._lView)}onDestroy(t){is(this._lView[1],this._lView,null,t)}markForCheck(){Es(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ss(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{Ss(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,vi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class tl extends Jc{constructor(t){super(t),this._view=t}detectChanges(){xs(this._view)}checkNoChanges(){!function(t){ee(!0);try{xs(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const el=rl;let nl=(()=>{class t{}return t.__NG_ELEMENT_ID__=el,t.__ChangeDetectorRef__=!0,t})();function rl(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Ft(t.index,e);return new Jc(n,n)}return 47&t.type?new Jc(e[16],e):null}($t(),Kt(),t)}const il=[new Kc],sl=new Qc([new Mc]),ol=new Xc(il),al=function(){return hl($t(),Kt())};let cl=(()=>{class t{}return t.__NG_ELEMENT_ID__=al,t})();const ll=cl,ul=class extends ll{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ki(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Qi(e,n,t),new Jc(n)}};function hl(t,e){return 4&t.type?new ul(e,t,Tc(t,e)):null}class dl{}class fl{}const pl=function(){return _l($t(),Kt())};let gl=(()=>{class t{}return t.__NG_ELEMENT_ID__=pl,t})();const ml=gl,bl=class extends ml{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Tc(this._hostTNode,this._hostLView)}get injector(){return new on(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ge(this._hostTNode,this._hostLView);if(Me(t)){const e=Ve(t,this._hostLView),n=Be(t);return new on(e[1].data[n+8],e)}return new on(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=yl(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(dl,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new bl(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],bn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=mi(i,s),a=n[11],c=ai(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,vi(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),bn(vl(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=yl(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Jr(this._lContainer,e);n&&(yn(vl(this._lContainer),e),ti(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Jr(this._lContainer,e);return n&&null!=yn(vl(this._lContainer),e)?new Jc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function yl(t){return t[8]}function vl(t){return t[8]||(t[8]=[])}function _l(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Pt(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);ii(n,ai(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ys(r,e,i,t),Cs(e,n)}return new bl(n,t,e)}const wl={};class Cl extends Oc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new xl(e,this.ngModule)}}function El(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Sl=new dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Lr});class xl extends Sc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ji).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return El(this.componentDef.inputs)}get outputs(){return El(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,wl,i);return s!==wl||r===wl?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Dc,At),o=i.get(Nc,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Xr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?xt:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Lr,clean:Is,playerHandler:null,flags:0},d=rs(0,null,null,1,0,null,null,null,null,null),f=Ki(null,d,h,u,null,null,s,a,o,i);let p,g;pe(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Wi(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(js(a,c,!0),null!==t&&(Re(i,t,c),null!==a.classes&&Ci(i,t,a.classes),null!==a.styles&&wi(i,t,a.styles)));const l=r.createRenderer(t,e),u=Ki(n,ns(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&($e(ze(a,n),o,e.type),us(o,a),ds(a,n.length,1)),Cs(n,u),n[20]=u}(l,this.componentDef,f,s,a);if(l)if(n)Re(a,l,["ng-version",Lc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ki(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Re(a,l,t),e&&e.length>0&&Ci(a,l,e.join(" "))}if(g=jt(d,ut),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),fs(t,r,e,$i(t,e,1,null),n));const i=nn(e,t,r.directiveStart,r);Fr(i,e);const s=Rt(r,e);return s&&Fr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=$t();e.contentQueries(1,o,t.directiveStart)}const a=$t();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),cs(n[1],a,0,a.directiveStart,a.directiveEnd,e),ls(e,o)),o}(t,this.componentDef,f,h,[Zs]),Qi(d,f,null)}finally{ve()}return new Ol(this.componentType,p,Tc(g,f),f,g)}}class Ol extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new tl(r),this.componentType=t}get injector(){return new on(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Il=new Map;class Tl extends dl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cl(this);const n=lt(t),r=t[Q]||null;r&&ka(r),this._bootstrapComponents=Br(n.bootstrap),this._r3Injector=qs(t,e,[{provide:dl,useValue:this},{provide:Oc,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Xs.THROW_IF_NOT_FOUND,n=A.Default){return t===Xs||t===dl||t===Ns?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kl extends fl{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(i,Il.get(i),n),Il.set(i,n));const s=Br(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Tl(this.moduleType,t)}}function Al(t,e,n){const r=ne()+t,i=Kt();return i[r]===Ni?lo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Pl(t,e,n,r){return Nl(Kt(),ne(),t,e,n,r)}function Dl(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return ho(t,a,i,s)?lo(t,a+2,o?r.call(o,i,s):r(i,s)):jl(t,a+2)}(Kt(),ne(),t,e,n,r,i)}function Rl(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const c=e+n;return function(t,e,n,r,i){const s=ho(t,e,n,r);return uo(t,e+2,i)||s}(t,c,i,s,o)?lo(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):jl(t,c+3)}(Kt(),ne(),t,e,n,r,i,s)}function jl(t,e){const n=t[e];return n===Ni?void 0:n}function Nl(t,e,n,r,i,s){const o=e+n;return uo(t,o,i)?lo(t,o+1,s?r.call(s,i):r(i)):jl(t,o+1)}function Fl(t,e){const n=Wt();let r;const i=t+ut;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=yt(r.type)),o=D(bo);try{const t=He(!1),e=s();return He(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Kt(),i,e),e}finally{D(o)}}function Ll(t,e,n){const r=t+ut,i=Kt(),s=Nt(i,r);return function(t,e){return oo.isWrapped(e)&&(e=oo.unwrap(e),t[re()]=Ni),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Nl(i,ne(),e,s.transform,n,s):s.transform(n))}function Ml(t){return e=>{setTimeout(t,void 0,e)}}const Bl=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,c=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),c=null===(s=e.error)||void 0===s?void 0:s.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(c=Ml(c),a&&(a=Ml(a)),l&&(l=Ml(l)));const u=super.subscribe({next:a,error:c,complete:l});return t instanceof i.a&&t.add(u),u}};function Vl(){return this._results[so()]()}class Ul{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=so(),n=Ul.prototype;n[e]||(n[e]=Vl)}get changes(){return this._changes||(this._changes=new Bl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=gn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Hl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hl(this.queryList)}setDirty(){this.queryList.setDirty()}}class ql{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ql(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ru(t,e).matches&&this.queries[e].setDirty()}}class zl{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Kl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Kl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Gl(e,i)),this.matchTNodeWithReadOption(t,e,en(e,t,i,!1,!1))}else n===cl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,en(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ac||r===gl||r===cl&&4&e.type)this.addMatch(e.index,-2);else{const n=en(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Gl(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function $l(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Tc(t,e):4&t.type?hl(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ac?Tc(e,t):n===cl?hl(e,t):n===gl?_l(e,t):void 0}(t,e,r):nn(t,t[1],n,e)}function Ql(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:$l(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Yl(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ql(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&Yl(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Yl(n[1],n,i,r)}}}}}return r}function Xl(t){const e=Kt(),n=Wt(),r=ue();he(r+1);const i=ru(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Yl(n,e,r,[]):Ql(n,e,i,r);t.reset(s,Pc),t.notifyOnChanges()}return!0}return!1}function Zl(t,e,n){const r=Wt();r.firstCreatePass&&(nu(r,new zl(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),eu(r,Kt(),e)}function Jl(t,e,n,r){const i=Wt();if(i.firstCreatePass){const s=$t();nu(i,new zl(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}eu(i,Kt(),n)}function tu(){return t=Kt(),e=ue(),t[19].queries[e].queryList;var t,e}function eu(t,e,n){const r=new Ul(4==(4&n));is(t,e,r,r.destroy),null===e[19]&&(e[19]=new ql),e[19].queries.push(new Hl(r))}function nu(t,e,n){null===t.queries&&(t.queries=new Kl),t.queries.track(new Wl(e,n))}function ru(t,e){return t.queries.getByIndex(e)}function iu(t,e){return hl(t,e)}function su(t=A.Default){const e=rl(!0);if(null!=e||t&A.Optional)return e;v("ChangeDetectorRef")}const ou=new dn("Application Initializer");let au=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ic,this.reject=Ic,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Oo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(ou,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const cu=new dn("AppId"),lu={provide:cu,useFactory:function(){return`${uu()}${uu()}${uu()}`},deps:[]};function uu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hu=new dn("Platform Initializer"),du=new dn("Platform ID"),fu=new dn("appBootstrapListener");let pu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const gu=new dn("LocaleId"),mu=new dn("DefaultCurrencyCode");class bu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const yu=function(t){return new kl(t)},vu=yu,_u=function(t){return Promise.resolve(yu(t))},wu=function(t){const e=yu(t),n=Br(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new xl(n)),t},[]);return new bu(e,n)},Cu=wu,Eu=function(t){return Promise.resolve(wu(t))};let Su=(()=>{class t{constructor(){this.compileModuleSync=vu,this.compileModuleAsync=_u,this.compileModuleAndAllComponentsSync=Cu,this.compileModuleAndAllComponentsAsync=Eu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const xu=(()=>Promise.resolve(0))();function Ou(t){"undefined"==typeof Zone?xu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Iu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bl(!1),this.onMicrotaskEmpty=new Bl(!1),this.onStable=new Bl(!1),this.onError=new Bl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Au(t),ku(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Au(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Pu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Du(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Pu(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Du(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Au(t),ku(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Iu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Iu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Tu,Ic,Ic);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Tu={};function ku(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Du(t){t._nesting--,ku(t)}class Ru{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bl,this.onMicrotaskEmpty=new Bl,this.onStable=new Bl,this.onError=new Bl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ju=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Iu.assertNotInAngularZone(),Ou(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ou(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(Iu))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Nu=(()=>{class t{constructor(){this._applications=new Map,Bu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Fu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Lu(t){Bu=t}let Mu,Bu=new Fu,Vu=!0,Uu=!1;function Hu(){return Uu=!0,Vu}function qu(){if(Uu)throw new Error("Cannot enable prod mode after platform setup.");Vu=!1}const zu=new dn("AllowMultipleToken");class Ku{constructor(t,e){this.name=t,this.token=e}}function Wu(t,e,n=[]){const r=`Platform: ${e}`,i=new dn(r);return(e=[])=>{let s=Gu();if(!s||s.injector.get(zu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ls,useValue:"platform"});!function(t){if(Mu&&!Mu.destroyed&&!Mu.injector.get(zu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mu=t.get($u);const e=t.get(hu,null);e&&e.forEach(t=>t())}(Xs.create({providers:t,name:r}))}return function(t){const e=Gu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Gu(){return Mu&&!Mu.destroyed?Mu:null}let $u=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ru:("zone.js"===t?void 0:t)||new Iu({enableLongStackTrace:Hu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Iu,useValue:n}];return n.run(()=>{const e=Xs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Rr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Xu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Oo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(au);return t.runInitializers(),t.donePromise.then(()=>(ka(i.injector.get(gu,Sa)||Sa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Qu({},e);return function(t,e,n){const r=new kl(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Yu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(Xs))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Qu(t,e){return Array.isArray(e)?e.reduce(Qu,t):Object.assign(Object.assign({},t),e)}let Yu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Iu.assertNotInAngularZone(),Ou(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Sc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(dl),i=n.create(Xs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(ju,null),a=o&&i.injector.get(Nu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Xu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(Iu),An(Xs),An(Rr),An(Oc),An(au))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zu{}class Ju{}const th={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let eh=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||th}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>nh(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>nh(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(Su),An(Ju,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function nh(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const rh=function(t){return null},ih=Wu(null,"core",[{provide:du,useValue:"unknown"},{provide:$u,deps:[Xs]},{provide:Nu,deps:[]},{provide:pu,deps:[]}]),sh=[{provide:Yu,useClass:Yu,deps:[Iu,Xs,Rr,Oc,au]},{provide:Sl,deps:[Iu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:au,useClass:au,deps:[[new Nn,ou]]},{provide:Su,useClass:Su,deps:[]},lu,{provide:Qc,useFactory:function(){return sl},deps:[]},{provide:Xc,useFactory:function(){return ol},deps:[]},{provide:gu,useFactory:function(t){return ka(t=t||"undefined"!=typeof $localize&&$localize.locale||Sa),t},deps:[[new jn(gu),new Nn,new Fn]]},{provide:mu,useValue:"USD"}];let oh=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(An(Yu))},t.\u0275mod=rt({type:t}),t.\u0275inj=C({providers:sh}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return u});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),u=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return u}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return g});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function u(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new m(i,a,r);return c},t}();function y(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return O}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.r("angularfire2.app.options"),v=new c.r("angularfire2.app.nameOrConfig"),_=new c.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:w,deps:[y,c.A,[new c.B,v]]};let O=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",_.full,t.toString()),l.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.bc(c.C))},t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),u=new o.b("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw u.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.bc)(u)}const l=new r.r("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u(Object(r.bc)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.bc)(o).location;return new v(Object(r.bc)(a),e&&e.origin||"")}const y=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(a),r.bc(y,8))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(a),r.bc(y,8))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(m),r.bc(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Lb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.bc)(m),Object(r.bc)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=r.ob;class O{}let I=(()=>{class t extends O{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.v))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),T=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.t),r.Pb(r.u),r.Pb(r.l),r.Pb(r.F))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new P(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M),r.Pb(r.t))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}class N{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let F=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),L=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new N(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M),r.Pb(F,1))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),M=(()=>{class t{constructor(t,e,n){n._addDefault(new N(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M),r.Pb(F,1))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),B=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.u),r.Pb(r.F))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class V{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class U{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const H=new U,q=new V;let z=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return H;if(Object(r.ub)(e))return q;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.dc())},t.\u0275pipe=r.Ob({name:"async",type:t,pure:!1}),t})(),K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[{provide:O,useClass:I}]}),t})();function W(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=Object(r.Lb)({token:t,providedIn:"root",factory:()=>new $(Object(r.bc)(o),window)}),t})();class ${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Q(this.window.history)||Q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Y extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Y,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Z||(Z=document.querySelector("base"),Z)?Z.getAttribute("href"):null;return null==e?null:(n=e,X||(X=document.createElement("a")),X.setAttribute("href",n),"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname);var n}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let X,Z=null;const J=new r.r("TRANSITION_ID"),tt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[J,o,r.s],multi:!0}];class et{static init(){Object(r.Z)(new et)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const nt=new r.r("EventManagerPlugins");let rt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(nt),r.bc(r.A))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let st=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t extends st{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ct=/%COMP%/g;function lt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?lt(t,i,n):(i=i.replace(ct,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ht=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new dt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=lt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.bc(rt),r.bc(ot),r.bc(r.c))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class dt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=at[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=at[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class ft extends dt{constructor(t,e,n,r){super(t),this.component=n;const i=lt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ct,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ct,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class pt extends dt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=lt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let gt=(()=>{class t extends it{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const mt=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _t=(()=>{class t extends it{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(mt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return bt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),mt.forEach(r=>{r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return Object(r.bc)(Ct)},token:t,providedIn:"root"}),t})(),Ct=(()=>{class t extends wt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.fb)(e,"HTML")?Object(r.yb)(e):Object(r.db)(this._doc,String(e)).toString();case r.J.STYLE:return Object(r.fb)(e,"Style")?Object(r.yb)(e):e;case r.J.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.yb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.yb)(e):Object(r.eb)(String(e));case r.J.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.yb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return t=Object(r.bc)(r.o),new Ct(t.get(o));var t},token:t,providedIn:"root"}),t})();const Et=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){Y.makeCurrent(),et.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],St=Object(r.T)(r.Y,"browser",Et),xt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:nt,useClass:gt,multi:!0,deps:[o,r.A,r.C]},{provide:nt,useClass:_t,multi:!0,deps:[o]},[],{provide:ht,useClass:ht,deps:[rt,ot,r.c]},{provide:r.G,useExisting:ht},{provide:st,useExisting:ot},{provide:ot,useClass:ot,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:rt,useClass:rt,deps:[nt,r.A]},[]];let Ot=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:J,useExisting:r.c},tt]}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(t,12))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:xt,imports:[K,r.f]}),t})();"undefined"!=typeof window&&window;var It=n("Cfvw"),Tt=n("LRne"),kt=n("XNiG"),At=n("9ppp");class Pt extends kt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At.a;return this._value}next(t){super.next(this._value=t)}}var Dt=n("z+Ro"),Rt=n("DH7j"),jt=n("7o/Q");class Nt extends jt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ft extends jt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Lt=n("SeVD"),Mt=n("HDdC");function Bt(t,e,n,r,i=new Ft(t,n,r)){if(!i.closed)return e instanceof Mt.a?e.subscribe(i):Object(Lt.a)(e)(i)}var Vt=n("yCtX");const Ut={};class Ht{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new qt(t,this.resultSelector))}}class qt extends Nt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ut),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Bt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ut?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const zt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Kt=n("bHdf");function Wt(...t){return Object(Kt.a)(1)(Object(Tt.a)(...t))}var Gt=n("EY2u");function $t(t){return new Mt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(It.a)(n):Object(Gt.b)()).subscribe(e)})}var Qt=n("EQ5u"),Yt=n("lJxs"),Xt=n("zx2A");function Zt(t,e){return"function"==typeof e?n=>n.pipe(Zt((n,r)=>Object(It.a)(t(n,r)).pipe(Object(Yt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Jt(t))}class Jt{constructor(t){this.project=t}call(t,e){return e.subscribe(new te(t,this.project))}}class te extends Xt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Xt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Xt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ee=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ne(t){return e=>0===t?Object(Gt.b)():e.lift(new re(t))}class re{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new ie(t,this.total))}}class ie extends jt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function se(...t){const e=t[t.length-1];return Object(Dt.a)(e)?(t.pop(),n=>Wt(t,n,e)):e=>Wt(t,e)}function oe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ae(t,e,n))}}class ae{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ce(t,this.accumulator,this.seed,this.hasSeed))}}class ce extends jt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function le(t,e){return function(n){return n.lift(new ue(t,e))}}class ue{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new he(t,this.predicate,this.thisArg))}}class he extends jt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function de(t){return function(e){const n=new fe(t),r=e.lift(n);return n.caught=r}}class fe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new pe(t,this.selector,this.caught))}}class pe extends Xt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Xt.a(this);this.add(r);const i=Object(Xt.c)(n,r);i!==r&&this.add(i)}}}var ge=n("5+tZ");function me(t,e){return Object(ge.a)(t,e,1)}function be(t){return function(e){return 0===t?Object(Gt.b)():e.lift(new ye(t))}}class ye{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new ve(t,this.total))}}class ve extends jt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function _e(t=Ee){return e=>e.lift(new we(t))}class we{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ce(t,this.errorFactory))}}class Ce extends jt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Cx){t=Cx}this.destination.error(t)}}}function Ee(){return new zt}function Se(t=null){return e=>e.lift(new xe(t))}class xe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Oe(t,this.defaultValue))}}class Oe extends jt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ie=n("SpAZ");function Te(t,e){const n=arguments.length>=2;return r=>r.pipe(t?le((e,n)=>t(e,n,r)):Ie.a,ne(1),n?Se(e):_e(()=>new zt))}var ke=n("vkgz"),Ae=n("x+ZX"),Pe=n("quSY");function De(t){return e=>e.lift(new Re(t))}class Re{constructor(t){this.callback=t}call(t,e){return e.subscribe(new je(t,this.callback))}}class je extends jt.a{constructor(t,e){super(t),this.add(new Pe.a(e))}}class Ne{constructor(t,e){this.id=t,this.url=e}}class Fe extends Ne{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Le extends Ne{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Me extends Ne{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Be extends Ne{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ve extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He extends Ne{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qe extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class We{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ze="primary";class Je{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function tn(t){return new Je(t)}function en(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function nn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sn(t[i],e[i]))return!1;return!0}function sn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function on(t){return Array.prototype.concat.apply([],t)}function an(t){return t.length>0?t[t.length-1]:null}function cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ln(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(It.a)(Promise.resolve(t)):Object(Tt.a)(t)}function un(t,e,n){return n?function(t,e){return rn(t,e)}(t.queryParams,e.queryParams)&&hn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sn(t[n],e[n]))}(t.queryParams,e.queryParams)&&dn(t.root,e.root)}function hn(t,e){if(!bn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!hn(t.children[n],e.children[n]))return!1}return!0}function dn(t,e){return fn(t,e,e.segments)}function fn(t,e,n){if(t.segments.length>n.length)return!!bn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!bn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!dn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!bn(t.segments,r)&&!!t.children.primary&&fn(t.children.primary,e,i)}}class pn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return _n.serialize(this)}}class gn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class mn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return Tn(this)}}function bn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class yn{}class vn{parse(t){const e=new Rn(t);return new pn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Cn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Sn(e)}=${Sn(t)}`).join("&"):`${Sn(e)}=${Sn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const _n=new vn;function wn(t){return t.segments.map(t=>Tn(t)).join("/")}function Cn(t,e){if(!t.hasChildren())return wn(t);if(e){const e=t.children.primary?Cn(t.children.primary,!1):"",n=[];return cn(t.children,(t,e)=>{e!==Ze&&n.push(`${e}:${Cn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return cn(t.children,(t,r)=>{r===Ze&&(n=n.concat(e(t,r)))}),cn(t.children,(t,r)=>{r!==Ze&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ze?[Cn(t.children.primary,!1)]:[`${n}:${Cn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${wn(t)}/${e[0]}`:`${wn(t)}/(${e.join("//")})`}}function En(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sn(t){return En(t).replace(/%3B/gi,";")}function xn(t){return En(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function On(t){return decodeURIComponent(t)}function In(t){return On(t.replace(/\+/g,"%20"))}function Tn(t){return`${xn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${xn(t)}=${xn(e[t])}`).join("")}`;var e}const kn=/^[^\/()?;=#]+/;function An(t){const e=t.match(kn);return e?e[0]:""}const Pn=/^[^=?&#]+/,Dn=/^[^?&#]+/;class Rn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new gn(t,e)),n}parseSegment(){const t=An(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new mn(On(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=An(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=An(this.remaining);t&&(n=t,this.capture(n))}t[On(e)]=On(n)}parseQueryParam(t){const e=function(t){const e=t.match(Pn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Dn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=In(e),i=In(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=An(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ze);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new gn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class jn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Nn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Fn(t,this._root).map(t=>t.value)}}function Nn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Nn(t,n);if(e)return e}return null}function Fn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Fn(t,n);if(r.length)return r.unshift(e),r}return[]}class Ln{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Mn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Bn extends jn{constructor(t,e){super(t),this.snapshot=e,Kn(this,t)}toString(){return this.snapshot.toString()}}function Vn(t,e){const n=function(t,e){const n=new qn([],{},{},"",{},Ze,e,null,t.root,-1,{});return new zn("",new Ln(n,[]))}(t,e),r=new Pt([new mn("",{})]),i=new Pt({}),s=new Pt({}),o=new Pt({}),a=new Pt(""),c=new Un(r,i,o,a,s,Ze,e,n.root);return c.snapshot=n.root,new Bn(new Ln(c,[]),n)}class Un{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Yt.a)(t=>tn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Yt.a)(t=>tn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qn{constructor(t,e,n,r,i,s,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zn extends jn{constructor(t,e){super(e),this.url=t,Kn(this,e)}toString(){return Wn(this._root)}}function Kn(t,e){e.value._routerState=t,e.children.forEach(e=>Kn(t,e))}function Wn(t){const e=t.children.length>0?` { ${t.children.map(Wn).join(", ")} } `:"";return`${t.value}${e}`}function Gn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),rn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),rn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $n(t,e){return rn(t.params,e.params)&&function(t,e){return bn(t,e)&&t.every((t,n)=>rn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||$n(t.parent,e.parent))}function Qn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Qn(t,e,r);return Qn(t,e)})}(t,e,n);return new Ln(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Yn(e,t),t}}const n=new Un(new Pt((r=e.value).url),new Pt(r.params),new Pt(r.queryParams),new Pt(r.fragment),new Pt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Qn(t,e));return new Ln(n,i)}var r}function Yn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Yn(t.children[n],e.children[n])}function Xn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zn(t){return"object"==typeof t&&null!=t&&t.outlets}function Jn(t,e,n,r,i){let s={};return r&&cn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new pn(n.root===t?e:tr(n.root,t,e),s,i)}function tr(t,e,n){const r={};return cn(t.children,(t,i)=>{r[i]=t===e?n:tr(t,e,n)}),new gn(t.segments,r)}class er{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Xn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Zn);if(r&&r!==an(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function rr(t,e,n){if(t||(t=new gn([],{})),0===t.segments.length&&t.hasChildren())return ir(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Zn(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!cr(a,c,e))return s;r+=2}else{if(!cr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new gn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new gn(t.segments.slice(r.pathIndex),t.children),ir(e,0,i)}return r.match&&0===i.length?new gn(t.segments,{}):r.match&&!t.hasChildren()?sr(t,e,n):r.match?ir(t,0,i):sr(t,e,n)}function ir(t,e,n){if(0===n.length)return new gn(t.segments,{});{const r=function(t){return Zn(t[0])?t[0].outlets:{[Ze]:t}}(n),i={};return cn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=rr(t.children[r],e,n))}),cn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new gn(t.segments,i)}}function sr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Zn(s)){const t=or(s.outlets);return new gn(r,t)}if(0===i&&Xn(n[0])){r.push(new mn(t.segments[e].path,ar(n[0]))),i++;continue}const o=Zn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xn(a)?(r.push(new mn(o,ar(a))),i+=2):(r.push(new mn(o,{})),i++)}return new gn(r,{})}function or(t){const e={};return cn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=sr(new gn([],{}),0,t))}),e}function ar(t){const e={};return cn(t,(t,n)=>e[n]=`${t}`),e}function cr(t,e,n){return t==n.path&&rn(e,n.parameters)}class lr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Gn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Mn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),cn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Mn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Mn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ye(t.value.snapshot))}),t.children.length&&this.forwardEvent(new $e(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Gn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ur(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ur(t){Gn(t.value),t.children.forEach(ur)}class hr{constructor(t,e){this.routes=t,this.module=e}}function dr(t){return"function"==typeof t}function fr(t){return t instanceof pn}const pr=Symbol("INITIAL_VALUE");function gr(){return Zt(t=>function(...t){let e,n;return Object(Dt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Rt.a)(t[0])&&(t=t[0]),Object(Vt.a)(t,n).lift(new Ht(e))}(t.map(t=>t.pipe(ne(1),se(pr)))).pipe(oe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==pr)return t;if(r===pr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fr(r))return r}return t},t)},pr),le(t=>t!==pr),Object(Yt.a)(t=>fr(t)?t:!0===t),ne(1)))}let mr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Qb(0,"router-outlet")},directives:function(){return[di]},encapsulation:2}),t})();function br(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];yr(r,vr(e,r))}}function yr(t,e){t.children&&br(t.children,e)}function vr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function _r(t){const e=t.children&&t.children.map(_r),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=mr),n}function wr(t){return t.outlet||Ze}function Cr(t,e){const n=t.filter(t=>wr(t)===e);return n.push(...t.filter(t=>wr(t)!==e)),n}const Er={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Sr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Er):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||nn)(n,t,e);if(!i)return Object.assign({},Er);const s={};cn(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function xr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Or(t,e,n)&&wr(n)!==Ze)}(t,n,r)){const i=new gn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&wr(s)!==Ze){const n=new gn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[wr(s)]=n}return i}(t,e,r,new gn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Or(t,e,n))}(t,n,r)){const s=new gn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Or(t,n,a)&&!i[wr(a)]){const n=new gn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[wr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new gn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Or(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ir(t,e,n,r){return!!(wr(t)===r||r!==Ze&&Or(e,n,t))&&("**"===t.path||Sr(e,t,n).matched)}function Tr(t,e,n){return 0===e.length&&!t.children[n]}class kr{constructor(t){this.segmentGroup=t||null}}class Ar{constructor(t){this.urlTree=t}}function Pr(t){return new Mt.a(e=>e.error(new kr(t)))}function Dr(t){return new Mt.a(e=>e.error(new Ar(t)))}function Rr(t){return new Mt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class jr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=xr(this.urlTree.root,[],[],this.config).segmentGroup,e=new gn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ze).pipe(Object(Yt.a)(t=>this.createUrlTree(Nr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(de(t=>{if(t instanceof Ar)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof kr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ze).pipe(Object(Yt.a)(e=>this.createUrlTree(Nr(e),t.queryParams,t.fragment))).pipe(de(t=>{if(t instanceof kr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new gn([],{[Ze]:t}):t;return new pn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Yt.a)(t=>new gn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(It.a)(r).pipe(me(r=>{const i=n.children[r],s=Cr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Yt.a)(t=>({segment:t,outlet:r})))}),oe((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?le((e,n)=>t(e,n,r)):Ie.a,be(1),n?Se(e):_e(()=>new zt))}())}expandSegment(t,e,n,r,i,s){return Object(It.a)(n).pipe(me(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(de(t=>{if(t instanceof kr)return Object(Tt.a)(null);throw t}))),Te(t=>!!t),de((t,n)=>{if(t instanceof zt||"EmptyError"===t.name){if(Tr(e,r,i))return Object(Tt.a)(new gn([],{}));throw new kr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ir(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Pr(e):Pr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Dr(i):this.lineralizeSegments(n,i).pipe(Object(ge.a)(n=>{const i=new gn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Sr(e,r,i);if(!o)return Pr(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Dr(u):this.lineralizeSegments(r,u).pipe(Object(ge.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Tt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Yt.a)(t=>(n._loadedConfig=t,new gn(r,{})))):Object(Tt.a)(new gn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Sr(e,n,r);if(!s)return Pr(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ge.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=xr(e,o,c,s),u=new gn(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe(Object(Yt.a)(t=>new gn(o,t)));if(0===s.length&&0===l.length)return Object(Tt.a)(new gn(o,{}));const h=wr(n)===i;return this.expandSegment(r,u,s,l,h?Ze:i,!0).pipe(Object(Yt.a)(t=>new gn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Tt.a)(new hr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Tt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ge.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Yt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Mt.a(e=>e.error(en(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Tt.a)(new hr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Tt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&dr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!dr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return ln(s)});return Object(Tt.a)(i).pipe(gr(),Object(ke.a)(t=>{if(!fr(t))return;const e=en(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Yt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Tt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Rr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new pn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return cn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return cn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new gn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Nr(t){const e={};for(const n of Object.keys(t.children)){const r=Nr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new gn(t.segments.concat(e.segments),e.children)}return t}(new gn(t.segments,e))}class Fr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lr{constructor(t,e){this.component=t,this.route=e}}function Mr(t,e,n){const r=t._root;return Vr(r,e?e._root:null,n,[r.value])}function Br(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Mn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bn(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!$n(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Fr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Vr(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lr(a.outlet.component,o))}else o&&Ur(e,a,i),i.canActivateChecks.push(new Fr(r)),Vr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),cn(s,(t,e)=>Ur(t,n.getContext(e),i)),i}function Ur(t,e,n){const r=Mn(t),i=t.value;cn(r,(t,r)=>{Ur(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Lr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Hr{}function qr(t){return new Mt.a(e=>e.error(t))}class zr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=xr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ze);if(null===e)return null;const n=new qn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ze,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ln(n,e),i=new zn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Hn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Cr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Wr(n);return r.sort((t,e)=>t.value.outlet===Ze?-1:e.value.outlet===Ze?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Tr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ir(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?an(n).parameters:{};i=new qn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qr(t),wr(t),t.component,t,Gr(e),$r(e)+n.length,Yr(t))}else{const r=Sr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new qn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qr(t),wr(t),t.component,t,Gr(e),$r(e)+s.length,Yr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=xr(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Ln(i,t)]}if(0===a.length&&0===l.length)return[new Ln(i,[])];const u=wr(t)===r,h=this.processSegment(a,c,l,u?Ze:r);return null===h?null:[new Ln(i,h)]}}function Kr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wr(t){const e=[],n=new Set;for(const r of t){if(!Kr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Wr(r.children);e.push(new Ln(r.value,t))}return e.filter(t=>!n.has(t))}function Gr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $r(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qr(t){return t.data||{}}function Yr(t){return t.resolve||{}}function Xr(t){return Zt(e=>{const n=t(e);return n?Object(It.a)(n).pipe(Object(Yt.a)(()=>e)):Object(Tt.a)(e)})}class Zr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Jr=new r.r("ROUTES");class ti{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Yt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new hr(on(i.injector.get(Jr,void 0,r.q.Self|r.q.Optional)).map(_r),i)}),de(t=>{throw e._loader$=void 0,t}));return e._loader$=new Qt.a(n,()=>new kt.a).pipe(Object(Ae.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(It.a)(this.loader.load(t)):ln(t()).pipe(Object(ge.a)(t=>t instanceof r.w?Object(Tt.a)(t):Object(It.a)(this.compiler.compileModuleAsync(t))))}}class ei{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ni,this.attachRef=null}}class ni{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ei,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ri{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ii(t){throw t}function si(t,e,n){return e.parse("/")}function oi(t,e){return Object(Tt.a)(null)}let ai=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new kt.a,this.errorHandler=ii,this.malformedUriErrorHandler=si,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oi,afterPreactivation:oi},this.urlHandlingStrategy=new ri,this.routeReuseStrategy=new Zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const l=s.get(r.A);this.isNgZoneEnabled=l instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new pn(new gn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ti(o,a,t=>this.triggerEvent(new Ke(t)),t=>this.triggerEvent(new We(t))),this.routerState=Vn(this.currentUrlTree,this.rootComponentType),this.transitions=new Pt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(le(t=>0!==t.id),Object(Yt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Zt(t=>{let n=!1,r=!1;return Object(Tt.a)(t).pipe(Object(ke.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Tt.a)(t).pipe(Zt(t=>{const n=this.transitions.getValue();return e.next(new Fe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Gt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Zt(t=>function(t,e,n,r,i){return new jr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Yt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ke.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ge.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new zr(t,e,n,r,i,s).recognize();return null===o?qr(new Hr):Object(Tt.a)(o)}catch(Cx){return qr(Cx)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Yt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ke.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Fe(n,this.serializeUrl(r),i,s);e.next(a);const c=Vn(r,this.rootComponentType).snapshot;return Object(Tt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Gt.a}),Xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ke.a)(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Yt.a)(t=>Object.assign(Object.assign({},t),{guards:Mr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ge.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Tt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(It.a)(t).pipe(Object(ge.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Tt.a)(!0);const o=s.map(s=>{const o=Br(s,e,i);let a;if(function(t){return t&&dr(t.canDeactivate)}(o))a=ln(o.canDeactivate(t,e,n,r));else{if(!dr(o))throw new Error("Invalid CanDeactivate guard");a=ln(o(t,e,n,r))}return a.pipe(Te())});return Object(Tt.a)(o).pipe(gr())}(t.component,t.route,n,e,r)),Te(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ge.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(It.a)(e).pipe(me(e=>Wt(function(t,e){return null!==t&&e&&e(new Ge(t)),Object(Tt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Qe(t)),Object(Tt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$t(()=>{const i=e.guards.map(i=>{const s=Br(i,e.node,n);let o;if(function(t){return t&&dr(t.canActivateChild)}(s))o=ln(s.canActivateChild(r,t));else{if(!dr(s))throw new Error("Invalid CanActivateChild guard");o=ln(s(r,t))}return o.pipe(Te())});return Object(Tt.a)(i).pipe(gr())}));return Object(Tt.a)(i).pipe(gr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Tt.a)(!0);const i=r.map(r=>$t(()=>{const i=Br(r,e,n);let s;if(function(t){return t&&dr(t.canActivate)}(i))s=ln(i.canActivate(e,t));else{if(!dr(i))throw new Error("Invalid CanActivate guard");s=ln(i(e,t))}return s.pipe(Te())}));return Object(Tt.a)(i).pipe(gr())}(t,e.route,n))),Te(t=>!0!==t,!0))}(r,s,t,e):Object(Tt.a)(n)),Object(Yt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ke.a)(t=>{if(fr(t.guardsResult)){const e=en(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new He(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),le(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Me(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Xr(t=>{if(t.guards.canActivateChecks.length)return Object(Tt.a)(t).pipe(Object(ke.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Zt(t=>{let n=!1;return Object(Tt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ge.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Tt.a)(t);let s=0;return Object(It.a)(n).pipe(me(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Tt.a)({});const s={};return Object(It.a)(i).pipe(Object(ge.a)(i=>function(t,e,n,r){const i=Br(t,e,r);return ln(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ke.a)(t=>{s[i]=t}))),be(1),Object(ge.a)(()=>Object.keys(s).length===i.length?Object(Tt.a)(s):Gt.a))}(t._resolve,t,e,r).pipe(Object(Yt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Hn(t,n).resolve),null)))}(t.route,e,r,i)),Object(ke.a)(()=>s++),be(1),Object(ge.a)(e=>s===n.length?Object(Tt.a)(t):Gt.a))})),Object(ke.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Me(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ke.a)(t=>{const e=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Yt.a)(t=>{const e=function(t,e,n){const r=Qn(t,e._root,n?n._root:void 0);return new Bn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ke.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(Yt.a)(t=>(new lr(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(ke.a)({next(){n=!0},complete(){n=!0}}),De(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Me(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),de(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=fr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Me(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Be(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Xm){t.reject(Xm)}}var i;return Gt.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){br(t),this.config=t.map(_r),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Jn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new er(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return cn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new er(n,e,r)}(n);if(s.toRoot())return Jn(e.root,new gn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new nr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new nr(t,t===e.root,0)}const r=Xn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new nr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ir(o.segmentGroup,o.index,s.commands):rr(o.segmentGroup,o.index,s.commands);return Jn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=fr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Cx){e=this.malformedUriErrorHandler(Cx,this.urlSerializer,t)}return e}isActive(t,e){if(fr(t))return un(this.currentUrlTree,t,e);const n=this.parseUrl(t);return un(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,u;i?(c=i.resolve,l=i.reject,u=i.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.O),r.bc(yn),r.bc(ni),r.bc(w),r.bc(r.s),r.bc(r.x),r.bc(r.i),r.bc(void 0))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),ci=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new kt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ai),r.Pb(Un),r.cc("tabindex"),r.Pb(r.F),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.ec("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})(),li=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new kt.a,this.subscription=t.events.subscribe(t=>{t instanceof Le&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ai),r.Pb(Un),r.Pb(m))},t.\u0275dir=r.Kb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ec("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Xb("href",e.href,r.zc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})();function ui(t){return""===t||!!t}let hi=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Le&&this.update()})}ngAfterContentInit(){Object(Tt.a)(this.links.changes,this.linksWithHrefs.changes,Object(Tt.a)(null)).pipe(Object(Kt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(It.a)(e).pipe(Object(Kt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ai),r.Pb(r.l),r.Pb(r.F),r.Pb(r.h),r.Pb(ci,8),r.Pb(li,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,ci,1),r.Ib(n,li,1)),2&t){let t;r.uc(t=r.fc())&&(e.links=t),r.uc(t=r.fc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Ab]}),t})(),di=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ze,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new fi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ni),r.Pb(r.R),r.Pb(r.j),r.cc("name"),r.Pb(r.h))},t.\u0275dir=r.Kb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class fi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Un?this.route:t===ni?this.childContexts:this.parent.get(t,e)}}class pi{}class gi{preload(t,e){return Object(Tt.a)(null)}}let mi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ti(e,n,e=>t.triggerEvent(new Ke(e)),e=>t.triggerEvent(new We(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(le(t=>t instanceof Le),me(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(It.a)(n).pipe(Object(Kt.a)(),Object(Yt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Tt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(ge.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(ai),r.bc(r.x),r.bc(r.i),r.bc(r.s),r.bc(pi))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),bi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Le&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Xe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(ai),r.bc(G),r.bc(void 0))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const yi=new r.r("ROUTER_CONFIGURATION"),vi=new r.r("ROUTER_FORROOT_GUARD"),_i=[w,{provide:yn,useClass:vn},{provide:ai,useFactory:function(t,e,n,r,i,o,a,c={},l,u){const h=new ai(null,t,e,n,r,i,o,on(a));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[yn,ni,w,r.s,r.x,r.i,Jr,yi,[class{},new r.B],[class{},new r.B]]},ni,{provide:Un,useFactory:function(t){return t.routerState.root},deps:[ai]},{provide:r.x,useClass:r.L},mi,gi,class{preload(t,e){return e().pipe(de(()=>Object(Tt.a)(null)))}},{provide:yi,useValue:{enableTracing:!1}}];function wi(){return new r.z("Router",ai)}let Ci=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[_i,Oi(e),{provide:vi,useFactory:xi,deps:[[ai,new r.B,new r.K]]},{provide:yi,useValue:n||{}},{provide:m,useFactory:Si,deps:[a,[new r.p(y),new r.B],yi]},{provide:bi,useFactory:Ei,deps:[ai,G,yi]},{provide:pi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:gi},{provide:r.z,multi:!0,useFactory:wi},[Ii,{provide:r.d,multi:!0,useFactory:Ti,deps:[Ii]},{provide:Ai,useFactory:ki,deps:[Ii]},{provide:r.b,multi:!0,useExisting:Ai}]]}}static forChild(e){return{ngModule:t,providers:[Oi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(vi,8),r.bc(ai,8))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();function Ei(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bi(t,e,n)}function Si(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function xi(t){return"guarded"}function Oi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Jr,multi:!0,useValue:t}]}let Ii=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new kt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ai),r=this.injector.get(yi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Tt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(yi),n=this.injector.get(mi),i=this.injector.get(bi),s=this.injector.get(ai),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();function Ti(t){return t.appInitializer.bind(t)}function ki(t){return t.bootstrapListener.bind(t)}const Ai=new r.r("Router Initializer");var Pi=n("mrSG");let Di=(()=>{class t{constructor(){this.sendHistorySubject=new kt.a,this.sendHistoryObservable=this.sendHistorySubject.asObservable(),this.sendFENSubject=new kt.a,this.sendFENObservable=this.sendFENSubject.asObservable()}sendHistory(t,e){return Object(Pi.b)(this,void 0,void 0,function*(){e=[],yield t.getMoveHistory().forEach(t=>{e.push(t)}),this.sendHistorySubject.next(e)})}reset(t){t.reset(),this.sendHistorySubject.next([])}undo(t,e){t.undo(),e.splice(e.length-1),this.sendHistorySubject.next(e)}setFEN(t){this.sendFENSubject.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ri{}const ji="*";function Ni(t,e){return{type:7,name:t,definitions:e,options:{}}}function Fi(t,e=null){return{type:4,styles:e,timings:t}}function Li(t,e=null){return{type:2,steps:t,options:e}}function Mi(t){return{type:6,styles:t,offset:null}}function Bi(t,e,n){return{type:0,name:t,styles:e,options:n}}function Vi(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ui(t=null){return{type:9,options:t}}function Hi(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function qi(t){Promise.resolve(null).then(t)}class zi{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qi(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ki{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?qi(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Wi(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gi(t){switch(t.length){case 0:return new zi;case 1:return t[0];default:return new Ki(t)}}function $i(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,u=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case ji:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),l=u,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Qi(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Yi(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Yi(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Yi(n,"destroy",t)))}}function Yi(t,e,n){const r=n.totalTime,i=Xi(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Xi(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Zi(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ji(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ts=(t,e)=>!1,es=(t,e)=>!1,ns=(t,e,n)=>[];const rs=Wi();(rs||"undefined"!=typeof Element)&&(ts=(t,e)=>t.contains(e),es=(()=>{if(rs||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):es}})(),ns=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let is=null,ss=!1;function os(t){is||(is=("undefined"!=typeof document?document.body:null)||{},ss=!!is.style&&"WebkitAppearance"in is.style);let e=!0;return is.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in is.style,!e&&ss)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in is.style),e}const as=es,cs=ts,ls=ns;function us(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let hs=(()=>{class t{validateStyleProperty(t){return os(t)}matchesElement(t,e){return as(t,e)}containsElement(t,e){return cs(t,e)}query(t,e,n){return ls(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new zi(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),ds=(()=>{class t{}return t.NOOP=new hs,t})();const fs="ng-enter",ps="ng-leave",gs="ng-trigger",ms=".ng-trigger",bs="ng-animating",ys=".ng-animating";function vs(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_s(parseFloat(e[1]),e[2])}function _s(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ws(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=_s(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=_s(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Cs(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Es(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Cs(t,n);return n}function Ss(t,e,n){return n?e+":"+n+";":""}function xs(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ss(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ss(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Os(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=js(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Wi()&&xs(t))}function Is(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=js(e);t.style[n]=""}),Wi()&&xs(t))}function Ts(t){return Array.isArray(t)?1==t.length?t[0]:Li(t):t}const ks=new RegExp("{{\\s*(.+?)\\s*}}","g");function As(t){let e=[];if("string"==typeof t){let n;for(;n=ks.exec(t);)e.push(n[1]);ks.lastIndex=0}return e}function Ps(t,e,n){const r=t.toString(),i=r.replace(ks,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Ds(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Rs=/-+([a-z0-9])/g;function js(t){return t.replace(Rs,(...t)=>t[1].toUpperCase())}function Ns(t,e){return 0===t||0===e}function Fs(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Ms(t,e)})}}return e}function Ls(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ms(t,e){return window.getComputedStyle(t)[e]}const Bs="*";function Vs(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(qs(i,o)),"<"!=s[0]||i==Bs&&o==Bs||e.push(qs(o,i))}(t,n,e)):n.push(t),n}const Us=new Set(["true","1"]),Hs=new Set(["false","0"]);function qs(t,e){const n=Us.has(t)||Hs.has(t),r=Us.has(e)||Hs.has(e);return(i,s)=>{let o=t==Bs||t==i,a=e==Bs||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Us.has(t):Hs.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Us.has(e):Hs.has(e)),o&&a}}const zs=new RegExp("s*:selfs*,?","g");function Ks(t,e,n){return new Ws(t).build(e,n)}class Ws{constructor(t){this._driver=t}build(t,e){const n=new Gs(e);return this._resetContextStyleTimingState(n),Ls(this,Ts(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if($s(t)){const e=t;Object.keys(e).forEach(t=>{As(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Ds(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ls(this,Ts(t.animation),e);return{type:1,matchers:Vs(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Qs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ls(this,t,e)),options:Qs(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Ls(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Qs(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ys(ws(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Ys(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||ws(r,e),Ys(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Mi({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Mi(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ji?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if($s(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=As(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if($s(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if($s(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ls(this,Ts(t.animation),e),options:Qs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Qs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qs(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(zs,"")),[t=t.replace(/@\*/g,ms).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,ys),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Zi(e.collectedStyles,e.currentQuerySelector,{});const o=Ls(this,Ts(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Qs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ws(t.timings,e.errors,!0);return{type:12,animation:Ls(this,Ts(t.animation),e),timings:n,options:null}}}class Gs{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function $s(t){return!Array.isArray(t)&&"object"==typeof t}function Qs(t){var e;return t?(t=Cs(t)).params&&(t.params=(e=t.params)?Cs(e):null):t={},t}function Ys(t,e,n){return{duration:t,delay:e,easing:n}}function Xs(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Zs{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Js=new RegExp(":enter","g"),to=new RegExp(":leave","g");function eo(t,e,n,r,i,s={},o={},a,c,l=[]){return(new no).buildKeyframes(t,e,n,r,i,s,o,a,c,l)}class no{buildKeyframes(t,e,n,r,i,s,o,a,c,l=[]){c=c||new Zs;const u=new io(t,e,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Ls(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Xs(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?vs(n.duration):null,s=null!=n.delay?vs(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ls(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ro);const t=vs(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ls(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?vs(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Ls(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ws(e.params?Ps(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?vs(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ro);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Ls(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Ls(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const ro={};class io{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ro,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new so(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=vs(n.duration)),null!=n.delay&&(r.delay=vs(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ps(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new io(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ro,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new oo(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Js,"."+this._enterClassName)).replace(to,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class so{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new so(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ji,this._currentKeyframe[t]=ji}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=ji})):Es(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Ps(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ji),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Es(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==ji&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Ds(t.values()):[],s=e.size?Ds(e.values()):[];if(n){const t=r[0],e=Cs(t);t.offset=0,e.offset=1,r=[t,e]}return Xs(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class oo extends so{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Es(t[0],!1);a.offset=0,i.push(a);const c=Es(t[0],!1);c.offset=ao(o),i.push(c);const l=t.length-1;for(let r=1;r<=l;r++){let o=Es(t[r],!1);o.offset=ao((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Xs(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ao(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class co{}class lo extends co{normalizePropertyName(t,e){return js(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(uo[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const uo=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ho(t,e,n,r,i,s,o,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const fo={};class po{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||fo,d=this.buildStyles(n,o&&o.params||fo,u),f=a&&a.params||fo,p=this.buildStyles(r,f,u),g=new Set,m=new Map,b=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=l?[]:eo(t,e,this.ast.animation,i,s,d,p,v,c,u);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return ho(e,this._triggerName,n,r,y,d,p,[],[],m,b,w,u);_.forEach(t=>{const n=t.element,r=Zi(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Zi(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=Ds(g.values());return ho(e,this._triggerName,n,r,y,d,p,_,C,m,b,w)}}class go{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Cs(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Ps(s,r,e)),n[t]=s})}}),n}}class mo{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new go(t.style,t.options&&t.options.params||{})}),bo(this.states,"true","1"),bo(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new po(t,e,this.states))}),this.fallbackTransition=new po(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function bo(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const yo=new Zs;class vo{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ks(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=$i(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=eo(this._driver,e,i,fs,ps,{},{},n,yo,r),s.forEach(t=>{const e=Zi(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ji)})});const a=Gi(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Xi(e,"","","");return Qi(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const _o="ng-animate-queued",wo="ng-animate-disabled",Co=".ng-animate-disabled",Eo=[],So={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Oo{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Cs(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Io="void",To=new Oo(Io);class ko{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fo(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Zi(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Zi(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Fo(t,gs),Fo(t,"ng-trigger-"+e),a[e]=To),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Po(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Fo(t,gs),Fo(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Oo(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=To),c.value!==Io&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Is(t,n),Os(t,r)})}return}const l=Zi(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Fo(t,_o),s.onStart(()=>{Lo(t,_o)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ms,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Io,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Gi(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||To,a=new Oo(Io),c=new Po(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==So||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Fo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Xi(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Qi(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Ao{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ko(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Do(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Do(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fo(t,wo)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lo(t,wo))}removeNode(t,e,n,r){if(Do(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Do(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ms,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ys,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gi(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=So,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Co)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Co,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Fo(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Gi(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Zs,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=No(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=fs+p++;f.set(e,n),t.forEach(t=>Fo(t,n))});const g=[],m=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const y=new Map,v=No(h,Array.from(m));v.forEach((t,e)=>{const n=ps+p++;y.set(e,n),t.forEach(t=>Fo(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Lo(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Lo(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>Is(i,p.fromStyles)),e.onDestroy(()=>Os(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Is(i,p.fromStyles)),e.onDestroy(()=>Os(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Zi(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Zi(C,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Vo(t,a,c)),x=new Map;jo(x,this.driver,b,c,ji).forEach(t=>{Vo(t,a,c)&&S.push(t)});const O=new Map;d.forEach((t,e)=>{jo(O,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=x.get(t),n=O.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>Os(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,O,x);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Gi(e)),r.push(s)}}else Is(e,o.fromStyles),s.onDestroy(()=>Os(e,o.toStyles)),T.push(s),l.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Gi(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Lo(t,ps),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,ys,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Mo(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Io;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Zi(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Is(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new zi(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Bo(t,e),e}((n.get(h)||Eo).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),b=$i(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&u.add(h),f){const e=new Po(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{Zi(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Fo(t,bs));const d=Gi(h);return d.onDestroy(()=>{l.forEach(t=>Lo(t,bs)),Os(a,e.toStyles)}),u.forEach(t=>{Zi(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new zi(t.duration,t.delay)}}class Po{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new zi,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Qi(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Zi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Do(t){return t&&1===t.nodeType}function Ro(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function jo(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Ro(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=xo,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Ro(t,s[a++])),o}function No(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Fo(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Lo(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Mo(t,e,n){Gi(n).onDone(()=>t.processLeaveNode(e))}function Bo(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Ki?Bo(r.players,e):e.push(r)}}function Vo(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Uo{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ao(t,e,n),this._timelineEngine=new vo(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ks(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new mo(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ji(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ji(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ho(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=zo(e[0]),e.length>1&&(r=zo(e[e.length-1]))):e&&(n=zo(e)),n||r?new qo(t,n,r):null}let qo=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Os(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Os(this._element,this._initialStyles),this._endStyles&&(Os(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Is(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Is(this._element,this._endStyles),this._endStyles=null),Os(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function zo(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ko(i)&&(e=e||{},e[i]=t[i])}return e}function Ko(t){return"display"===t||"position"===t}const Wo="animation",Go="animationend";class $o{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ta(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Jo(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Zo(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Qo(this._element,this._name,"paused")}resume(){Qo(this._element,this._name,"running")}setPosition(t){const e=Yo(this._element,this._name);this._position=t*this._duration,Jo(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Zo(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ta(t,"").split(","),r=Xo(n,e);r>=0&&(n.splice(r,1),Jo(t,"",n.join(",")))}(this._element,this._name))}}function Qo(t,e,n){Jo(t,"PlayState",n,Yo(t,e))}function Yo(t,e){const n=ta(t,"");return n.indexOf(",")>0?Xo(n.split(","),e):Xo([n],e)}function Xo(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Zo(t,e,n){n?t.removeEventListener(Go,e):t.addEventListener(Go,e)}function Jo(t,e,n,r){const i=Wo+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function ta(t,e){return t.style[Wo+e]||""}class ea{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $o(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ms(this.element,n))})}this.currentSnapshot=t}}class na extends zi{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=us(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ra{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return os(t)}matchesElement(t,e){return as(t,e)}containsElement(t,e){return cs(t,e)}query(t,e,n){return ls(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>us(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof ea),c={};Ns(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Fs(t,e,c));if(0==n)return new na(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Ho(t,e),f=new ea(t,e,u,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class ia{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ms(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class sa{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(oa().toString()),this._cssKeyframesDriver=new ra}validateStyleProperty(t){return os(t)}matchesElement(t,e){return as(t,e)}containsElement(t,e){return cs(t,e)}query(t,e,n){return ls(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=s.filter(t=>t instanceof ia);Ns(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=Ho(t,e=Fs(t,e=e.map(t=>Es(t,!1)),c));return new ia(t,e,a,u)}}function oa(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let aa=(()=>{class t extends Ri{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Li(t):t;return ua(this._renderer,null,e,"register",[n]),new ca(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.G),r.bc(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class ca extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new la(this._id,t,e||{},this._renderer)}}class la{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ua(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ua(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const ha="@",da="@.disabled";let fa=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new pa("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ga(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.G),r.bc(Uo),r.bc(r.A))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class pa{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ha&&e==da?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ga extends pa{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ha?"."==e.charAt(1)&&e==da?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ha){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=ha&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ma=(()=>{class t extends Uo{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o),r.bc(ds),r.bc(co))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const ba=new r.r("AnimationModuleType"),ya=[{provide:ds,useFactory:function(){return"function"==typeof oa()?new sa:new ra}},{provide:ba,useValue:"BrowserAnimations"},{provide:Ri,useClass:aa},{provide:co,useFactory:function(){return new lo}},{provide:Uo,useClass:ma},{provide:r.G,useFactory:function(t,e,n){return new fa(t,e,n)},deps:[ht,Uo,r.A]}];let va=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:ya,imports:[Ot]}),t})();function _a(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var wa=n("D0XW");function Ca(t,e=wa.a){return n=>n.lift(new Ea(t,e))}class Ea{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Sa(t,this.dueTime,this.scheduler))}}class Sa extends jt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xa,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function xa(t){t.debouncedNext()}function Oa(t){return null!=t&&"false"!=`${t}`}function Ia(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ta(t){return Array.isArray(t)?t:[t]}function ka(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Aa(t){return t instanceof r.l?t.nativeElement:t}let Pa;try{Pa="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(vD){Pa=!1}let Da,Ra=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Pa)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.C))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(r.C))},token:t,providedIn:"root"}),t})(),ja=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const Na=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Fa(){if(Da)return Da;if("object"!=typeof document||!document)return Da=new Set(Na),Da;let t=document.createElement("input");return Da=new Set(Na.filter(e=>(t.setAttribute("type",e),t.type===e))),Da}let La,Ma,Ba;function Va(t){return function(){if(null==La&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>La=!0}))}finally{La=La||!1}return La}()?t:!!t.capture}function Ua(){if(null==Ma){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ma=!1,Ma;if("scrollBehavior"in document.documentElement.style)Ma=!0;else{const t=Element.prototype.scrollTo;Ma=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Ma}function Ha(t){if(function(){if(null==Ba){const t="undefined"!=typeof document?document.head:null;Ba=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ba}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}let qa=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),za=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Aa(t);return new Mt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new kt.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(qa))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(qa))},token:t,providedIn:"root"}),t})(),Ka=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Oa(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ia(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ca(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(za),r.Pb(r.l),r.Pb(r.A))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Wa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[qa]}),t})();class Ga{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kt.a,this._typeaheadSubscription=Pe.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new kt.a,this.change=new kt.a,t instanceof r.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(ke.a)(t=>this._pressedLetters.push(t)),Ca(t),le(()=>this._pressedLetters.length>0),Object(Yt.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||_a(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.E?this._items.toArray():this._items}}class $a extends Ga{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Qa extends Ga{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ya=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(vD){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Za(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Za(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Xa(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Ra))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(Ra))},token:t,providedIn:"root"}),t})();function Xa(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Za(t){if(!Xa(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ja{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ne(1)).subscribe(t)}}let tc=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Ja(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Ya),r.bc(r.A),r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(Ya),Object(r.bc)(r.A),Object(r.bc)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const ec=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),nc=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let rc=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.bc(ec,8),r.bc(r.A),r.bc(o),r.bc(nc,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(ec,8),Object(r.bc)(r.A),Object(r.bc)(o),Object(r.bc)(nc,8))},token:t,providedIn:"root"}),t})();function ic(t){return 0===t.buttons}function sc(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const oc=new r.r("cdk-focus-monitor-default-options"),ac=Va({passive:!0,capture:!0});let cc=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=ic(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{sc(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=lc(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=lc(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Aa(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Tt.a)(null);const r=Ha(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new kt.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Aa(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Aa(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=lc(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===lc(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ac),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ac)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ac),t.addEventListener("mousedown",this._documentMousedownListener,ac),t.addEventListener("touchstart",this._documentTouchstartListener,ac),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ac),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ac),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ac),t.removeEventListener("mousedown",this._documentMousedownListener,ac),t.removeEventListener("touchstart",this._documentTouchstartListener,ac),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(Ra),r.bc(o,8),r.bc(oc,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(Ra),Object(r.bc)(o,8),Object(r.bc)(oc,8))},token:t,providedIn:"root"}),t})();function lc(t){return t.composedPath?t.composedPath()[0]:t.target}const uc="cdk-high-contrast-black-on-white",hc="cdk-high-contrast-white-on-black",dc="cdk-high-contrast-active";let fc=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(dc),t.remove(uc),t.remove(hc);const e=this.getHighContrastMode();1===e?(t.add(dc),t.add(uc)):2===e&&(t.add(dc),t.add(hc))}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Ra),r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(Ra),Object(r.bc)(o))},token:t,providedIn:"root"}),t})(),pc=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(fc))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[ja,Wa]]}),t})();const gc=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(o)}});let mc=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(gc,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(gc,8))},token:t,providedIn:"root"}),t})(),bc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const yc=new r.Q("11.2.10"),vc=["*",[["mat-option"],["ng-container"]]],_c=["*","mat-option, ng-container"];function wc(t,e){if(1&t&&r.Qb(0,"mat-pseudo-checkbox",4),2&t){const t=r.ic();r.nc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Cc(t,e){if(1&t&&(r.Ub(0,"span",5),r.Gc(1),r.Tb()),2&t){const t=r.ic();r.Cb(1),r.Ic("(",t.group.label,")")}}const Ec=["*"],Sc=new r.Q("11.2.10"),xc=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Oc,Ic=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Sc.full!==yc.full&&console.warn("The Angular Material version ("+Sc.full+") does not match the Angular CDK version ("+yc.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.bc(fc),r.bc(xc,8),r.bc(o))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[bc],bc]}),t})();function Tc(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Oa(t)}}}function kc(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Ac(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Oa(t)}}}function Pc(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ia(t):this.defaultTabIndex}}}function Dc(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new kt.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{Oc="undefined"!=typeof Intl}catch(vD){Oc=!1}let Rc=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class jc{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Nc={enterDuration:450,exitDuration:400},Fc=Va({passive:!0}),Lc=["mousedown","touchstart"],Mc=["mouseup","mouseleave","touchend","touchcancel"];class Bc{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Aa(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Nc),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new jc(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Nc),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Aa(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Lc))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Mc),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ic(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!sc(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Fc)})})}_removeTriggerEvents(){this._triggerElement&&(Lc.forEach(t=>{this._triggerElement.removeEventListener(t,this,Fc)}),this._pointerUpEventsRegistered&&Mc.forEach(t=>{this._triggerElement.removeEventListener(t,this,Fc)}))}}const Vc=new r.r("mat-ripple-global-options");let Uc=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Bc(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.A),r.Pb(Ra),r.Pb(Vc,8),r.Pb(ba,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Hb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ic,ja],Ic]}),t})(),qc=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ba,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Hb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ic]]}),t})();const Kc=new r.r("MAT_OPTION_PARENT_COMPONENT");class Wc{}const Gc=Tc(Wc);let $c=0,Qc=(()=>{class t extends Gc{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+$c++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Kc,8))},t.\u0275dir=r.Kb({type:t,inputs:{label:"label"},features:[r.zb]}),t})();const Yc=new r.r("MatOptgroup");let Xc=(()=>{class t extends Qc{}return t.\u0275fac=function(e){return Zc(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Db("role",e._inert?null:"group")("aria-disabled",e._inert?null:e.disabled.toString())("aria-labelledby",e._inert?null:e._labelId),r.Hb("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[r.Bb([{provide:Yc,useExisting:t}]),r.zb],ngContentSelectors:_c,decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(r.mc(vc),r.Ub(0,"span",0),r.Gc(1),r.lc(2),r.Tb(),r.lc(3,1)),2&t&&(r.nc("id",e._labelId),r.Cb(1),r.Ic("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const Zc=r.Wb(Xc);let Jc=0;class tl{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let el=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Jc++,this.onSelectionChange=new r.n,this._stateChanges=new kt.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Oa(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||_a(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new tl(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(void 0),r.Pb(Qc))},t.\u0275dir=r.Kb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),nl=(()=>{class t extends el{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(Kc,8),r.Pb(Yc,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.ec("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Xb("id",e.id),r.Db("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Hb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.zb],ngContentSelectors:Ec,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(r.mc(),r.Ec(0,wc,1,2,"mat-pseudo-checkbox",0),r.Ub(1,"span",1),r.lc(2),r.Tb(),r.Ec(3,Cc,2,1,"span",2),r.Qb(4,"div",3)),2&t&&(r.nc("ngIf",e.multiple),r.Cb(3),r.nc("ngIf",e.group&&e.group._inert),r.Cb(1),r.nc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[D,Uc,qc],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function rl(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}let il=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Hc,K,Ic,zc]]}),t})();const sl=["*",[["mat-card-footer"]]],ol=["*","mat-card-footer"];let al=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),cl=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ba,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:ol,decls:2,vars:0,template:function(t,e){1&t&&(r.mc(sl),r.lc(0),r.lc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),ll=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ic],Ic]}),t})();function ul(t,e){if(1&t&&(r.Ub(0,"span"),r.Gc(1),r.Tb()),2&t){const t=r.ic().$implicit,e=r.ic();r.Cb(1),r.Hc(e.pieces[0]["N"+t.color[0]])}}function hl(t,e){if(1&t&&r.Gc(0),2&t){const t=r.ic().$implicit,e=r.ic();r.Hc(e.pieces[0][t.piece[0]+t.color[0]])}}function dl(t,e){1&t&&(r.Ub(0,"span"),r.Gc(1,"x"),r.Tb())}function fl(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"span"),r.Gc(2),r.Tb(),r.Ec(3,ul,2,1,"span",1),r.Ec(4,hl,1,1,"ng-template",null,2,r.Fc),r.Qb(6,"strong"),r.Gc(7),r.Ec(8,dl,2,0,"span",3),r.Qb(9,"span",4),r.Rb()),2&t){const t=e.$implicit,n=e.index,i=r.vc(5);r.Cb(2),r.Ic("",n,".-"),r.Cb(1),r.nc("ngIf","Knight"===t.piece)("ngIfElse",i),r.Cb(4),r.Ic(" ",t.move,""),r.Cb(1),r.nc("ngIf",t.x)}}let pl=(()=>{class t{constructor(t,e){this.router=t,this.functions=e,this.history=[],this.pieces=[{Pb:"\u265f",Pw:"\u2659",Bb:"\u265d",Bw:"\u2657",Nb:"\u265e",Nw:"\u2658",Rb:"\u265c",Rw:"\u2656",Qb:"\u265b",Qw:"\u2655",Kb:"\u265a",Kw:"\u2654"}]}ngOnInit(){this.functions.sendHistoryObservable.subscribe(t=>this.history=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ai),r.Pb(Di))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-game"]],decls:5,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["notKnight",""],[4,"ngIf"],[2,"margin-right","50px"]],template:function(t,e){1&t&&(r.Ub(0,"h1"),r.Gc(1,"GAME MOVEMENTS"),r.Tb(),r.Qb(2,"hr"),r.Ub(3,"mat-card-content"),r.Ec(4,fl,10,5,"ng-container",0),r.Tb()),2&t&&(r.Cb(4),r.nc("ngForOf",e.history))},directives:[al,A,D],styles:[""]}),t})();var gl=n("n6bG");function ml(t,e,n,r){return Object(gl.a)(n)&&(r=n,n=void 0),r?ml(t,e,n).pipe(Object(Yt.a)(t=>Object(Rt.a)(t)?r(...t):r(t))):new Mt.a(r=>{bl(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function bl(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)bl(t[s],e,n,r,i)}r.add(s)}var yl=n("3N8a");class vl extends yl.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var _l=n("IjjT");class wl extends _l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Cl=new wl(vl);function El(t,e){return n=>n.lift(new Sl(t,e))}n("7Hc7");class Sl{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xl(t,this.compare,this.keySelector))}}class xl extends jt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class Ol{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Il(t,this.durationSelector))}}class Il extends Xt.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Xt.c)(n,new Xt.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Tl=n("Y7HM");function kl(t=0,e,n){let r=-1;return Object(Tl.a)(e)?r=Number(e)<1?1:Number(e):Object(Dt.a)(e)&&(n=e),Object(Dt.a)(n)||(n=wa.a),new Mt.a(e=>{const i=Object(Tl.a)(t)?t:+t-n.now();return n.schedule(Al,i,{index:0,period:r,subscriber:e})})}function Al(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Pl(t,e=wa.a){return n=()=>kl(t,e),function(t){return t.lift(new Ol(n))};var n}function Dl(t){return e=>e.lift(new Rl(t))}class Rl{constructor(t){this.notifier=t}call(t,e){const n=new jl(t),r=Object(Xt.c)(this.notifier,new Xt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class jl extends Xt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Nl(){return t=>t.lift(new Fl)}class Fl{call(t,e){return e.subscribe(new Ll(t))}}class Ll extends jt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ml=n("qgXg"),Bl=n("pxpQ"),Vl=n("Ylt2");class Ul extends kt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Hl(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new At.a;if(this.isStopped||this.hasError?s=Pe.a.EMPTY:(this.observers.push(t),s=new Vl.a(this,t)),r&&t.add(t=new Bl.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Ml.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Hl{constructor(t,e){this.time=t,this.value=e}}function ql(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(l){let u;o++,!i||a?(a=!1,i=new Ul(t,e,r),u=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}class zl{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new kt.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Kl=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new kt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Mt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Pl(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Tt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(le(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Aa(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ml(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(Ra),r.bc(o,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(Ra),Object(r.bc)(o,8))},token:t,providedIn:"root"}),t})(),Wl=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new kt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Pl(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Ra),r.bc(r.A),r.bc(o,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(Ra),Object(r.bc)(r.A),Object(r.bc)(o,8))},token:t,providedIn:"root"}),t})(),Gl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})(),$l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[bc,ja,Gl],bc,Gl]}),t})();class Ql{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Yl extends Ql{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Xl extends Ql{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Zl extends Ql{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class Jl{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Yl?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Xl?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Zl?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tu extends Jl{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let eu=(()=>{class t extends Jl{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.j),r.Pb(r.R),r.Pb(o))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),t})(),nu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();var ru=n("VRyK");class iu{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new su(t,this.predicate,this.inclusive))}}class su extends jt.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const ou=Ua();class au{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ka(-this._previousScrollPosition.left),t.style.top=ka(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ou&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ou&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class cu{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lu{enable(){}disable(){}attach(){}}function uu(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function hu(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class du{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();uu(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fu=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new lu,this.close=t=>new cu(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new au(this._viewportRuler,this._document),this.reposition=t=>new du(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Kl),r.bc(Wl),r.bc(r.A),r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(Kl),Object(r.bc)(Wl),Object(r.bc)(r.A),Object(r.bc)(o))},token:t,providedIn:"root"}),t})();class pu{constructor(t){if(this.scrollStrategy=new lu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class gu{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class mu{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let bu=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(o))},token:t,providedIn:"root"}),t})(),yu=(()=>{class t extends bu{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(o))},token:t,providedIn:"root"}),t})(),vu=(()=>{class t extends bu{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o),r.bc(Ra))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(o),Object(r.bc)(Ra))},token:t,providedIn:"root"}),t})();const _u=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let wu=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_u){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),_u?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o),r.bc(Ra))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(o),Object(r.bc)(Ra))},token:t,providedIn:"root"}),t})();class Cu{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new kt.a,this._attachments=new kt.a,this._detachments=new kt.a,this._locationChanges=Pe.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new kt.a,this._outsidePointerEvents=new kt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ne(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ka(this._config.width),t.height=ka(this._config.height),t.minWidth=ka(this._config.minWidth),t.minHeight=ka(this._config.minHeight),t.maxWidth=ka(this._config.maxWidth),t.maxHeight=ka(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Ta(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Dl(Object(ru.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Eu="cdk-overlay-connected-position-bounding-box",Su=/([A-Za-z%]+)$/;class xu{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kt.a,this._resizeSubscription=Pe.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Eu),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ou(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Eu),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=Tu(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let l=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,l,u),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Iu(this._overlayRef.getConfig().minHeight),o=Iu(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Tu(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let l=0,u=0;return l=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:u},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new mu(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,l;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=ka(n.height),r.top=ka(n.top),r.bottom=ka(n.bottom),r.width=ka(n.width),r.left=ka(n.left),r.right=ka(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=ka(t)),i&&(r.maxWidth=ka(i))}this._lastBoundingBoxSize=n,Ou(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ou(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ou(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Ou(n,this._getExactOverlayY(e,t,r)),Ou(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=ka(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=ka(s.maxWidth):i&&(n.maxWidth="")),Ou(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=ka(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ka(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hu(t,n),isOriginOutsideView:uu(t,n),isOverlayClipped:hu(e,n),isOverlayOutsideView:uu(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ta(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Ou(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Iu(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Su);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Tu(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class ku{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new xu(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new gu(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Au="cdk-global-overlay-wrapper";class Pu{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Au),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Au),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Du=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Pu}connectedTo(t,e,n){return new ku(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new xu(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Wl),r.bc(o),r.bc(Ra),r.bc(wu))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(Wl),Object(r.bc)(o),Object(r.bc)(Ra),Object(r.bc)(wu))},token:t,providedIn:"root"}),t})(),Ru=0,ju=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new pu(t);return i.direction=i.direction||this._directionality.value,new Cu(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Ru++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new tu(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(fu),r.bc(wu),r.bc(r.j),r.bc(Du),r.bc(yu),r.bc(r.s),r.bc(r.A),r.bc(o),r.bc(mc),r.bc(w),r.bc(vu))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const Nu=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Fu=new r.r("cdk-connected-overlay-scroll-strategy");let Lu=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Mu=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Pe.a.EMPTY,this._attachSubscription=Pe.a.EMPTY,this._detachSubscription=Pe.a.EMPTY,this._positionSubscription=Pe.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.n,this.positionChange=new r.n,this.attach=new r.n,this.detach=new r.n,this.overlayKeydown=new r.n,this.overlayOutsideClick=new r.n,this._templatePortal=new Xl(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Oa(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Oa(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Oa(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Oa(t)}get push(){return this._push}set push(t){this._push=Oa(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Nu);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||_a(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new pu({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new iu(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ju),r.Pb(r.M),r.Pb(r.R),r.Pb(Fu),r.Pb(mc,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Ab]}),t})();const Bu={provide:Fu,deps:[ju],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Vu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[ju,Bu],imports:[[bc,nu,$l],$l]}),t})();function Uu(t,e){}class Hu{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const qu={dialogContainer:Ni("dialogContainer",[Bi("void, exit",Mi({opacity:0,transform:"scale(0.7)"})),Bi("enter",Mi({transform:"none"})),Vi("* => enter",Fi("150ms cubic-bezier(0, 0, 0.2, 1)",Mi({transform:"none",opacity:1}))),Vi("* => void, * => exit",Fi("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Mi({opacity:0})))])};let zu=(()=>{class t extends Jl{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(tc),r.Pb(r.h),r.Pb(o,8),r.Pb(Hu),r.Pb(cc))},t.\u0275dir=r.Kb({type:t,viewQuery:function(t,e){if(1&t&&r.Kc(eu,3),2&t){let t;r.uc(t=r.fc())&&(e._portalOutlet=t.first)}},features:[r.zb]}),t})(),Ku=(()=>{class t extends zu{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return Wu(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Cc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Xb("id",e._id),r.Db("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.Dc("@dialogContainer",e._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Ec(0,Uu,0,0,"ng-template",0)},directives:[eu],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[qu.dialogContainer]}}),t})();const Wu=r.Wb(Ku);let Gu=0;class $u{constructor(t,e,n="mat-dialog-"+Gu++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new kt.a,this._afterClosed=new kt.a,this._beforeClosed=new kt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(le(t=>"opened"===t.state),ne(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(le(t=>"closed"===t.state),ne(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(le(t=>27===t.keyCode&&!this.disableClose&&!_a(t))).subscribe(t=>{t.preventDefault(),Qu(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Qu(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(le(t=>"closing"===t.state),ne(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Qu(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const Yu=new r.r("MatDialogData"),Xu=new r.r("mat-dialog-default-options"),Zu=new r.r("mat-dialog-scroll-strategy"),Ju={provide:Zu,deps:[ju],useFactory:function(t){return()=>t.scrollStrategies.block()}};let th=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kt.a,this._afterOpenedAtThisLevel=new kt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=$t(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(se(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Hu)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new pu({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Hu,useValue:e}]}),i=new Yl(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.M)e.attachTemplatePortal(new Xl(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Yl(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(mc,null)||s.push({provide:mc,useValue:{value:t.direction,change:Object(Tt.a)()}}),r.s.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ju),r.Pb(r.s),r.Pb(void 0),r.Pb(void 0),r.Pb(wu),r.Pb(void 0),r.Pb(r.O),r.Pb(r.O),r.Pb(r.r))},t.\u0275dir=r.Kb({type:t}),t})(),eh=(()=>{class t extends th{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,$u,Ku,Yu)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(ju),r.bc(r.s),r.bc(w,8),r.bc(Xu,8),r.bc(Zu),r.bc(t,12),r.bc(wu))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),nh=0,rh=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=oh(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){Qu(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($u,8),r.Pb(r.l),r.Pb(eh))},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ec("click",function(t){return e._onButtonClick(t)}),2&t&&r.Db("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.Ab]}),t})(),ih=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+nh++}ngOnInit(){this._dialogRef||(this._dialogRef=oh(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($u,8),r.Pb(r.l),r.Pb(eh))},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Xb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),sh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})();function oh(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let ah=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[eh,Ju],imports:[[Vu,nu,Ic],Ic]}),t})();const ch="button[_ngcontent-%COMP%]{margin:50px 0 30px}.container[_ngcontent-%COMP%]{text-align:center}";let lh=(()=>{class t{constructor(t,e){this.dialog=t,this.router=e}ngOnInit(){this.openDialog()}openDialog(){this.dialog.open(uh,{width:"500px",height:"600px",disableClose:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(eh),r.Pb(ai))},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},styles:[ch]}),t})(),uh=(()=>{class t{constructor(t){this.router=t}redirect(t){this.router.navigate(["./"+t])}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ai))},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:14,vars:0,consts:[[1,"container"],["mat-dialog-title",""],[1,"btn","btn-primary","btn-lg","btn-block",3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h2",1),r.Ub(2,"strong"),r.Gc(3,"WELLCOME TO REYES CHESS"),r.Tb(),r.Tb(),r.Ub(4,"mat-dialog-content"),r.Ub(5,"h4",1),r.Gc(6,"Select mode"),r.Tb(),r.Qb(7,"hr"),r.Ub(8,"button",2),r.ec("click",function(){return e.redirect("Game")}),r.Gc(9,"Game"),r.Tb(),r.Ub(10,"button",2),r.ec("click",function(){return e.redirect("Openings")}),r.Gc(11,"Learn Openings"),r.Tb(),r.Ub(12,"button",2),r.ec("click",function(){return e.redirect("Add")}),r.Gc(13,"Add Openings"),r.Tb(),r.Tb(),r.Tb())},directives:[ih,sh,rh],styles:[ch]}),t})();var hh=n("spgP"),dh=n("Jgta"),fh=n("zIRd"),ph=n("qOnz"),gh=n("q/0M"),mh=function(t,e){return(mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var yh,vh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_h=_h||{},wh=vh||self;function Ch(){}function Eh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Sh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xh="closure_uid_"+(1e9*Math.random()>>>0),Oh=0;function Ih(t,e,n){return t.call.apply(t.bind,arguments)}function Th(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function kh(t,e,n){return(kh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ih:Th).apply(null,arguments)}function Ah(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ph(){return Date.now()}function Dh(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Rh(){this.j=this.j,this.i=this.i}Rh.prototype.j=!1,Rh.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,xh)&&t[xh]||(t[xh]=++Oh)}(this)},Rh.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var jh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Nh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Fh(t){return Array.prototype.concat.apply([],arguments)}function Lh(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mh(t){return/^[\s\xa0]*$/.test(t)}var Bh,Vh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Uh(t,e){return-1!=t.indexOf(e)}function Hh(t,e){return t<e?-1:t>e?1:0}t:{var qh=wh.navigator;if(qh){var zh=qh.userAgent;if(zh){Bh=zh;break t}}Bh=""}function Kh(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Wh(t){var e={};for(var n in t)e[n]=t[n];return e}var Gh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $h(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Gh.length;s++)n=Gh[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qh(t){return Qh[" "](t),t}Qh[" "]=Ch;var Yh,Xh,Zh=Uh(Bh,"Opera"),Jh=Uh(Bh,"Trident")||Uh(Bh,"MSIE"),td=Uh(Bh,"Edge"),ed=td||Jh,nd=Uh(Bh,"Gecko")&&!(Uh(Bh.toLowerCase(),"webkit")&&!Uh(Bh,"Edge"))&&!(Uh(Bh,"Trident")||Uh(Bh,"MSIE"))&&!Uh(Bh,"Edge"),rd=Uh(Bh.toLowerCase(),"webkit")&&!Uh(Bh,"Edge");function id(){var t=wh.document;return t?t.documentMode:void 0}t:{var sd="",od=(Xh=Bh,nd?/rv:([^\);]+)(\)|;)/.exec(Xh):td?/Edge\/([\d\.]+)/.exec(Xh):Jh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xh):rd?/WebKit\/(\S+)/.exec(Xh):Zh?/(?:Version)[ \/]?(\S+)/.exec(Xh):void 0);if(od&&(sd=od?od[1]:""),Jh){var ad=id();if(null!=ad&&ad>parseFloat(sd)){Yh=String(ad);break t}}Yh=sd}var cd={};function ld(t){return function(t,e){var n=cd;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Vh(String(Yh)).split("."),r=Vh(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Hh(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Hh(0==o[2].length,0==a[2].length)||Hh(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var ud=wh.document&&Jh&&(id()||parseInt(Yh,10))||void 0,hd=!Jh||9<=Number(ud),dd=Jh&&!ld("9"),fd=function(){if(!wh.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wh.addEventListener("test",Ch,e),wh.removeEventListener("test",Ch,e)}catch(n){}return t}();function pd(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function gd(t,e){if(pd.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(nd){t:{try{Qh(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:md[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}pd.prototype.b=function(){this.defaultPrevented=!0},Dh(gd,pd);var md={2:"touch",3:"pen",4:"mouse"};gd.prototype.b=function(){gd.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,dd)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var bd="closure_listenable_"+(1e6*Math.random()|0),yd=0;function vd(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++yd,this.Y=this.Z=!1}function _d(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function wd(t){this.src=t,this.a={},this.b=0}function Cd(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=jh(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(_d(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ed(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}wd.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Ed(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new vd(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Sd="closure_lm_"+(1e6*Math.random()|0),xd={};function Od(t,e,n,r,i){if(r&&r.once)return Td(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Od(t,e[s],n,r,i);return null}return n=Fd(n),t&&t[bd]?t.va(e,n,Sh(r)?!!r.capture:!!r,i):Id(t,e,n,!1,r,i)}function Id(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Sh(i)?!!i.capture:!!i;if(o&&!hd)return null;var a=jd(t);if(a||(t[Sd]=a=new wd(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Rd,e=hd?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fd||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Pd(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Td(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Td(t,e[s],n,r,i);return null}return n=Fd(n),t&&t[bd]?t.wa(e,n,Sh(r)?!!r.capture:!!r,i):Id(t,e,n,!0,r,i)}function kd(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kd(t,e[s],n,r,i);else r=Sh(r)?!!r.capture:!!r,n=Fd(n),t&&t[bd]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ed(s=t.a[e],n,r,i))&&(_d(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=jd(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ed(e,n,r,i)),(n=-1<t?e[t]:null)&&Ad(n))}function Ad(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[bd])Cd(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Pd(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jd(e))?(Cd(n,t),0==n.b&&(n.src=null,e[Sd]=null)):_d(t)}}}function Pd(t){return t in xd?xd[t]:xd[t]="on"+t}function Dd(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ad(t),n.call(r,e)}function Rd(t,e){if(t.Y)return!0;if(!hd){if(!e)t:{e=["window","event"];for(var n=wh,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Dd(t,e=new gd(e,this))}return Dd(t,new gd(e,this))}function jd(t){return(t=t[Sd])instanceof wd?t:null}var Nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fd(t){return"function"==typeof t?t:(t[Nd]||(t[Nd]=function(e){return t.handleEvent(e)}),t[Nd])}function Ld(){Rh.call(this),this.c=new wd(this),this.J=this,this.C=null}function Md(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new pd(e,t);else if(e instanceof pd)e.target=e.target||t;else{var i=e;$h(e=new pd(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Bd(o,r,!0,e)&&i}if(i=Bd(o=e.a=t,r,!0,e)&&i,i=Bd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Bd(o=e.a=n[s],r,!1,e)&&i}function Bd(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Cd(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Dh(Ld,Rh),Ld.prototype[bd]=!0,(yh=Ld.prototype).addEventListener=function(t,e,n,r){Od(this,t,e,n,r)},yh.removeEventListener=function(t,e,n,r){kd(this,t,e,n,r)},yh.G=function(){if(Ld.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_d(n[r]);delete e.a[t],e.b--}}this.C=null},yh.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},yh.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Vd=wh.JSON.stringify;function Ud(){this.b=this.a=null}var Hd,qd=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Kd},function(t){t.reset()});function zd(){var t=Qd,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Kd(){this.next=this.b=this.a=null}function Wd(t){wh.setTimeout(function(){throw t},0)}function Gd(t,e){Hd||function(){var t=wh.Promise.resolve(void 0);Hd=function(){t.then(Yd)}}(),$d||(Hd(),$d=!0),Qd.add(t,e)}Ud.prototype.add=function(t,e){var n=qd.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Kd.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Kd.prototype.reset=function(){this.next=this.b=this.a=null};var $d=!1,Qd=new Ud;function Yd(){for(var t;t=zd();){try{t.a.call(t.b)}catch(n){Wd(n)}var e=qd;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}$d=!1}function Xd(t,e){Ld.call(this),this.b=t||1,this.a=e||wh,this.f=kh(this.Za,this),this.g=Ph()}function Zd(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Jd(t,e,n){if("function"==typeof t)n&&(t=kh(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=kh(t.handleEvent,t)}return 2147483647<Number(e)?-1:wh.setTimeout(t,e||0)}function tf(t){t.a=Jd(function(){t.a=null,t.c&&(t.c=!1,tf(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Dh(Xd,Ld),(yh=Xd.prototype).aa=!1,yh.M=null,yh.Za=function(){if(this.aa){var t=Ph()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Md(this,"tick"),this.aa&&(Zd(this),this.start()))}},yh.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ph())},yh.G=function(){Xd.X.G.call(this),Zd(this),delete this.a};var ef=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}mh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:tf(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(wh.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Rh);function nf(t){Rh.call(this),this.b=t,this.a={}}Dh(nf,Rh);var rf=[];function sf(t,e,n,r){Array.isArray(n)||(n&&(rf[0]=n.toString()),n=rf);for(var i=0;i<n.length;i++){var s=Od(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function of(t){Kh(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ad(t)},t),t.a={}}function af(){this.a=!0}function cf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Vd(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}nf.prototype.G=function(){nf.X.G.call(this),of(this)},nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},af.prototype.info=function(){};var lf={},uf=null;function hf(){return uf=uf||new Ld}function df(t){pd.call(this,lf.Fa,t)}function ff(t){var e=hf();Md(e,new df(e,t))}function pf(t,e){pd.call(this,lf.STAT_EVENT,t),this.stat=e}function gf(t){var e=hf();Md(e,new pf(e,t))}function mf(t){pd.call(this,lf.Ga,t)}function bf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wh.setTimeout(function(){t()},e)}lf.Fa="serverreachability",Dh(df,pd),lf.STAT_EVENT="statevent",Dh(pf,pd),lf.Ga="timingevent",Dh(mf,pd);var yf={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},vf={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _f(){}function wf(){}_f.prototype.a=null;var Cf,Ef={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Sf(){pd.call(this,"d")}function xf(){pd.call(this,"c")}function Of(){}function If(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new nf(this),this.P=Tf,this.R=new Xd(t=ed?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Dh(Sf,pd),Dh(xf,pd),Dh(Of,_f),Cf=new Of;var Tf=45e3,kf={},Af={};function Pf(t,e,n){t.H=1,t.i=Jf(Gf(e)),t.j=n,t.I=!0,Df(t,null)}function Df(t,e){t.u=Ph(),Nf(t),t.l=Gf(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),dp(n.b,"t",r),t.D=0,t.a=og(t.g,t.g.C?e:null),0<t.O&&(t.F=new ef(kh(t.Ca,t,t.a),t.O)),sf(t.J,t.a,"readystatechange",t.Xa),e=t.B?Wh(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ff(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Rf(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=jf(t,n);if(i==Af){4==e&&(t.h=4,gf(14),r=!1),cf(t.c,t.f,null,"[Incomplete Response]");break}if(i==kf){t.h=4,gf(15),cf(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}cf(t.c,t.f,i,null),Vf(t,i)}4==e&&0==n.length&&(t.h=1,gf(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zp(e),e.F=!0,gf(11))):(cf(t.c,t.f,n,"[Invalid Chunked Response]"),Bf(t),Mf(t))}function jf(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Af:(n=Number(e.substring(n,r)),isNaN(n)?kf:(r+=1)+n>e.length?Af:(e=e.substr(r,n),t.D=r+n,e))}function Nf(t){t.T=Ph()+t.P,Ff(t,t.P)}function Ff(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=bf(kh(t.Va,t),e)}function Lf(t){t.o&&(wh.clearTimeout(t.o),t.o=null)}function Mf(t){0==t.g.v||t.A||eg(t.g,t)}function Bf(t){Lf(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zd(t.R),of(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Vf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||vp(n.b,t)))if(n.I=t.N,!t.C&&vp(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(US){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;tg(n),qp(n)}Xp(n),gf(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=bf(kh(n.Sa,n),6e3));if(1>=yp(n.b)&&n.ea){try{n.ea()}catch(US){}n.ea=void 0}}else rg(n,11)}else if((t.C||n.a==t)&&tg(n),!Mh(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&(Uh(u,"spdy")||Uh(u,"quic")||Uh(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(_p(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Zf(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ph()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=sg(c,c.C?c.ga:null,c.fa),f.C){wp(c.b,f);var p=f,g=c.D;g&&p.setTimeout(g),p.o&&(Lf(p),Nf(p)),c.a=f}else Yp(c);0<n.g.length&&Wp(n)}else"stop"!=i[0]&&"close"!=i[0]||rg(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rg(n,7):Hp(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ff(4)}catch(US){}}function Uf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Eh(t)||"string"==typeof t)Nh(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Eh(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Eh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Hf(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Hf)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qf(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];zf(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)zf(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function zf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(yh=If.prototype).setTimeout=function(t){this.P=t},yh.Xa=function(t){t=t.target;var e=this.F;e&&3==Mp(t)?e.f():this.Ca(t)},yh.Ca=function(t){try{if(t==this.a)t:{var e=Mp(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ed&&!this.a.$())){this.A||4!=e||7==n||ff(8==n||0>=r?3:2),Lf(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mh(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,gf(12),Bf(this),Mf(this);break t}cf(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Vf(this,c)}this.I?(Rf(this,e,s),ed&&this.b&&3==e&&(sf(this.J,this.R,"tick",this.Wa),this.R.start())):(cf(this.c,this.f,s,null),Vf(this,s)),4==e&&Bf(this),this.b&&!this.A&&(4==e?eg(this.g,this):(this.b=!1,Nf(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,gf(12)):(this.h=0,gf(13)),Bf(this),Mf(this)}}}catch(l){}},yh.Wa=function(){if(this.a){var t=Mp(this.a),e=this.a.$();this.D<e.length&&(Lf(this),Rf(this,t,e),this.b&&4!=t&&Nf(this))}},yh.cancel=function(){this.A=!0,Bf(this)},yh.Va=function(){this.o=null;var t=Ph();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ff(3),gf(17)),Bf(this),this.h=2,Mf(this)):Ff(this,this.T-t)},(yh=Hf.prototype).K=function(){qf(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},yh.L=function(){return qf(this),this.a.concat()},yh.get=function(t,e){return zf(this.b,t)?this.b[t]:e},yh.set=function(t,e){zf(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},yh.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Kf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wf(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wf){this.a=void 0!==e?e:t.a,$f(this,t.f),this.j=t.j,Qf(this,t.c),Yf(this,t.h),this.g=t.g,e=t.b;var n=new cp;n.c=e.c,e.a&&(n.a=new Hf(e.a),n.b=e.b),Xf(this,n),this.i=t.i}else t&&(n=String(t).match(Kf))?(this.a=!!e,$f(this,n[1]||"",!0),this.j=tp(n[2]||""),Qf(this,n[3]||"",!0),Yf(this,n[4]),this.g=tp(n[5]||"",!0),Xf(this,n[6]||"",!0),this.i=tp(n[7]||"")):(this.a=!!e,this.b=new cp(null,this.a))}function Gf(t){return new Wf(t)}function $f(t,e,n){t.f=n?tp(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qf(t,e,n){t.c=n?tp(e,!0):e}function Yf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xf(t,e,n){e instanceof cp?(t.b=e,function(t,e){e&&!t.f&&(lp(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(up(this,e),dp(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ep(e,op)),t.b=new cp(e,t.a))}function Zf(t,e,n){t.b.set(e,n)}function Jf(t){return Zf(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ph()).toString(36)),t}function tp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ep(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,np),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function np(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wf.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ep(e,rp,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ep(e,rp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ep(n,"/"==n.charAt(0)?sp:ip,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ep(n,ap)),t.join("")};var rp=/[#\/\?@]/g,ip=/[#\?:]/g,sp=/[#\?]/g,op=/[#\?@]/g,ap=/#/g;function cp(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function lp(t){t.a||(t.a=new Hf,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function up(t,e){lp(t),e=fp(t,e),zf(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,zf((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&qf(t)))}function hp(t,e){return lp(t),e=fp(t,e),zf(t.a.b,e)}function dp(t,e,n){up(t,e),0<n.length&&(t.c=null,t.a.set(fp(t,e),Lh(n)),t.b+=n.length)}function fp(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(yh=cp.prototype).add=function(t,e){lp(this),this.c=null,t=fp(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},yh.forEach=function(t,e){lp(this),this.a.forEach(function(n,r){Nh(n,function(n){t.call(e,n,r,this)},this)},this)},yh.L=function(){lp(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},yh.K=function(t){lp(this);var e=[];if("string"==typeof t)hp(this,t)&&(e=Fh(e,this.a.get(fp(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Fh(e,t[n])}return e},yh.set=function(t,e){return lp(this),this.c=null,hp(this,t=fp(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},yh.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},yh.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var pp=function(){return function(t,e){this.b=t,this.a=e}}();function gp(t){this.g=t||mp,t=wh.PerformanceNavigationTiming?0<(t=wh.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(wh.ia&&wh.ia.ya&&wh.ia.ya()&&wh.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var mp=10;function bp(t){return!!t.b||!!t.a&&t.a.size>=t.f}function yp(t){return t.b?1:t.a?t.a.size:0}function vp(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _p(t,e){t.a?t.a.add(e):t.b=e}function wp(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Cp(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=bh(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Lh(t.c)}function Ep(){}function Sp(){this.a=new Ep}function xp(t,e,n){var r=n||"";try{Uf(t,function(t,n){var i=t;Sh(t)&&(i=Vd(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Cx){throw e.push(r+"type="+encodeURIComponent("_badmap")),Cx}}function Op(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}gp.prototype.cancel=function(){var t,e;if(this.c=Cp(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bh(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ep.prototype.stringify=function(t){return wh.JSON.stringify(t,void 0)},Ep.prototype.parse=function(t){return wh.JSON.parse(t,void 0)};var Ip=wh.JSON.parse;function Tp(t){Ld.call(this),this.headers=new Hf,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=kp,this.D=this.F=!1}Dh(Tp,Ld);var kp="",Ap=/^https?$/i,Pp=["POST","PUT"];function Dp(t){return"content-type"==t.toLowerCase()}function Rp(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,jp(t),Fp(t)}function jp(t){t.u||(t.u=!0,Md(t,"complete"),Md(t,"error"))}function Np(t){if(t.b&&void 0!==_h&&(!t.s[1]||4!=Mp(t)||2!=t.W()))if(t.l&&4==Mp(t))Jd(t.za,0,t);else if(Md(t,"readystatechange"),4==Mp(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Kf)[1]||null;if(!s&&wh.self&&wh.self.location){var o=wh.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ap.test(s?s.toLowerCase():"")}e=i}if(e)Md(t,"complete"),Md(t,"success");else{t.h=6;try{var a=2<Mp(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",jp(t)}}finally{Fp(t)}}}function Fp(t,e){if(t.a){Lp(t);var n=t.a,r=t.s[0]?Ch:null;t.a=null,t.s=null,e||Md(t,"ready");try{n.onreadystatechange=r}catch(Cx){}}}function Lp(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(wh.clearTimeout(t.m),t.m=null)}function Mp(t){return t.a?t.a.readyState:0}function Bp(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Kh(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zf(t,e,n))}function Vp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Up(t){this.pa=0,this.g=[],this.c=new af,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vp("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vp("baseRetryDelayMs",5e3,t),this.Ra=Vp("retryDelaySeedMs",1e4,t),this.Ma=Vp("forwardChannelMaxRetries",2,t),this.ma=Vp("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new gp(t&&t.concurrentRequestLimit),this.ka=new Sp,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Hp(t){if(zp(t),3==t.v){var e=t.R++,n=Gf(t.B);Zf(n,"SID",t.J),Zf(n,"RID",e),Zf(n,"TYPE","terminate"),$p(t,n),(e=new If(t,t.c,e,void 0)).H=2,e.i=Jf(Gf(n)),n=!1,wh.navigator&&wh.navigator.sendBeacon&&(n=wh.navigator.sendBeacon(e.i.toString(),"")),!n&&wh.Image&&((new Image).src=e.i,n=!0),n||(e.a=og(e.g,null),e.a.ba(e.i)),e.u=Ph(),Nf(e)}ig(t)}function qp(t){t.a&&(Zp(t),t.a.cancel(),t.a=null)}function zp(t){qp(t),t.j&&(wh.clearTimeout(t.j),t.j=null),tg(t),t.b.cancel(),t.h&&("number"==typeof t.h&&wh.clearTimeout(t.h),t.h=null)}function Kp(t,e){t.g.push(new pp(t.Oa++,e)),3==t.v&&Wp(t)}function Wp(t){bp(t.b)||t.h||(t.h=!0,Gd(t.Ba,t),t.u=0)}function Gp(t,e){var n;n=e?e.f:t.R++;var r=Gf(t.B);Zf(r,"SID",t.J),Zf(r,"RID",n),Zf(r,"AID",t.P),$p(t,r),t.i&&t.l&&Bp(r,t.i,t.l),n=new If(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qp(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_p(t.b,n),Pf(n,r,e)}function $p(t,e){t.f&&Uf({},function(t,n){Zf(e,n,t)})}function Qp(t,e,n){n=Math.min(t.g.length,n);var r=t.f?kh(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var l=i[c].b,u=i[c].a;if(0>(l-=s))s=Math.max(0,i[c].b-100),a=!1;else try{xp(u,o,"req"+l+"_")}catch(h){r&&r(u)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yp(t){t.a||t.j||(t.T=1,Gd(t.Aa,t),t.o=0)}function Xp(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=bf(kh(t.Aa,t),ng(t,t.o)),t.o++,0))}function Zp(t){null!=t.s&&(wh.clearTimeout(t.s),t.s=null)}function Jp(t){t.a=new If(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Gf(t.la);Zf(e,"RID","rpc"),Zf(e,"SID",t.J),Zf(e,"CI",t.H?"0":"1"),Zf(e,"AID",t.P),$p(t,e),Zf(e,"TYPE","xmlhttp"),t.i&&t.l&&Bp(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Jf(Gf(e)),n.j=null,n.I=!0,Df(n,t)}function tg(t){null!=t.m&&(wh.clearTimeout(t.m),t.m=null)}function eg(t,e){var n=null;if(t.a==e){tg(t),Zp(t),t.a=null;var r=2}else{if(!vp(t.b,e))return;n=e.s,wp(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ph()-e.u;var i=t.u;Md(r=hf(),new mf(r,n,e,i)),Wp(t)}else Yp(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(yp(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=bf(kh(t.Ba,t,e),ng(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xp(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:rg(t,5);break;case 4:rg(t,10);break;case 3:rg(t,6);break;default:rg(t,2)}}function ng(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rg(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=kh(t.Ya,t);n||(n=new Wf("//www.google.com/images/cleardot.gif"),wh.location&&"http"==wh.location.protocol||$f(n,"https"),Jf(n)),function(t,e){var n=new af;if(wh.Image){var r=new Image;r.onload=Ah(Op,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ah(Op,n,r,"TestLoadImage: error",!1,e),r.onabort=Ah(Op,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ah(Op,n,r,"TestLoadImage: timeout",!1,e),wh.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else gf(2);t.v=0,t.f&&t.f.ra(e),ig(t),zp(t)}function ig(t){t.v=0,t.I=-1,t.f&&(0==Cp(t.b).length&&0==t.g.length||(t.b.c.length=0,Lh(t.g),t.g.length=0),t.f.qa())}function sg(t,e,n){var r=function(t){return t instanceof Wf?Gf(t):new Wf(t,void 0)}(n);if(""!=r.c)e&&Qf(r,e+"."+r.c),Yf(r,r.h);else{var i=wh.location;r=function(t,e,n,r){var i=new Wf(null,void 0);return t&&$f(i,t),e&&Qf(i,e),n&&Yf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Kh(t.V,function(t,e){Zf(r,e,t)}),n=t.na,(e=t.A)&&n&&Zf(r,e,n),Zf(r,"VER",t.ha),$p(t,r),r}function og(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tp(t.Na)).F=t.C,e}function ag(){}function cg(){if(Jh&&!(10<=Number(ud)))throw Error("Environmental error: no available transport.")}function lg(t,e){Ld.call(this),this.a=new Up(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mh(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mh(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new dg(this)}function ug(t){Sf.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hg(){xf.call(this),this.status=1}function dg(t){this.a=t}(yh=Tp.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Cf),this.a.onreadystatechange=kh(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Rp(this,s)}t=n||"";var i=new Hf(this.headers);r&&Uf(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Dp,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=wh.FormData&&t instanceof wh.FormData,!(0<=jh(Pp,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lp(this),0<this.o&&((this.D=function(t){return Jh&&ld(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=kh(this.xa,this)):this.m=Jd(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Rp(this,s)}},yh.xa=function(){void 0!==_h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Md(this,"timeout"),this.abort(8))},yh.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Md(this,"complete"),Md(this,"abort"),Fp(this))},yh.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fp(this,!0)),Tp.X.G.call(this)},yh.za=function(){this.j||(this.A||this.l||this.g?Np(this):this.Ua())},yh.Ua=function(){Np(this)},yh.W=function(){try{return 2<Mp(this)?this.a.status:-1}catch(Xh){return-1}},yh.$=function(){try{return this.a?this.a.responseText:""}catch(Xh){return""}},yh.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ip(e)}},yh.ua=function(){return this.h},yh.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(yh=Up.prototype).ha=8,yh.v=1,yh.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new If(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$h(r=Wh(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qp(this,n,e),Zf(i=Gf(this.B),"RID",t),Zf(i,"CVER",22),this.A&&Zf(i,"X-HTTP-Session-Id",this.A),$p(this,i),this.i&&r&&Bp(i,this.i,r),_p(this.b,n),this.Ia&&Zf(i,"TYPE","init"),this.da?(Zf(i,"$req",e),Zf(i,"SID","null"),n.U=!0,Pf(n,i,null)):Pf(n,i,e),this.v=2}}else 3==this.v&&(t?Gp(this,t):0==this.g.length||bp(this.b)||Gp(this))},yh.Aa=function(){if(this.j=null,Jp(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=bf(kh(this.Ta,this),t)}},yh.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,gf(10),qp(this),Jp(this))},yh.Sa=function(){null!=this.m&&(this.m=null,qp(this),Xp(this),gf(19))},yh.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),gf(2)):(this.c.info("Failed to ping google.com"),gf(1))},(yh=ag.prototype).ta=function(){},yh.sa=function(){},yh.ra=function(){},yh.qa=function(){},yh.Ja=function(){},cg.prototype.a=function(t,e){return new lg(t,e)},Dh(lg,Ld),lg.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;gf(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=sg(t,null,t.fa),Wp(t)},lg.prototype.close=function(){Hp(this.a)},lg.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Kp(this.a,e)}else this.l?((e={}).__data__=Vd(t),Kp(this.a,e)):Kp(this.a,t)},lg.prototype.G=function(){this.a.f=null,delete this.f,Hp(this.a),delete this.a,lg.X.G.call(this)},Dh(ug,Sf),Dh(hg,xf),Dh(dg,ag),dg.prototype.ta=function(){Md(this.a,"a")},dg.prototype.sa=function(t){Md(this.a,new ug(t))},dg.prototype.ra=function(t){Md(this.a,new hg(t))},dg.prototype.qa=function(){Md(this.a,"b")},cg.prototype.createWebChannel=cg.prototype.a,lg.prototype.send=lg.prototype.h,lg.prototype.open=lg.prototype.g,lg.prototype.close=lg.prototype.close,yf.NO_ERROR=0,yf.TIMEOUT=8,yf.HTTP_ERROR=6,vf.COMPLETE="complete",wf.EventType=Ef,Ef.OPEN="a",Ef.CLOSE="b",Ef.ERROR="c",Ef.MESSAGE="d",Ld.prototype.listen=Ld.prototype.va,Tp.prototype.listenOnce=Tp.prototype.wa,Tp.prototype.getLastError=Tp.prototype.Qa,Tp.prototype.getLastErrorCode=Tp.prototype.ua,Tp.prototype.getStatus=Tp.prototype.W,Tp.prototype.getResponseJson=Tp.prototype.Pa,Tp.prototype.getResponseText=Tp.prototype.$,Tp.prototype.send=Tp.prototype.ba;var fg=yf,pg=vf,gg=lf,mg=wf,bg=Tp,yg=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();yg.o=-1;var vg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_g=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Pi.c)(e,t),e}(Error),wg=new gh.b("@firebase/firestore");function Cg(){return wg.logLevel}function Eg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wg.logLevel<=gh.a.DEBUG){var r=e.map(Og);wg.debug.apply(wg,Object(Pi.f)(["Firestore (8.4.2): "+t],r))}}function Sg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wg.logLevel<=gh.a.ERROR){var r=e.map(Og);wg.error.apply(wg,Object(Pi.f)(["Firestore (8.4.2): "+t],r))}}function xg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wg.logLevel<=gh.a.WARN){var r=e.map(Og);wg.warn.apply(wg,Object(Pi.f)(["Firestore (8.4.2): "+t],r))}}function Og(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Cx){return t}}function Ig(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw Sg(e),new Error(e)}function Tg(t,e){t||Ig()}function kg(t,e){return t}function Ag(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Pg=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ag(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Dg(t,e){return t<e?-1:t>e?1:0}function Rg(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function jg(t){return t+"\0"}var Ng=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _g(vg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _g(vg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _g(vg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _g(vg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Dg(this.nanoseconds,t.nanoseconds):Dg(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fg=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ng(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Lg(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bg(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Vg=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ig(),void 0===n?n=t.length-e:n>t.length-e&&Ig(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new _g(vg.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Vg),Hg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Hg.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new _g(vg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new _g(vg.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new _g(vg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new _g(vg.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Vg),zg=function(){function t(t){this.fields=t,t.sort(qg.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Rg(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Kg=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Dg(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Kg.EMPTY_BYTE_STRING=new Kg("");var Wg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gg(t){if(Tg(!!t),"string"==typeof t){var e=0,n=Wg.exec(t);if(Tg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$g(t.seconds),nanos:$g(t.nanos)}}function $g(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Qg(t){return"string"==typeof t?Kg.fromBase64String(t):Kg.fromUint8Array(t)}function Yg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xg(t){var e=t.mapValue.fields.__previous_value__;return Yg(e)?Xg(e):e}function Zg(t){var e=Gg(t.mapValue.fields.__local_write_time__.timestampValue);return new Ng(e.seconds,e.nanos)}function Jg(t){return null==t}function tm(t){return 0===t&&1/t==-1/0}function em(t){return"number"==typeof t&&Number.isInteger(t)&&!tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var nm=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ug.fromString(e))},t.fromName=function(e){return new t(Ug.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ug.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ug.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ug(e.slice()))},t}();function rm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yg(t)?4:10:Ig()}function im(t,e){var n=rm(t);if(n!==rm(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zg(t).isEqual(Zg(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Gg(t.timestampValue),r=Gg(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Qg(t.bytesValue).isEqual(Qg(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $g(t.geoPointValue.latitude)===$g(e.geoPointValue.latitude)&&$g(t.geoPointValue.longitude)===$g(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $g(t.integerValue)===$g(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=$g(t.doubleValue),r=$g(e.doubleValue);return n===r?tm(n)===tm(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rg(t.arrayValue.values||[],e.arrayValue.values||[],im);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lg(n)!==Lg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!im(n[i],r[i])))return!1;return!0}(t,e);default:return Ig()}}function sm(t,e){return void 0!==(t.values||[]).find(function(t){return im(t,e)})}function om(t,e){var n=rm(t),r=rm(e);if(n!==r)return Dg(n,r);switch(n){case 0:return 0;case 1:return Dg(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=$g(t.integerValue||t.doubleValue),r=$g(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return am(t.timestampValue,e.timestampValue);case 4:return am(Zg(t),Zg(e));case 5:return Dg(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Qg(t),r=Qg(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Dg(n[i],r[i]);if(0!==s)return s}return Dg(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Dg($g(t.latitude),$g(e.latitude));return 0!==n?n:Dg($g(t.longitude),$g(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=om(n[i],r[i]);if(s)return s}return Dg(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Dg(r[o],s[o]);if(0!==a)return a;var c=om(n[r[o]],i[s[o]]);if(0!==c)return c}return Dg(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ig()}}function am(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Dg(t,e);var n=Gg(t),r=Gg(e),i=Dg(n.seconds,r.seconds);return 0!==i?i:Dg(n.nanos,r.nanos)}function cm(t){return lm(t)}function lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Gg(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qg(t.bytesValue).toBase64():"referenceValue"in t?nm.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=lm(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+lm(t.fields[s])}return e+"}"}(t.mapValue):Ig();var e}function um(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function hm(t){return!!t&&"integerValue"in t}function dm(t){return!!t&&"arrayValue"in t}function fm(t){return!!t&&"nullValue"in t}function pm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gm(t){return!!t&&"mapValue"in t}var mm=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(qg.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return im(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===rm(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=gm(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(qg.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!gm(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function bm(t){var e=[];return Mg(t.fields||{},function(t,n){var r=new qg([t]);if(gm(n)){var i=bm(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new zg(e)}var ym=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Fg.min(),mm.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,mm.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,mm.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=mm.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=mm.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),vm=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function _m(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new vm(t,e,n,r,i,s,o)}function wm(t){var e=kg(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+cm(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Jg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=jm(e.startAt)),e.endAt&&(n+="|ub:",n+=jm(e.endAt)),e.h=n}return e.h}function Cm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Fm(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!im(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mm(t.startAt,e.startAt)&&Mm(t.endAt,e.endAt)}function Em(t){return nm.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Sm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Pi.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new xm(t,n,r):"array-contains"===n?new km(t,r):"in"===n?new Am(t,r):"not-in"===n?new Pm(t,r):"array-contains-any"===n?new Dm(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Om(t,n):new Im(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(om(e,this.value)):null!==e&&rm(this.value)===rm(e)&&this.m(om(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ig()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),xm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=nm.fromName(r.referenceValue),i}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=nm.comparator(t.key,this.key);return this.m(e)},e}(Sm),Om=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Tm(0,n),r}return Object(Pi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Sm),Im=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Tm(0,n),r}return Object(Pi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Sm);function Tm(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return nm.fromName(t.referenceValue)})}var km=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return dm(e)&&sm(e.arrayValue,this.value)},e}(Sm),Am=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&sm(this.value.arrayValue,e)},e}(Sm),Pm=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){if(sm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!sm(this.value.arrayValue,e)},e}(Sm),Dm=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Pi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return sm(e.value.arrayValue,t)})},e}(Sm),Rm=function(t,e){this.position=t,this.before=e};function jm(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return cm(t)}).join(",")}var Nm=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Fm(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lm(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?nm.comparator(nm.fromName(o.referenceValue),n.key):om(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mm(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!im(t.position[n],e.position[n]))return!1;return!0}var Bm=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Vm(t,e,n,r,i,s,o,a){return new Bm(t,e,n,r,i,s,o,a)}function Um(t){return new Bm(t)}function Hm(t){return!Jg(t.limit)&&"F"===t.limitType}function qm(t){return!Jg(t.limit)&&"L"===t.limitType}function zm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Km(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Wm(t){return null!==t.collectionGroup}function Gm(t){var e=kg(t);if(null===e.p){e.p=[];var n=Km(e),r=zm(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Nm(n)),e.p.push(new Nm(qg.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Nm(qg.keyField(),c))}}}return e.p}function $m(t){var e=kg(t);if(!e.T)if("F"===e.limitType)e.T=_m(e.path,e.collectionGroup,Gm(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Gm(e);r<i.length;r++){var s=i[r];n.push(new Nm(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Rm(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Rm(e.startAt.position,!e.startAt.before):null;e.T=_m(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Qm(t,e,n){return new Bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ym(t,e){return Cm($m(t),$m(e))&&t.limitType===e.limitType}function Xm(t){return wm($m(t))+"|lt:"+t.limitType}function Zm(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+cm(e.value);var e}).join(", ")+"]"),Jg(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+jm(t.startAt)),t.endAt&&(e+=", endAt: "+jm(t.endAt)),"Target("+e+")"}($m(t))+"; limitType="+t.limitType+")"}function Jm(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):nm.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Lm(t.startAt,Gm(t),e)||t.endAt&&Lm(t.endAt,Gm(t),e))}(t,e)}function tb(t){return function(e,n){for(var r=!1,i=0,s=Gm(t);i<s.length;i++){var o=s[i],a=eb(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function eb(t,e,n){var r=t.field.isKeyField()?nm.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?om(r,i):Ig()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ig()}}function nb(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function rb(t){return{integerValue:""+t}}function ib(t,e){return em(e)?rb(e):nb(t,e)}var sb=function(){this._=void 0};function ob(t,e,n){return t instanceof lb?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ub?hb(t,e):t instanceof db?fb(t,e):function(t,e){var n=cb(t,e),r=gb(n)+gb(t.A);return hm(n)&&hm(t.A)?rb(r):nb(t.R,r)}(t,e)}function ab(t,e,n){return t instanceof ub?hb(t,e):t instanceof db?fb(t,e):n}function cb(t,e){return t instanceof pb?hm(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e}(sb),ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pi.c)(e,t),e}(sb);function hb(t,e){for(var n=mb(e),r=function(t){n.some(function(e){return im(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var db=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pi.c)(e,t),e}(sb);function fb(t,e){for(var n=mb(e),r=function(t){n=n.filter(function(e){return!im(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var pb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Pi.c)(e,t),e}(sb);function gb(t){return $g(t.integerValue||t.doubleValue)}function mb(t){return dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var bb=function(t,e){this.field=t,this.transform=e},yb=function(t,e){this.version=t,this.transformResults=e},vb=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function _b(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var wb=function(){};function Cb(t,e,n){t instanceof Ib?function(t,e,n){var r=t.value.clone(),i=Ab(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Tb?function(t,e,n){if(_b(t.precondition,e)){var r=Ab(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(kb(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Eb(t,e,n){t instanceof Ib?function(t,e,n){if(_b(t.precondition,e)){var r=t.value.clone(),i=Pb(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ob(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Tb?function(t,e,n){if(_b(t.precondition,e)){var r=Pb(t.fieldTransforms,n,e),i=e.data;i.setAll(kb(t)),i.setAll(r),e.convertToFoundDocument(Ob(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){_b(t.precondition,e)&&e.convertToNoDocument(Fg.min())}(t,e)}function Sb(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=cb(s.transform,o||null);null!=a&&(null==n&&(n=mm.empty()),n.set(s.field,a))}return n||null}function xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Rg(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ub&&e instanceof ub||t instanceof db&&e instanceof db?Rg(t.elements,e.elements,im):t instanceof pb&&e instanceof pb?im(t.A,e.A):t instanceof lb&&e instanceof lb}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ob(t){return t.isFoundDocument()?t.version:Fg.min()}var Ib=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Pi.c)(e,t),e}(wb),Tb=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Pi.c)(e,t),e}(wb);function kb(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Ab(t,e,n){var r=new Map;Tg(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ab(o,a,n[i]))}return r}function Pb(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,ob(a,c,e))}return r}var Db,Rb,jb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Pi.c)(e,t),e}(wb),Nb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Pi.c)(e,t),e}(wb),Fb=function(t){this.count=t};function Lb(t){switch(t){case vg.OK:return Ig();case vg.CANCELLED:case vg.UNKNOWN:case vg.DEADLINE_EXCEEDED:case vg.RESOURCE_EXHAUSTED:case vg.INTERNAL:case vg.UNAVAILABLE:case vg.UNAUTHENTICATED:return!1;case vg.INVALID_ARGUMENT:case vg.NOT_FOUND:case vg.ALREADY_EXISTS:case vg.PERMISSION_DENIED:case vg.FAILED_PRECONDITION:case vg.ABORTED:case vg.OUT_OF_RANGE:case vg.UNIMPLEMENTED:case vg.DATA_LOSS:return!0;default:return Ig()}}function Mb(t){if(void 0===t)return Sg("GRPC error has no .code"),vg.UNKNOWN;switch(t){case Db.OK:return vg.OK;case Db.CANCELLED:return vg.CANCELLED;case Db.UNKNOWN:return vg.UNKNOWN;case Db.DEADLINE_EXCEEDED:return vg.DEADLINE_EXCEEDED;case Db.RESOURCE_EXHAUSTED:return vg.RESOURCE_EXHAUSTED;case Db.INTERNAL:return vg.INTERNAL;case Db.UNAVAILABLE:return vg.UNAVAILABLE;case Db.UNAUTHENTICATED:return vg.UNAUTHENTICATED;case Db.INVALID_ARGUMENT:return vg.INVALID_ARGUMENT;case Db.NOT_FOUND:return vg.NOT_FOUND;case Db.ALREADY_EXISTS:return vg.ALREADY_EXISTS;case Db.PERMISSION_DENIED:return vg.PERMISSION_DENIED;case Db.FAILED_PRECONDITION:return vg.FAILED_PRECONDITION;case Db.ABORTED:return vg.ABORTED;case Db.OUT_OF_RANGE:return vg.OUT_OF_RANGE;case Db.UNIMPLEMENTED:return vg.UNIMPLEMENTED;case Db.DATA_LOSS:return vg.DATA_LOSS;default:return Ig()}}(Rb=Db||(Db={}))[Rb.OK=0]="OK",Rb[Rb.CANCELLED=1]="CANCELLED",Rb[Rb.UNKNOWN=2]="UNKNOWN",Rb[Rb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rb[Rb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rb[Rb.NOT_FOUND=5]="NOT_FOUND",Rb[Rb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rb[Rb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rb[Rb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rb[Rb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rb[Rb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rb[Rb.ABORTED=10]="ABORTED",Rb[Rb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rb[Rb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rb[Rb.INTERNAL=13]="INTERNAL",Rb[Rb.UNAVAILABLE=14]="UNAVAILABLE",Rb[Rb.DATA_LOSS=15]="DATA_LOSS";var Bb=function(){function t(t,e){this.comparator=t,this.root=e||Ub.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ub.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ub.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Vb(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Vb(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Vb(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Vb(this.root,t,this.comparator,!0)},t}(),Vb=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ub=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ig();if(this.right.isRed())throw Ig();var t=this.left.check();if(t!==this.right.check())throw Ig();return t+(this.isRed()?0:1)},t}();Ub.EMPTY=null,Ub.RED=!0,Ub.BLACK=!1,Ub.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ig()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ig()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ig()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ig()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ig()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ub(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Hb=function(){function t(t){this.comparator=t,this.data=new Bb(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new qb(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new qb(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),qb=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),zb=new Bb(nm.comparator);function Kb(){return zb}var Wb=new Bb(nm.comparator);function Gb(){return Wb}var $b=new Bb(nm.comparator);function Qb(){return $b}var Yb=new Hb(nm.comparator);function Xb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Yb,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Zb=new Hb(Dg);function Jb(){return Zb}var ty=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ey.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Fg.min(),r,Jb(),Kb(),Xb())},t}(),ey=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Kg.EMPTY_BYTE_STRING,n,Xb(),Xb(),Xb())},t}(),ny=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ry=function(t,e){this.targetId=t,this.V=e},iy=function(t,e,n,r){void 0===n&&(n=Kg.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},sy=function(){function t(){this.S=0,this.D=cy(),this.C=Kg.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Xb(),e=Xb(),n=Xb();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ig()}}),new ey(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=cy()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),oy=function(){function t(t){this.W=t,this.G=new Map,this.H=Kb(),this.J=ay(),this.Y=new Hb(Dg)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Ig()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Em(i))if(0===n){var s=new nm(i.path);this.tt(e,s,ym.newNoDocument(s,Fg.min()))}else Tg(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Em(s.target)){var o=new nm(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,ym.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Xb();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ty(t,n,this.Y,this.H,r);return this.H=Kb(),this.J=ay(),this.Y=new Hb(Dg),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new sy,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Hb(Dg),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Eg("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new sy),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ay(){return new Bb(nm.comparator)}function cy(){return new Bb(nm.comparator)}var ly={asc:"ASCENDING",desc:"DESCENDING"},uy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hy=function(t,e){this.databaseId=t,this.I=e};function dy(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fy(t,e){return t.I?e.toBase64():e.toUint8Array()}function py(t,e){return dy(t,e.toTimestamp())}function gy(t){return Tg(!!t),Fg.fromTimestamp(function(t){var e=Gg(t);return new Ng(e.seconds,e.nanos)}(t))}function my(t,e){return function(t){return new Ug(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function by(t){var e=Ug.fromString(t);return Tg(Uy(e)),e}function yy(t,e){return my(t.databaseId,e.path)}function vy(t,e){var n=by(e);if(n.get(1)!==t.databaseId.projectId)throw new _g(vg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _g(vg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new nm(Ey(n))}function _y(t,e){return my(t.databaseId,e)}function wy(t){var e=by(t);return 4===e.length?Ug.emptyPath():Ey(e)}function Cy(t){return new Ug(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ey(t){return Tg(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Sy(t,e,n){return{name:yy(t,e),fields:n.toProto().mapValue.fields}}function xy(t,e,n){var r=vy(t,e.name),i=gy(e.updateTime),s=new mm({mapValue:{fields:e.fields}}),o=ym.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Oy(t,e){var n;if(e instanceof Ib)n={update:Sy(t,e.key,e.value)};else if(e instanceof jb)n={delete:yy(t,e.key)};else if(e instanceof Tb)n={update:Sy(t,e.key,e.data),updateMask:Vy(e.fieldMask)};else{if(!(e instanceof Nb))return Ig();n={verify:yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof lb)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ub)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof db)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pb)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ig()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:py(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ig()}(t,e.precondition)),n}function Iy(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?vb.updateTime(gy(t.updateTime)):void 0!==t.exists?vb.exists(t.exists):vb.none()}(e.currentDocument):vb.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Tg("REQUEST_TIME"===e.setToServerValue),n=new lb):"appendMissingElements"in e?n=new ub(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new db(e.removeAllFromArray.values||[]):"increment"in e?n=new pb(t,e.increment):Ig();var r=qg.fromServerFormat(e.fieldPath);return new bb(r,n)}(t,e)}):[];if(e.update){var i=vy(t,e.update.name),s=new mm({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new zg((t.fieldPaths||[]).map(function(t){return qg.fromServerFormat(t)}))}(e.updateMask);return new Tb(i,s,o,n,r)}return new Ib(i,s,n,r)}if(e.delete){var a=vy(t,e.delete);return new jb(a,n)}if(e.verify){var c=vy(t,e.verify);return new Nb(c,n)}return Ig()}function Ty(t,e){return{documents:[_y(t,e.path)]}}function ky(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_y(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_y(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(pm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NAN"}};if(fm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NOT_NAN"}};if(fm(t.value))return{unaryFilter:{field:Fy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fy(t.field),op:Ny(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Fy(t.field),direction:jy(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Jg(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Dy(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Dy(e.endAt)),n}function Ay(t){var e=wy(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tg(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Py(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Nm(Ly(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Jg(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Ry(n.startAt));var u=null;return n.endAt&&(u=Ry(n.endAt)),Vm(e,i,a,o,c,"F",l,u)}function Py(t){return t?void 0!==t.unaryFilter?[By(t)]:void 0!==t.fieldFilter?[My(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Py(t)}).reduce(function(t,e){return t.concat(e)}):Ig():[]}function Dy(t){return{before:t.before,values:t.position}}function Ry(t){return new Rm(t.values||[],!!t.before)}function jy(t){return ly[t]}function Ny(t){return uy[t]}function Fy(t){return{fieldPath:t.canonicalString()}}function Ly(t){return qg.fromServerFormat(t.fieldPath)}function My(t){return Sm.create(Ly(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ig()}}(t.fieldFilter.op),t.fieldFilter.value)}function By(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ly(t.unaryFilter.field);return Sm.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ly(t.unaryFilter.field);return Sm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ly(t.unaryFilter.field);return Sm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ly(t.unaryFilter.field);return Sm.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ig()}}function Vy(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Uy(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Hy(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zy(e)),e=qy(t.get(n),e);return zy(e)}function qy(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function zy(t){return t+"\x01\x01"}function Ky(t){var e=t.length;if(Tg(e>=2),2===e)return Tg("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ug.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ig(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ig()}s=o+2}return new Ug(r)}var Wy=function(t,e){this.seconds=t,this.nanoseconds=e},Gy=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gy.store="owner",Gy.key="owner";var $y=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$y.store="mutationQueues",$y.keyPath="userId";var Qy=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Qy.store="mutations",Qy.keyPath="batchId",Qy.userMutationsIndex="userMutationsIndex",Qy.userMutationsKeyPath=["userId","batchId"];var Yy=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Hy(e)]},t.key=function(t,e,n){return[t,Hy(e),n]},t}();Yy.store="documentMutations",Yy.PLACEHOLDER=new Yy;var Xy=function(t,e){this.path=t,this.readTime=e},Zy=function(t,e){this.path=t,this.version=e},Jy=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Jy.store="remoteDocuments",Jy.readTimeIndex="readTimeIndex",Jy.readTimeIndexPath="readTime",Jy.collectionReadTimeIndex="collectionReadTimeIndex",Jy.collectionReadTimeIndexPath=["parentPath","readTime"];var tv=function(t){this.byteSize=t};tv.store="remoteDocumentGlobal",tv.key="remoteDocumentGlobalKey";var ev=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ev.store="targets",ev.keyPath="targetId",ev.queryTargetsIndexName="queryTargetsIndex",ev.queryTargetsKeyPath=["canonicalId","targetId"];var nv=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};nv.store="targetDocuments",nv.keyPath=["targetId","path"],nv.documentTargetsIndex="documentTargetsIndex",nv.documentTargetsKeyPath=["path","targetId"];var rv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};rv.key="targetGlobalKey",rv.store="targetGlobal";var iv=function(t,e){this.collectionId=t,this.parent=e};iv.store="collectionParents",iv.keyPath=["collectionId","parent"];var sv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};sv.store="clientMetadata",sv.keyPath="clientId";var ov=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ov.store="bundles",ov.keyPath="bundleId";var av=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};av.store="namedQueries",av.keyPath="name";var cv=Object(Pi.f)(Object(Pi.f)([],Object(Pi.f)(Object(Pi.f)([],Object(Pi.f)(Object(Pi.f)([],Object(Pi.f)(Object(Pi.f)([],[$y.store,Qy.store,Yy.store,Jy.store,ev.store,Gy.store,rv.store,nv.store]),[sv.store])),[tv.store])),[iv.store])),[ov.store,av.store]),lv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uv=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),hv=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},dv=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ig(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),fv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new hv,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new mv(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=wv(e.target.error);n.ft.reject(new mv(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new mv(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Eg("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new yv(e)},t}(),pv=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(ph.h)())&&Sg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Eg("SimpleDb","Removing database:",t),vv(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(ph.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Eg("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new mv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new _g(vg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mv(t,n))},i.onupgradeneeded=function(t){Eg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Eg("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Pi.d)(this,function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,l,u;return Object(Pi.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=fv.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),dv.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Eg("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&s<3),a.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gv=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return vv(this.Pt.delete())},t}(),mv=function(t){function e(e,n){var r=this;return(r=t.call(this,vg.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Pi.c)(e,t),e}(_g);function bv(t){return"IndexedDbTransactionError"===t.name}var yv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Eg("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Eg("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),vv(n)},t.prototype.add=function(t){return Eg("SimpleDb","ADD",this.store.name,t,t),vv(this.store.add(t))},t.prototype.get=function(t){var e=this;return vv(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Eg("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Eg("SimpleDb","DELETE",this.store.name,t),vv(this.store.delete(t))},t.prototype.count=function(){return Eg("SimpleDb","COUNT",this.store.name),vv(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Eg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new dv(function(n,r){e.onerror=function(t){var e=wv(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new dv(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new gv(i),o=e(i.primaryKey,i.value,s);if(o instanceof dv){var a=o.catch(function(t){return s.done(),dv.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return dv.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function vv(t){return new dv(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=wv(t.target.error);n(e)}})}var _v=!1;function wv(t){var e=pv._t(Object(ph.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _g("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _v||(_v=!0,setTimeout(function(){throw r},0)),r}}return t}var Cv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Pi.c)(e,t),e}(uv);function Ev(t,e){var n=kg(t);return pv.It(n.Mt,e)}var Sv=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Cb(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Eb(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Eb(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Fg.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Xb())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rg(this.mutations,t.mutations,function(t,e){return xb(t,e)})&&Rg(this.baseMutations,t.baseMutations,function(t,e){return xb(t,e)})},t}(),xv=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Tg(e.mutations.length===r.length);for(var i=Qb(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ov=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Fg.min()),void 0===s&&(s=Fg.min()),void 0===o&&(o=Kg.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Iv=function(t){this.Lt=t};function Tv(t,e){if(e.document)return xy(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=nm.fromSegments(e.noDocument.path),r=Rv(e.noDocument.readTime),i=ym.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=nm.fromSegments(e.unknownDocument.path);return r=Rv(e.unknownDocument.version),ym.newUnknownDocument(s,r)}return Ig()}function kv(t,e,n){var r=Av(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:yy(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:dy(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Jy(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Dv(e.version);return o=e.hasCommittedMutations,new Jy(null,new Xy(a,c),null,o,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),u=Dv(e.version);return new Jy(new Zy(l,u),null,null,!0,r,i)}return Ig()}function Av(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Pv(t){var e=new Ng(t[0],t[1]);return Fg.fromTimestamp(e)}function Dv(t){var e=t.toTimestamp();return new Wy(e.seconds,e.nanoseconds)}function Rv(t){var e=new Ng(t.seconds,t.nanoseconds);return Fg.fromTimestamp(e)}function jv(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Iy(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Iy(t.Lt,e)}),s=Ng.fromMillis(e.localWriteTimeMs);return new Sv(e.batchId,s,n,i)}function Nv(t){var e,n,r=Rv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Rv(t.lastLimboFreeSnapshotVersion):Fg.min();return void 0!==t.query.documents?(Tg(1===(n=t.query).documents.length),e=$m(Um(wy(n.documents[0])))):e=function(t){return $m(Ay(t))}(t.query),new Ov(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Kg.fromBase64String(t.resumeToken))}function Fv(t,e){var n,r=Dv(e.snapshotVersion),i=Dv(e.lastLimboFreeSnapshotVersion);n=Em(e.target)?Ty(t.Lt,e.target):ky(t.Lt,e.target);var s=e.resumeToken.toBase64();return new ev(e.targetId,wm(e.target),r,s,e.sequenceNumber,i,n)}function Lv(t){var e=Ay({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Qm(e,e.limit,"L"):e}var Mv=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Bv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Rv(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Bv(t).put({bundleId:(n=e).id,createTime:Dv(gy(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Vv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Lv(e.bundledQuery),readTime:Rv(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Vv(t).put(function(t){return{name:t.name,readTime:Dv(gy(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Bv(t){return Ev(t,ov.store)}function Vv(t){return Ev(t,av.store)}var Uv=function(){function t(){this.Bt=new Hv}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),dv.resolve()},t.prototype.getCollectionParents=function(t,e){return dv.resolve(this.Bt.getEntries(e))},t}(),Hv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Hb(Ug.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Hb(Ug.comparator)).toArray()},t}(),qv=function(){function t(){this.qt=new Hv}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Hy(i)};return zv(t).put(s)}return dv.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[jg(e),""],!1,!0);return zv(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Ky(s.parent))}return n})},t}();function zv(t){return Ev(t,iv.store)}var Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wv=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Gv(t,e,n){var r=t.store(Qy.store),i=t.store(Yy.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Tg(1===a)}));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],f=Yy.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return dv.waitFor(s).next(function(){return l})}function $v(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ig();e=t.noDocument}return JSON.stringify(e).length}Wv.DEFAULT_COLLECTION_PERCENTILE=10,Wv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wv.DEFAULT=new Wv(41943040,Wv.DEFAULT_COLLECTION_PERCENTILE,Wv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wv.DISABLED=new Wv(-1,0,0);var Qv=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Tg(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xv(t).Ot({index:Qy.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Zv(t),o=Xv(t);return o.add({}).next(function(a){Tg("number"==typeof a);for(var c=new Sv(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return Oy(t.Lt,e)}),i=n.mutations.map(function(e){return Oy(t.Lt,e)});return new Qy(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),u=[],h=new Hb(function(t,e){return Dg(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Yy.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),u.push(o.put(l)),u.push(s.put(g,Yy.PLACEHOLDER))}return h.forEach(function(e){u.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),dv.waitFor(u).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Xv(t).get(e).next(function(t){return t?(Tg(t.userId===n.userId),jv(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?dv.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Xv(t).Ot({index:Qy.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Tg(e.batchId>=r),s=jv(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xv(t).Ot({index:Qy.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xv(t).Nt(Qy.userMutationsIndex,n).next(function(t){return t.map(function(t){return jv(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Yy.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Zv(t).Ot({range:i},function(r,i,o){var a=r[0],c=r[2],l=Ky(r[1]);if(a===n.userId&&e.path.isEqual(l))return Xv(t).get(c).next(function(t){if(!t)throw Ig();Tg(t.userId===n.userId),s.push(jv(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Hb(Dg),i=[];return e.forEach(function(e){var s=Yy.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Zv(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],c=Ky(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),dv.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Yy.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Hb(Dg);return Zv(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],l=Ky(t[1]);o===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Xv(t).get(e).next(function(t){if(null===t)throw Ig();Tg(t.userId===n.userId),r.push(jv(n.R,t))}))}),dv.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Gv(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),dv.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return dv.resolve();var r=IDBKeyRange.lowerBound(Yy.prefixForUser(e.userId)),i=[];return Zv(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=Ky(t[1]);i.push(s)}else r.done()}).next(function(){Tg(0===i.length)})})},t.prototype.containsKey=function(t,e){return Yv(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Jv(t).get(this.userId).next(function(t){return t||new $y(e.userId,-1,"")})},t}();function Yv(t,e,n){var r=Yy.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Zv(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Xv(t){return Ev(t,Qy.store)}function Zv(t){return Ev(t,Yy.store)}function Jv(t){return Ev(t,$y.store)}var t_=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),e_=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new t_(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Fg.fromTimestamp(new Ng(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return n_(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Tg(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return n_(t).Ot(function(o,a){var c=Nv(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return dv.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return n_(t).Ot(function(t,n){var r=Nv(n);e(r)})},t.prototype.Xt=function(t){return r_(t).get(rv.key).next(function(t){return Tg(null!==t),t})},t.prototype.Zt=function(t,e){return r_(t).put(rv.key,e)},t.prototype.te=function(t,e){return n_(t).put(Fv(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=wm(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return n_(t).Ot({range:r,index:ev.queryTargetsIndexName},function(t,n,r){var s=Nv(n);Cm(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=i_(t);return e.forEach(function(e){var o=Hy(e.path);i.push(s.put(new nv(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),dv.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=i_(t);return dv.forEach(e,function(e){var s=Hy(e.path);return dv.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=i_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=i_(t),i=Xb();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Ky(t[1]),s=new nm(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Hy(e.path),r=IDBKeyRange.bound([n],[jg(n)],!1,!0),i=0;return i_(t).Ot({index:nv.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return n_(t).get(e).next(function(t){return t?Nv(t):null})},t}();function n_(t){return Ev(t,ev.store)}function r_(t){return Ev(t,rv.store)}function i_(t){return Ev(t,nv.store)}function s_(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){if(t.code!==vg.FAILED_PRECONDITION||t.message!==lv)throw t;return Eg("LocalStore","Unexpectedly lost primary lease"),[2]})})}function o_(t,e){var n=t[1],r=e[1],i=Dg(t[0],e[0]);return 0===i?Dg(n,r):i}var a_=function(){function t(t){this.ne=t,this.buffer=new Hb(o_),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();o_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),c_=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Eg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Pi.b)(e,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return bv(e=n.sent())?(Eg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,s_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),l_=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return dv.resolve(yg.o);var r=new a_(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Eg("LruGarbageCollector","Garbage collection skipped; disabled"),dv.resolve(Kv)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Eg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Kv):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,l=this,u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(Eg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),Cg()<=gh.a.DEBUG&&Eg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-u)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-u)+"ms"),dv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),u_=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new l_(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return h_(t,n)},t.prototype.removeReference=function(t,e,n){return h_(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return h_(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Jv(t).$t(function(r){return Yv(t,r,e).next(function(t){return t&&(n=!0),dv.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),i_(t).delete([0,Hy(o.path)])})});i.push(c)}}).next(function(){return dv.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return h_(t,e)},t.prototype.we=function(t,e){var n,r=i_(t),i=yg.o;return r.Ot({index:nv.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==yg.o&&e(new nm(Ky(n)),i),i=o,n=s):i=yg.o}).next(function(){i!==yg.o&&e(new nm(Ky(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function h_(t,e){return i_(t).put(function(t,e){return new nv(0,Hy(t.path),e)}(e,t.currentSequenceNumber))}var d_=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mg(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return Bg(this.inner)},t}(),f_=function(){function t(){this.changes=new d_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Fg.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ym.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?dv.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),p_=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return b_(t).put(y_(e),n)},t.prototype.removeEntry=function(t,e){var n=b_(t),r=y_(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return b_(t).get(y_(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return b_(t).get(y_(e)).next(function(t){return{document:n.ye(e,t),size:$v(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Kb();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Kb(),i=new Bb(nm.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,$v(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return dv.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return b_(t).Ot({range:r},function(t,e,r){for(var o=nm.fromSegments(t);s&&nm.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Kb(),s=e.path.length+1,o={};if(n.isEqual(Fg.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),l=Av(n);o.range=IDBKeyRange.lowerBound([c,l],!0),o.index=Jy.collectionReadTimeIndex}return b_(t).Ot(o,function(t,n,o){if(t.length===s){var a=Tv(r.R,n);e.path.isPrefixOf(a.key.path)?Jm(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new g_(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return m_(t).get(tv.key).next(function(t){return Tg(!!t),t})},t.prototype.me=function(t,e){return m_(t).put(tv.key,e)},t.prototype.ye=function(t,e){if(e){var n=Tv(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Fg.min()))return n}return ym.newInvalidDocument(t)},t}(),g_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new d_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Pi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Hb(function(t,e){return Dg(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=kv(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var l=$v(c);r+=l-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var u=kv(e.Ie.R,ym.newNoDocument(s,Fg.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,u))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),dv.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(f_);function m_(t){return Ev(t,tv.store)}function b_(t){return Ev(t,Jy.store)}function y_(t){return t.path.toArray()}var v_=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Tg(n<r&&n>=0&&r<=11);var s=new fv("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gy.store)}(t),function(t){t.createObjectStore($y.store,{keyPath:$y.keyPath}),t.createObjectStore(Qy.store,{keyPath:Qy.keyPath,autoIncrement:!0}).createIndex(Qy.userMutationsIndex,Qy.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Yy.store)}(t),__(t),function(t){t.createObjectStore(Jy.store)}(t));var o=dv.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(nv.store),t.deleteObjectStore(ev.store),t.deleteObjectStore(rv.store)}(t),__(t)),o=o.next(function(){return function(t){var e=t.store(rv.store),n=new rv(0,0,Fg.min().toTimestamp(),0);return e.put(rv.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Qy.store).Nt().next(function(n){t.deleteObjectStore(Qy.store),t.createObjectStore(Qy.store,{keyPath:Qy.keyPath,autoIncrement:!0}).createIndex(Qy.userMutationsIndex,Qy.userMutationsKeyPath,{unique:!0});var r=e.store(Qy.store),i=n.map(function(t){return r.put(t)});return dv.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(sv.store,{keyPath:sv.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(tv.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Jy.store);e.createIndex(Jy.readTimeIndex,Jy.readTimeIndexPath,{unique:!1}),e.createIndex(Jy.collectionReadTimeIndex,Jy.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(ov.store,{keyPath:ov.keyPath})}(t),function(t){t.createObjectStore(av.store,{keyPath:av.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(Jy.store).Ot(function(t,n){e+=$v(n)}).next(function(){var n=new tv(e);return t.store(tv.store).put(tv.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store($y.store),r=t.store(Qy.store);return n.Nt().next(function(n){return dv.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Qy.userMutationsIndex,i).next(function(r){return dv.forEach(r,function(r){Tg(r.userId===n.userId);var i=jv(e.R,r);return Gv(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(nv.store),n=t.store(Jy.store);return t.store(rv.store).get(rv.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new Ug(n),o=function(t){return[0,Hy(t)]}(s);r.push(e.get(o).next(function(n){return n?dv.resolve():function(n){return e.put(new nv(0,Hy(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return dv.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(iv.store,{keyPath:iv.keyPath});var n=e.store(iv.store),r=new Hv,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Hy(i)})}};return e.store(Jy.store).Ot({kt:!0},function(t,e){var n=new Ug(t);return i(n.popLast())}).next(function(){return e.store(Yy.store).Ot({kt:!0},function(t,e){var n=Ky(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(ev.store);return n.Ot(function(t,r){var i=Nv(r),s=Fv(e.R,i);return n.put(s)})},t}();function __(t){t.createObjectStore(nv.store,{keyPath:nv.keyPath}).createIndex(nv.documentTargetsIndex,nv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ev.store,{keyPath:ev.keyPath}).createIndex(ev.queryTargetsIndexName,ev.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(rv.store)}var w_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",C_=function(){function t(e,n,r,i,s,o,a,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=l,this.Ce=u,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new _g(vg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new u_(this,i),this.Le=n+"main",this.R=new Iv(c),this.Be=new pv(this.Le,11,new v_(this.R)),this.qe=new e_(this.referenceDelegate,this.R),this.Ut=new qv,this.Ue=function(t,e){return new p_(t,e)}(this.R,this.Ut),this.Qe=new Mv,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===u&&Sg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _g(vg.FAILED_PRECONDITION,w_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new yg(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return S_(e).put(new sv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(bv(e))return Eg("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Eg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return E_(t).get(Gy.key).next(function(t){return dv.resolve(e.tn(t))})},t.prototype.en=function(t){return S_(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ev(t,sv.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return dv.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?dv.resolve(!0):E_(t).get(Gy.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new _g(vg.FAILED_PRECONDITION,w_);return!1}}return!(!e.networkEnabled||!e.inForeground)||S_(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Eg("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t=this;return Object(Pi.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gy.store,sv.store],function(e){var n=new Cv(e,yg.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return S_(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Qv.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Eg("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",cv,function(s){return r=new Cv(s,i.Ne?i.Ne.next():yg.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Sg("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new _g(vg.FAILED_PRECONDITION,lv);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return E_(t).get(Gy.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _g(vg.FAILED_PRECONDITION,w_)})},t.prototype.Ze=function(t){var e=new Gy(this.clientId,this.allowTabSynchronization,Date.now());return E_(t).put(Gy.key,e)},t.yt=function(){return pv.yt()},t.prototype.Xe=function(t){var e=this,n=E_(t);return n.get(Gy.key).next(function(t){return e.tn(t)?(Eg("IndexedDbPersistence","Releasing primary lease."),n.delete(Gy.key)):dv.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Sg("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Eg("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Sg("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Sg("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function E_(t){return Ev(t,Gy.store)}function S_(t){return Ev(t,sv.store)}function x_(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var O_=function(t,e){this.progress=t,this.wn=e},I_=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return nm.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Wm(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new nm(e)).next(function(t){var e=Gb();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Gb();return this.Ut.getCollectionParents(t,i).next(function(o){return dv.forEach(o,function(o){var a=function(t,e){return new Bm(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],l=c.key,u=r.get(l);null==u&&(u=ym.newInvalidDocument(l),r=r.insert(l,u)),Eb(c,u,s.localWriteTime),u.isFoundDocument()||(r=r.remove(l))}})}).next(function(){return r.forEach(function(t,n){Jm(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Xb(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof Tb&&null===n.get(c.key)&&(r=r.add(c.key))}var l=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))}),l})},t}(),T_=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Xb(),i=Xb(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),k_=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Fg.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Hm(e)||qm(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Cg()<=gh.a.DEBUG&&Eg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Zm(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Hb(tb(t));return e.forEach(function(e,r){Jm(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Cg()<=gh.a.DEBUG&&Eg("QueryEngine","Using full collection scan to execute query:",Zm(e)),this.Sn.getDocumentsMatchingQuery(t,e,Fg.min())},t}(),A_=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Bb(Dg),this.kn=new d_(function(t){return wm(t)},Cm),this.On=Fg.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new I_(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function P_(t,e,n,r){return new A_(t,e,n,r)}function D_(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:return n=kg(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new I_(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Xb(),a=0,c=s;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)o=o.add(h[u].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function R_(t,e){var n=kg(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=dv.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Tg(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function j_(t){var e=kg(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function N_(t,e){var n=kg(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var l=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,l),function(t,e,n){return Tg(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,e)&&o.push(n.qe.updateTargetData(t,l))}}});var a=Kb();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(F_(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Fg.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return dv.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function F_(t,e,n,r,i){var s=Xb();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Kb();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Fg.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):Eg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function L_(t,e){var n=kg(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function M_(t,e){var n=kg(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?dv.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ov(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function B_(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:r=kg(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!bv(o=a.sent()))throw o;return Eg("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function V_(t,e,n){var r=kg(t),i=Fg.min(),s=Xb();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=kg(t),i=r.kn.get(n);return void 0!==i?dv.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,$m(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Fg.min(),n?s:Xb())}).next(function(t){return{documents:t,Bn:s}})})}function U_(t,e){var n=kg(t),r=kg(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function H_(t){var e=kg(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=kg(t),i=Kb(),s=Av(n),o=b_(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:Jy.readTimeIndex,range:a},function(t,e){var n=Tv(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Pv(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function q_(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){return[2,(e=kg(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=b_(t),n=Fg.min();return e.Ot({index:Jy.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Pv(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function z_(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o,a,c,l,u,h,d,f;return Object(Pi.d)(this,function(p){switch(p.label){case 0:for(i=kg(t),s=Xb(),o=Kb(),a=Qb(),c=0,l=n;c<l.length;c++)h=e.qn((u=l[c]).metadata.name),u.document&&(s=s.add(h)),o=o.insert(h,e.Un(u)),a=a.insert(h,e.Qn(u.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,M_(i,function(t){return $m(Um(Ug.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return F_(t,d,o,Fg.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function K_(t,e,n){return void 0===n&&(n=Xb()),Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return[4,M_(t,$m(Lv(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=kg(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=gy(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Kg.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var W_=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return dv.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:gy(n.createTime)}),dv.resolve()},t.prototype.getNamedQuery=function(t,e){return dv.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Lv(t.bundledQuery),readTime:gy(t.readTime)}}(e)),dv.resolve()},t}(),G_=function(){function t(){this.Wn=new Hb($_.Gn),this.zn=new Hb($_.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new $_(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new $_(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new nm(new Ug([])),r=new $_(n,t),i=new $_(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new nm(new Ug([])),n=new $_(e,t),r=new $_(e,t+1),i=Xb();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new $_(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),$_=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return nm.comparator(t.key,e.key)||Dg(t.ns,e.ns)},t.Hn=function(t,e){return Dg(t.ns,e.ns)||nm.comparator(t.key,e.key)},t}(),Q_=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Hb($_.Gn)}return t.prototype.checkEmpty=function(t){return dv.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Sv(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new $_(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return dv.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return dv.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return dv.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return dv.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return dv.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new $_(e,0),i=new $_(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),dv.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Hb(Dg);return e.forEach(function(t){var e=new $_(t,0),i=new $_(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),dv.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;nm.isDocumentKey(i)||(i=i.child(""));var s=new $_(new nm(i),0),o=new Hb(Dg);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),dv.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Tg(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return dv.forEach(e.mutations,function(i){var s=new $_(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new $_(e,0),r=this.rs.firstAfterOrEqual(n);return dv.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return dv.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Y_=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Bb(nm.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return dv.resolve(n?n.document.clone():ym.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Kb();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ym.newInvalidDocument(t))}),dv.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Kb(),i=new nm(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,l=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;l.compareTo(n)<=0||Jm(e,c)&&(r=r.insert(c.key,c.clone()))}return dv.resolve(r)},t.prototype.fs=function(t,e){return dv.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new X_(this)},t.prototype.getSize=function(t){return dv.resolve(this.size)},t}(),X_=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Pi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),dv.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(f_),Z_=function(){function t(t){this.persistence=t,this.ds=new d_(function(t){return wm(t)},Cm),this.lastRemoteSnapshotVersion=Fg.min(),this.highestTargetId=0,this.ws=0,this._s=new G_,this.targetCount=0,this.ys=t_.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),dv.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return dv.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return dv.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),dv.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),dv.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new t_(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,dv.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),dv.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,dv.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),dv.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return dv.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return dv.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),dv.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),dv.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),dv.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return dv.resolve(n)},t.prototype.containsKey=function(t,e){return dv.resolve(this._s.containsKey(e))},t}(),J_=function(){function t(t,e){var n=this;this.gs={},this.Ne=new yg(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Z_(this),this.Ut=new Uv,this.Ue=function(t,e){return new Y_(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Iv(e),this.Qe=new W_(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Q_(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Eg("MemoryPersistence","Starting transaction:",t);var i=new tw(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return dv.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),tw=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Pi.c)(e,t),e}(uv),ew=function(){function t(t){this.persistence=t,this.As=new G_,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ig()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),dv.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),dv.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),dv.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dv.forEach(this.vs,function(r){var i=nm.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return dv.or([function(){return dv.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),nw=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function rw(t,e){return"firestore_clients_"+t+"_"+e}function iw(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function sw(t,e){return"firestore_targets_"+t+"_"+e}nw.UNAUTHENTICATED=new nw(null),nw.GOOGLE_CREDENTIALS=new nw("google-credentials-uid"),nw.FIRST_PARTY=new nw("first-party-uid");var ow=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new _g(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Sg("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),aw=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new _g(i.error.code,i.error.message)),s?new t(e,i.state,r):(Sg("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),cw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Jb(),o=0;i&&o<r.activeTargetIds.length;++o)i=em(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Sg("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),lw=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Sg("SharedClientState","Failed to parse online state: "+e),null)},t}(),uw=function(){function t(){this.activeTargetIds=Jb()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),hw=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Bb(Dg),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=rw(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new uw),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,l,u=this;return Object(Pi.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(rw(this.persistenceKey,r)))&&(s=cw.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,l=this.Os;c<l.length;c++)this.Fs(l[c]);return this.Os=[],this.window.addEventListener("unload",function(){return u.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(sw(this.persistenceKey,t));if(n){var r=aw.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(sw(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Eg("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Eg("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Eg("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Eg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Sg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Pi.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Pi.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=yg.o;if(null!=t)try{var n=JSON.parse(t);Tg("number"==typeof n),e=n}catch(t){Sg("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==yg.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ow(this.currentUser,t,e,n),i=iw(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=iw(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=sw(this.persistenceKey,t),i=new aw(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return cw.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return ow.Vs(new nw(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return aw.Vs(r,e)},t.prototype.js=function(t){return lw.Vs(t)},t.prototype.ii=function(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Eg("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Jb();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),dw=function(){function t(){this.li=new uw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new uw,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),fw=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),pw=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Eg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Eg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mw=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),bw=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Pi.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new bg;o.listenOnce(pg.COMPLETE,function(){try{switch(o.getLastErrorCode()){case fg.NO_ERROR:var e=o.getResponseJson();Eg("Connection","XHR received:",JSON.stringify(e)),i(e);break;case fg.TIMEOUT:Eg("Connection",'RPC "'+t+'" timed out'),s(new _g(vg.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:var n=o.getStatus();if(Eg("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vg).indexOf(e)>=0?e:vg.UNKNOWN}(r.status);s(new _g(a,r.message))}else s(new _g(vg.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new _g(vg.UNAVAILABLE,"Connection failed."));break;default:Ig()}}finally{Eg("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new cg,i=hf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(ph.m)()||Object(ph.o)()||Object(ph.k)()||Object(ph.l)()||Object(ph.p)()||Object(ph.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Eg("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,l=!1,u=new mw({Ei:function(t){l?Eg("Connection","Not sending because WebChannel is closed:",t):(c||(Eg("Connection","Opening WebChannel transport."),a.open(),c=!0),Eg("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,mg.EventType.OPEN,function(){l||Eg("Connection","WebChannel transport opened.")}),h(a,mg.EventType.CLOSE,function(){l||(l=!0,Eg("Connection","WebChannel transport closed"),u.Vi())}),h(a,mg.EventType.ERROR,function(t){l||(l=!0,xg("Connection","WebChannel transport errored:",t),u.Vi(new _g(vg.UNAVAILABLE,"The operation could not be completed")))}),h(a,mg.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Tg(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Eg("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Db[t];if(void 0!==e)return Mb(e)}(i),o=r.message;void 0===s&&(s=vg.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,u.Vi(new _g(s,o)),a.close()}else Eg("Connection","WebChannel received:",n),u.Si(n)}}),h(i,gg.STAT_EVENT,function(t){10===t.stat?Eg("Connection","Detected buffering proxy"):11===t.stat&&Eg("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Pi()},0),u},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Eg("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return Eg("RestConnection","Received: ",t),t},function(e){throw xg("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+gw[t]},t}());function yw(){return"undefined"!=typeof window?window:null}function vw(){return"undefined"!=typeof document?document:null}function _w(t){return new hy(t,!0)}var ww=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Eg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Cw=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ww(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===vg.RESOURCE_EXHAUSTED?(Sg(e.toString()),Sg("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===vg.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new _g(vg.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Pi.b)(t,void 0,void 0,function(){return Object(Pi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Eg("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Eg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ew=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Pi.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ig()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Tg(void 0===e||"string"==typeof e),Kg.fromBase64String(e||"")):(Tg(void 0===e||e instanceof Uint8Array),Kg.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?vg.UNKNOWN:Mb(t.code);return new _g(e,t.message||"")}(a);n=new iy(r,i,s,o||null)}else if("documentChange"in e){i=vy(t,(r=e.documentChange).document.name),s=gy(r.document.updateTime);var a=new mm({mapValue:{fields:r.document.fields}}),c=(o=ym.newFoundDocument(i,s,a),r.targetIds||[]);n=new ny(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=vy(t,(r=e.documentDelete).document),s=r.readTime?gy(r.readTime):Fg.min(),a=ym.newNoDocument(i,s),n=new ny([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=vy(t,(r=e.documentRemove).document),n=new ny([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ig();var l=e.filter;i=new Fb(r=l.count||0),n=new ry(s=l.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Fg.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fg.min():e.readTime?gy(e.readTime):Fg.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Cy(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Em(r)?{documents:Ty(t,r)}:{query:ky(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=fy(t,e.resumeToken):e.snapshotVersion.compareTo(Fg.min())>0&&(n.readTime=dy(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ig()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Cy(this.R),e.removeTarget=t,this.cr(e)},e}(Cw),Sw=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Pi.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Tg(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Tg(void 0!==e),t.map(function(t){return function(t,e){var n=gy(t.updateTime?t.updateTime:e);return n.isEqual(Fg.min())&&(n=gy(e)),new yb(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=gy(t.commitTime);return this.listener.Tr(n,e)}return Tg(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Cy(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Oy(e.R,t)})};this.cr(n)},e}(Cw),xw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Pi.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new _g(vg.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===vg.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new _g(vg.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===vg.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new _g(vg.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Ow=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Sg(e),this.Vr=!1):Eg("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Iw=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Pi.b)(s,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return Fw(this)?(Eg("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return(e=kg(t)).$r.add(4),[4,kw(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Tw(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Ow(n,r)};function Tw(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:if(!Fw(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function kw(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Aw(t,e){var n=kg(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Nw(n)?jw(n):Xw(n).er()&&Dw(n,e))}function Pw(t,e){var n=kg(t),r=Xw(n);n.Or.delete(e),r.er()&&Rw(n,e),0===n.Or.size&&(r.er()?r.ir():Fw(n)&&n.Br.set("Unknown"))}function Dw(t,e){t.qr.U(e.targetId),Xw(t).mr(e)}function Rw(t,e){t.qr.U(e),Xw(t).yr(e)}function jw(t){t.qr=new oy({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Xw(t).start(),t.Br.Sr()}function Nw(t){return Fw(t)&&!Xw(t).tr()&&t.Or.size>0}function Fw(t){return 0===kg(t).$r.size}function Lw(t){t.qr=void 0}function Mw(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return t.Or.forEach(function(e,n){Dw(t,e)}),[2]})})}function Bw(t,e){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(n){return Lw(t),Nw(t)?(t.Br.Nr(e),jw(t)):t.Br.set("Unknown"),[2]})})}function Vw(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof iy&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Eg("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Uw(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ny?t.qr.X(e):e instanceof ry?t.qr.rt(e):t.qr.et(e),n.isEqual(Fg.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,j_(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Kg.EMPTY_BYTE_STRING,n.snapshotVersion)),Rw(t,e);var r=new Ov(n.target,e,1,n.sequenceNumber);Dw(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Eg("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Uw(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Uw(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r=this;return Object(Pi.d)(this,function(i){switch(i.label){case 0:if(!bv(e))throw e;return t.$r.add(1),[4,kw(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return j_(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Pi.b)(r,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return Eg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Tw(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Hw(t,e){return e().catch(function(n){return Uw(t,n,e)})}function qw(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:e=kg(t),n=Zw(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Fw(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,L_(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Zw(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Uw(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return zw(e)&&Kw(e),[2]}})})}function zw(t){return Fw(t)&&!Zw(t).tr()&&t.kr.length>0}function Kw(t){Zw(t).start()}function Ww(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){return Zw(t).Ar(),[2]})})}function Gw(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n,r;return Object(Pi.d)(this,function(i){for(e=Zw(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function $w(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=xv.from(r,e,n),[4,Hw(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,qw(t)];case 2:return s.sent(),[2]}})})}function Qw(t,e){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e&&Zw(t).pr?[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return Lb(r=e.code)&&r!==vg.ABORTED?(n=t.kr.shift(),Zw(t).sr(),[4,Hw(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,qw(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zw(t)&&Kw(t),[2]}})})}function Yw(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return n=kg(t),e?(n.$r.delete(2),[4,Tw(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,kw(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xw(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=kg(t);return r.br(),new Ew(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Mw.bind(null,t),Ri:Bw.bind(null,t),_r:Vw.bind(null,t)}),t.Mr.push(function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Nw(t)?jw(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Lw(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Zw(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=kg(t);return r.br(),new Sw(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ww.bind(null,t),Ri:Qw.bind(null,t),Ir:Gw.bind(null,t),Tr:$w.bind(null,t)}),t.Mr.push(function(n){return Object(Pi.b)(e,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,qw(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Eg("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Jw=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _g(vg.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function tC(t,e){if(Sg("AsyncQueue",e+": "+t),bv(t))return new _g(vg.UNAVAILABLE,e+": "+t);throw t}var eC=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||nm.comparator(e.key,n.key)}:function(t,e){return nm.comparator(t.key,e.key)},this.keyedMap=Gb(),this.sortedSet=new Bb(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),nC=function(){function t(){this.Kr=new Bb(nm.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Ig():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),rC=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,eC.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ym(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),iC=function(){this.Wr=void 0,this.listeners=[]},sC=function(){this.queries=new d_(function(t){return Xm(t)},Ym),this.onlineState="Unknown",this.Gr=new Set};function oC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Pi.d)(this,function(l){switch(l.label){case 0:if(n=kg(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new iC),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=l.sent(),[3,4];case 3:return a=l.sent(),c=tC(a,"Initialization of query '"+Zm(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&uC(n),[2]}})})}function aC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pi.d)(this,function(a){return n=kg(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function cC(t,e){for(var n=kg(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].Hr(o)&&(r=!0);a.Wr=o}}r&&uC(n)}function lC(t,e,n){var r=kg(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function uC(t){t.Gr.forEach(function(t){t.next()})}var hC=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new rC(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=rC.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),dC=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),fC=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return vy(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?xy(this.R,t.document,!1):ym.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return gy(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new fC(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var l=c[a],u=(e.get(l)||Xb()).add(o);e.set(l,u)}}return e},t.prototype.complete=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return[4,z_(this.localStore,new fC(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,K_(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new O_(Object.assign({},this.progress),t))]}})})}}();var pC=function(t){this.key=t},gC=function(t){this.key=t},mC=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Xb(),this.mutatedKeys=Xb(),this.lo=tb(t),this.fo=new eC(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new nC,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=Hm(this.query)&&i.size===this.query.limit?i.last():null,l=qm(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var u=i.get(t),h=Jm(n.query,e)?e:null,d=!!u&&n.mutatedKeys.has(u.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;u&&h?u.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(u,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||l&&n.lo(h,l)<0)&&(a=!0)):!u&&h?(r.track({type:0,doc:h}),p=!0):u&&!h&&(r.track({type:1,doc:u}),p=!0,(c||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Hm(this.query)||qm(this.query))for(;o.size>this.query.limit;){var u=Hm(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ig()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new rC(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new nC,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Xb(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new gC(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new pC(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Xb();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return rC.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),bC=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yC=function(t){this.key=t,this.bo=!1},vC=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new d_(function(t){return Xm(t)},Ym),this.Vo=new Map,this.So=new Set,this.Do=new Bb(nm.comparator),this.Co=new Map,this.No=new G_,this.xo={},this.Fo=new Map,this.ko=t_.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function _C(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return n=QC(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,M_(n.localStore,$m(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,wC(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Aw(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function wC(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o,a,c,l;return Object(Pi.d)(this,function(u){switch(u.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,V_(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(jC(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,V_(t.localStore,e,!0)];case 1:return i=u.sent(),s=new mC(e,i.Bn),o=s._o(i.documents),a=ey.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),jC(t,n,c.To),l=new bC(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function CC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return n=kg(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ym(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,B_(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Pw(n.remoteStore,r.targetId),DC(n,r.targetId)}).catch(s_)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return DC(n,r.targetId),[4,B_(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function EC(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:r=YC(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=kg(t),i=Ng.now(),s=e.reduce(function(t,e){return t.add(e.key)},Xb());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var l=c[a],u=Sb(l,n.get(l.key));null!=u&&o.push(new Tb(l.key,u,bm(u.toProto().mapValue),vb.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Bb(Dg)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,LC(r,i.changes)];case 3:return a.sent(),[4,qw(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=tC(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function SC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:n=kg(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,N_(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Tg(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Tg(r.bo):t.removedDocuments.size>0&&(Tg(r.bo),r.bo=!1))}),[4,LC(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,s_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function xC(t,e,n){var r=kg(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=kg(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&uC(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OC(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Pi.d)(this,function(l){switch(l.label){case 0:return(r=kg(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Bb(nm.comparator)).insert(s,ym.newNoDocument(s,Fg.min())),a=Xb().add(s),c=new ty(Fg.min(),new Map,new Hb(Dg),o,a),[4,SC(r,c)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),FC(r),[3,4];case 2:return[4,B_(r.localStore,e,!1).then(function(){return DC(r,e,n)}).catch(s_)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function IC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:n=kg(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,R_(n.localStore,e)];case 2:return i=s.sent(),PC(n,r,null),AC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,LC(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,s_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function TC(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:r=kg(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=kg(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Tg(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),PC(r,e,n),AC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,LC(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,s_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function kC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:Fw((n=kg(t)).remoteStore)||Eg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=kg(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=tC(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function AC(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function PC(t,e,n){var r=kg(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function DC(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||RC(t,e)})}function RC(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Pw(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),FC(t))}function jC(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof pC?(t.No.addReference(s.key,e),NC(t,s)):s instanceof gC?(Eg("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||RC(t,s.key)):Ig()}}function NC(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Eg("SyncEngine","New document in limbo: "+n),t.So.add(r),FC(t))}function FC(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new nm(Ug.fromString(e)),r=t.ko.next();t.Co.set(r,new yC(n)),t.Do=t.Do.insert(n,r),Aw(t.remoteStore,new Ov($m(Um(n.path)),r,2,yg.o))}}function LC(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return r=kg(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=T_.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l;return Object(Pi.d)(this,function(u){switch(u.label){case 0:n=kg(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return dv.forEach(e,function(e){return dv.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return dv.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return u.sent(),[3,4];case 3:if(!bv(r=u.sent()))throw r;return Eg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,l));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function MC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return(n=kg(t)).currentUser.isEqual(e)?[3,3]:(Eg("SyncEngine","User change. New user:",e.toKey()),[4,D_(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new _g(vg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,LC(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function BC(t,e){var n=kg(t),r=n.Co.get(e);if(r&&r.bo)return Xb().add(r.key);var i=Xb(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function VC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return[4,V_((n=kg(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&jC(n,e.targetId,i.To),i)]}})})}function UC(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){return[2,H_((e=kg(t)).localStore).then(function(t){return LC(e,t)})]})})}function HC(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s;return Object(Pi.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=kg(t),r=kg(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):dv.resolve(null)})})}((i=kg(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,qw(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(PC(i,e,r||null),AC(i,e),function(t,e){kg(kg(t)._n).Gt(e)}(i.localStore,e)):Ig(),o.label=4;case 4:return[4,LC(i,s)];case 5:return o.sent(),[3,7];case 6:Eg("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function qC(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Pi.d)(this,function(l){switch(l.label){case 0:return QC(n=kg(t)),YC(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,zC(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Yw(n.remoteStore,!0)];case 2:for(l.sent(),s=0,o=i;s<o.length;s++)Aw(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return DC(n,e),B_(n.localStore,e,!0)}),Pw(n.remoteStore,e)}),[4,c]);case 4:return l.sent(),[4,zC(n,a)];case 5:return l.sent(),function(t){var e=kg(t);e.Co.forEach(function(t,n){Pw(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Bb(nm.comparator)}(n),n.Oo=!1,[4,Yw(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function zC(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l,u,h,d,f,p;return Object(Pi.d)(this,function(g){switch(g.label){case 0:n=kg(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(c=void 0,(l=n.Vo.get(a=o[s]))&&0!==l.length?[4,M_(n.localStore,$m(l[0]))]:[3,7]):[3,13];case 2:c=g.sent(),u=0,h=l,g.label=3;case 3:return u<h.length?(d=n.Po.get(h[u]),[4,VC(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,U_(n.localStore,a)];case 8:return p=g.sent(),[4,M_(n.localStore,p)];case 9:return c=g.sent(),[4,wC(n,KC(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function KC(t){return Vm(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function WC(t){var e=kg(t);return kg(kg(e.localStore).persistence).fn()}function GC(t,e,n,r){return Object(Pi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Pi.d)(this,function(a){switch(a.label){case 0:return(i=kg(t)).Oo?(Eg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,H_(i.localStore)];case 3:return s=a.sent(),o=ty.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,LC(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,B_(i.localStore,e,!0)];case 6:return a.sent(),DC(i,e,r),[3,8];case 7:Ig(),a.label=8;case 8:return[2]}})})}function $C(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,l,u,h;return Object(Pi.d)(this,function(d){switch(d.label){case 0:if(!(r=QC(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Eg("SyncEngine","Adding an already active target "+o),[3,5]):[4,U_(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,M_(r.localStore,a)];case 3:return c=d.sent(),[4,wC(r,KC(a),c.targetId,!1)];case 4:d.sent(),Aw(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,B_(r.localStore,t,!1).then(function(){Pw(r.remoteStore,t),DC(r,t)}).catch(s_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},u=0,h=n,d.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}})})}function QC(t){var e=kg(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OC.bind(null,e),e.vo._r=cC.bind(null,e.eventManager),e.vo.Mo=lC.bind(null,e.eventManager),e}function YC(t){var e=kg(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TC.bind(null,e),e}var XC=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return this.R=_w(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return P_(this.persistence,new k_,t.initialUser,this.R)},t.prototype.qo=function(t){return new J_(ew.bs,this.R)},t.prototype.Bo=function(t){return new dw},t.prototype.terminate=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),ZC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Pi.c)(e,t),e.prototype.initialize=function(e){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,q_(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,YC(this.Ko.syncEngine)];case 4:return n.sent(),[4,qw(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return P_(this.persistence,new k_,t.initialUser,this.R)},e.prototype.Uo=function(t){return new c_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=x_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wv.withCacheSize(this.cacheSizeBytes):Wv.DEFAULT;return new C_(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yw(),vw(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new dw},e}(XC),JC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Pi.c)(e,t),e.prototype.initialize=function(e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof hw?(this.sharedClientState.syncEngine={ui:HC.bind(null,n),ai:GC.bind(null,n),hi:$C.bind(null,n),fn:WC.bind(null,n),ci:UC.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Pi.b)(r,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return[4,qC(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=yw();if(!hw.yt(e))throw new _g(vg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=x_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new hw(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ZC),tE=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n=this;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return xC(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=MC.bind(null,this.syncEngine),[4,Yw(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new sC},t.prototype.createDatastore=function(t){var e=_w(t.databaseInfo.databaseId),n=new bw(t.databaseInfo);return function(t,e,n){return new xw(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return xC(o.syncEngine,t,0)},s=pw.yt()?new pw:new fw,new Iw(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new vC(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=kg(t),Eg("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,kw(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),eE=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),nE=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new hv,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new dC(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pi.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _g(vg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Pi.d)(this,function(c){switch(c.label){case 0:return n=kg(t),r=Cy(n.R)+"/documents",i={documents:e.map(function(t){return yy(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Tg(!!e.found);var n=vy(t,e.found.name),r=gy(e.found.updateTime),i=new mm({mapValue:{fields:e.found.fields}});return ym.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Tg(!!e.missing),Tg(!!e.readTime);var n=vy(t,e.missing),r=gy(e.readTime);return ym.newNoDocument(n,r)}(t,e):Ig()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Tg(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new jb(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pi.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=nm.fromPath(n);e.mutations.push(new Nb(r,e.precondition(r)))}),[4,function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return n=kg(t),r=Cy(n.R)+"/documents",i={writes:e.map(function(t){return Oy(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ig();e=Fg.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _g(vg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?vb.updateTime(e):vb.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Fg.min()))throw new _g(vg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vb.updateTime(e)}return vb.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),rE=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ww(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Pi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Pi.d)(this,function(r){return t=new nE(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Jg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Lb(e)}return!1},t}(),iE=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=nw.UNAUTHENTICATED,this.clientId=Pg.u(),this.credentialListener=function(){},this.receivedInitialUser=new hv,this.credentials.setChangeListener(function(t){Eg("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _g(vg.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new hv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pi.b)(t,void 0,void 0,function(){var t,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=tC(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function sE(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Eg("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Pi.b)(i,void 0,void 0,function(){return Object(Pi.d)(this,function(t){switch(t.label){case 0:return[4,D_(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function oE(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,aE(t)];case 1:return n=i.sent(),Eg("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Pi.b)(this,void 0,void 0,function(){var n,r;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return(n=kg(t)).asyncQueue.verifyOperationInProgress(),Eg("RemoteStore","RemoteStore received new credentials"),r=Fw(n),n.$r.add(3),[4,kw(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Tw(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function aE(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Eg("FirestoreClient","Using default OfflineComponentProvider"),[4,sE(t,new XC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function cE(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Eg("FirestoreClient","Using default OnlineComponentProvider"),[4,oE(t,new tE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function lE(t){return aE(t).then(function(t){return t.persistence})}function uE(t){return aE(t).then(function(t){return t.localStore})}function hE(t){return cE(t).then(function(t){return t.remoteStore})}function dE(t){return cE(t).then(function(t){return t.syncEngine})}function fE(t){return Object(Pi.b)(this,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return[4,cE(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=_C.bind(null,e.syncEngine),n.onUnlisten=CC.bind(null,e.syncEngine),n)]}})})}function pE(t,e,n){var r=this;void 0===n&&(n={});var i=new hv;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(r,void 0,void 0,function(){var r;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new eE({next:function(s){e.enqueueAndForget(function(){return aC(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new _g(vg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new _g(vg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new hC(Um(n.path),s,{includeMetadataChanges:!0,so:!0});return oC(t,o)},[4,fE(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function gE(t,e,n){var r=this;void 0===n&&(n={});var i=new hv;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(r,void 0,void 0,function(){var r;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new eE({next:function(n){e.enqueueAndForget(function(){return aC(t,o)}),n.fromCache&&"server"===r.source?i.reject(new _g(vg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new hC(n,s,{includeMetadataChanges:!0,so:!0});return oC(t,o)},[4,fE(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var mE=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},bE=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),yE=new Map,vE=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},_E=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(nw.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wE=function(){function t(t){var e=this;this.oc=null,this.currentUser=nw.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Eg("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Tg("string"==typeof n.accessToken),new vE(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Tg(null===t||"string"==typeof t),new nw(t)},t}(),CE=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=nw.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),EE=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new CE(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(nw.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function SE(t,e,n){if(!n)throw new _g(vg.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xE(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _g(vg.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function OE(t,e,n,r){if(!0===e&&!0===r)throw new _g(vg.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function IE(t){if(!nm.isDocumentKey(t))throw new _g(vg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function TE(t){if(nm.isDocumentKey(t))throw new _g(vg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function kE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ig()}function AE(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _g(vg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kE(t);throw new _g(vg.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function PE(t,e){if(e<=0)throw new _g(vg.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var DE=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _g(vg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _g(vg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,OE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),RE=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,t instanceof bE?(this._databaseId=t,this._credentials=new _E):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _g(vg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bE(t.options.projectId)}(t),this._credentials=new wE(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new _g(vg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new _g(vg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new _E;switch(t.type){case"gapi":var e=t.client;return Tg(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new EE(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new _g(vg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=yE.get(this))&&(Eg("ComponentProvider","Removing Datastore"),yE.delete(this),t.terminate()),Promise.resolve();var t},t}(),jE=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new FE(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),NE=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),FE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Um(r))||this)._path=r,i.type="collection",i}return Object(Pi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new jE(this.firestore,null,new nm(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(NE);function LE(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ph.g)(t),SE("collection","path",e),t instanceof RE)return TE(n=Ug.fromString.apply(Ug,Object(Pi.f)([e],r))),new FE(t,null,n);if(!(t instanceof jE||t instanceof FE))throw new _g(vg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TE(n=Ug.fromString.apply(Ug,Object(Pi.f)([t.path],r)).child(Ug.fromString(e))),new FE(t.firestore,null,n)}function ME(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ph.g)(t),1===arguments.length&&(e=Pg.u()),SE("doc","path",e),t instanceof RE)return IE(n=Ug.fromString.apply(Ug,Object(Pi.f)([e],r))),new jE(t,null,new nm(n));if(!(t instanceof jE||t instanceof FE))throw new _g(vg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return IE(n=t._path.child(Ug.fromString.apply(Ug,Object(Pi.f)([e],r)))),new jE(t.firestore,t instanceof FE?t._converter:null,new nm(n))}function BE(t,e){return t=Object(ph.g)(t),e=Object(ph.g)(e),(t instanceof jE||t instanceof FE)&&(e instanceof jE||e instanceof FE)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function VE(t,e){return t=Object(ph.g)(t),e=Object(ph.g)(e),t instanceof NE&&e instanceof NE&&t.firestore===e.firestore&&Ym(t._query,e._query)&&t._converter===e._converter}var UE=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ww(this,"async_queue_retry"),this.Ec=function(){var e=vw();e&&Eg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=vw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=vw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pi.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!bv(t=n.sent()))throw t;return Eg("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Sg("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Jw.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Ig()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Pi.b)(this,void 0,void 0,function(){var t;return Object(Pi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function HE(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new hv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var qE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new UE,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Pi.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||KE(this),this._firestoreClient.terminate()},e}(RE);function zE(t){return t._firestoreClient||KE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KE(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new mE(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new iE(t._credentials,t._queue,r)}function WE(t,e,n){var r=this,i=new hv;return t.asyncQueue.enqueue(function(){return Object(Pi.b)(r,void 0,void 0,function(){var r;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,sE(t,n)];case 1:return s.sent(),[4,oE(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vg.FAILED_PRECONDITION||t.code===vg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function GE(t){if(t._initialized||t._terminated)throw new _g(vg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $E=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _g(vg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qg(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),QE=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Kg.fromBase64String(e))}catch(e){throw new _g(vg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Kg.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),YE=function(t){this._methodName=t},XE=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _g(vg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _g(vg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Dg(this._lat,t._lat)||Dg(this._long,t._long)},t}(),ZE=/^__.*__$/,JE=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Tb(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ib(t,this.data,e,this.fieldTransforms)},t}(),tS=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Tb(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function eS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ig()}}var nS=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return CS(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(eS(this.Dc)&&ZE.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),rS=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||_w(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new nS({Dc:t,methodName:e,Lc:n,path:qg.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function iS(t){var e=t._freezeSettings(),n=_w(t._databaseId);return new rS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sS(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);yS("Data must be an object, but it was:",o,r);var a,c,l=mS(r,o);if(s.merge)a=new zg(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var u=[],h=0,d=s.mergeFields;h<d.length;h++){var f=vS(e,d[h],n);if(!o.contains(f))throw new _g(vg.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");ES(u,f)||u.push(f)}a=new zg(u),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new JE(new mm(l),a,c)}var oS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(YE);function aS(t,e,n){return new nS({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var cS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){return new bb(t.path,new lb)},e.prototype.isEqual=function(t){return t instanceof e},e}(YE),lS=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=aS(this,t,!0),n=this.qc.map(function(t){return gS(t,e)}),r=new ub(n);return new bb(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(YE),uS=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=aS(this,t,!0),n=this.qc.map(function(t){return gS(t,e)}),r=new db(n);return new bb(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(YE),hS=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Pi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new pb(t.R,ib(t.R,this.Uc));return new bb(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(YE);function dS(t,e,n,r){var i=t.Bc(1,e,n);yS("Data must be an object, but it was:",i,r);var s=[],o=mm.empty();Mg(r,function(t,r){var a=wS(e,t,n);r=Object(ph.g)(r);var c=i.kc(a);if(r instanceof oS)s.push(a);else{var l=gS(r,c);null!=l&&(s.push(a),o.set(a,l))}});var a=new zg(s);return new tS(o,a,i.fieldTransforms)}function fS(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[vS(e,r,n)],c=[i];if(s.length%2!=0)throw new _g(vg.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(vS(e,s[l])),c.push(s[l+1]);for(var u=[],h=mm.empty(),d=a.length-1;d>=0;--d)if(!ES(u,a[d])){var f=a[d],p=c[d];p=Object(ph.g)(p);var g=o.kc(f);if(p instanceof oS)u.push(f);else{var m=gS(p,g);null!=m&&(u.push(f),h.set(f,m))}}var b=new zg(u);return new tS(h,b,o.fieldTransforms)}function pS(t,e,n,r){return void 0===r&&(r=!1),gS(n,t.Bc(r?4:3,e))}function gS(t,e){if(bS(t=Object(ph.g)(t)))return yS("Unsupported field value:",e,t),mS(t,e);if(t instanceof YE)return function(t,e){if(!eS(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=gS(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(ph.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ib(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ng.fromDate(t);return{timestampValue:dy(e.R,n)}}if(t instanceof Ng)return n=new Ng(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:dy(e.R,n)};if(t instanceof XE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof QE)return{bytesValue:fy(e.R,t._byteString)};if(t instanceof jE){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:my(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+kE(t))}(t,e)}function mS(t,e){var n={};return Bg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mg(t,function(t,r){var i=gS(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function bS(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ng||t instanceof XE||t instanceof QE||t instanceof jE||t instanceof YE)}function yS(t,e,n){if(!bS(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=kE(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function vS(t,e,n){if((e=Object(ph.g)(e))instanceof $E)return e._internalPath;if("string"==typeof e)return wS(t,e);throw CS("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _S=new RegExp("[~\\*/\\[\\]]");function wS(t,e,n){if(e.search(_S)>=0)throw CS("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new($E.bind.apply($E,Object(Pi.f)([void 0],e.split(".")))))._internalPath}catch(r){throw CS("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function CS(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new _g(vg.INVALID_ARGUMENT,(a+=". ")+t+c)}function ES(t,e){return t.some(function(t){return t.isEqual(e)})}var SS=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new jE(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new xS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(OS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),xS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(SS);function OS(t,e){return"string"==typeof e?wS(t,e):e instanceof $E?e._internalPath:e._delegate._internalPath}var IS=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),TS=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Pi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new kS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(OS("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(SS),kS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(TS),AS=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new IS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new kS(n._firestore,n._userDataWriter,r.key,r,new IS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _g(vg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new kS(t._firestore,t._userDataWriter,e.doc.key,e.doc,new IS(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new kS(t._firestore,t._userDataWriter,e.doc.key,e.doc,new IS(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:PS(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function PS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ig()}}function DS(t,e){return t instanceof TS&&e instanceof TS?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof AS&&e instanceof AS&&t._firestore===e._firestore&&VE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function RS(t){if(qm(t)&&0===t.explicitOrderBy.length)throw new _g(vg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jS=function(){};function NS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var FS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=iS(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new _g(vg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){qS(o,s);for(var c=[],l=0,u=o;l<u.length;l++)c.push(HS(r,t,u[l]));a={arrayValue:{values:c}}}else a=HS(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||qS(o,s),a=pS(n,"where",o,"in"===s||"not-in"===s);var h=Sm.create(i,s,a);return function(t,e){if(e.g()){var n=Km(t);if(null!==n&&!n.isEqual(e.field))throw new _g(vg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=zm(t);null!==r&&zS(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new _g(vg.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new NE(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(jS),LS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _g(vg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _g(vg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Nm(e,n);return function(t,e){if(null===zm(t)){var n=Km(t);null!==n&&zS(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new NE(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Bm(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(jS),MS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){return new NE(t.firestore,t._converter,Qm(t._query,this.Gc,this.zc))},e}(jS),BS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=US(t,this.type,this.Hc,this.Jc);return new NE(t.firestore,t._converter,function(t,e){return new Bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(jS),VS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Pi.c)(e,t),e.prototype._apply=function(t){var e=US(t,this.type,this.Hc,this.Jc);return new NE(t.firestore,t._converter,function(t,e){return new Bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(jS);function US(t,e,n,r){if(n[0]=Object(ph.g)(n[0]),n[0]instanceof SS)return function(t,e,n,r,i){if(!r)throw new _g(vg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Gm(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(um(e,r.key));else{var l=r.data.field(c.field);if(Yg(l))throw new _g(vg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new _g(vg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}s.push(l)}}return new Rm(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=iS(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new _g(vg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new _g(vg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Wm(t)&&-1!==l.indexOf("/"))throw new _g(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(Ug.fromString(l));if(!nm.isDocumentKey(u))throw new _g(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var h=new nm(u);a.push(um(e,h))}else{var d=pS(n,r,l);a.push(d)}}return new Rm(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function HS(t,e,n){if("string"==typeof(n=Object(ph.g)(n))){if(""===n)throw new _g(vg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wm(e)&&-1!==n.indexOf("/"))throw new _g(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ug.fromString(n));if(!nm.isDocumentKey(r))throw new _g(vg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return um(t,new nm(r))}if(n instanceof jE)return um(t,n._key);throw new _g(vg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kE(n)+".")}function qS(t,e){if(!Array.isArray(t)||0===t.length)throw new _g(vg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _g(vg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zS(t,e,n){if(!n.isEqual(e))throw new _g(vg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var KS=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),rm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $g(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ig()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Mg(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new XE($g(t.latitude),$g(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Xg(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Zg(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Gg(t);return new Ng(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ug.fromString(t);Tg(Uy(n));var r=new bE(n.get(1),n.get(3)),i=new nm(n.popFirst(5));return r.isEqual(e)||Sg("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function WS(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var GS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pi.c)(e,t),e.prototype.convertBytes=function(t){return new QE(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new jE(this.firestore,null,e)},e}(KS),$S=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=iS(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=QS(t,this._firestore),i=WS(r._converter,e,n),s=sS(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,vb.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=QS(t,this._firestore);return s="string"==typeof(e=Object(ph.g)(e))||e instanceof $E?fS(this._dataReader,"WriteBatch.update",o._key,e,n,r):dS(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,vb.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=QS(t,this._firestore);return this._mutations=this._mutations.concat(new jb(e._key,vb.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new _g(vg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function QS(t,e){if((t=Object(ph.g)(t)).firestore!==e)throw new _g(vg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var YS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pi.c)(e,t),e.prototype.convertBytes=function(t){return new QE(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new jE(this.firestore,null,e)},e}(KS);function XS(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=AE(t,jE);var s=AE(t.firestore,qE),o=iS(s);return JS(s,[("string"==typeof(e=Object(ph.g)(e))||e instanceof $E?fS(o,"updateDoc",t._key,e,n,r):dS(o,"updateDoc",t._key,e)).toMutation(t._key,vb.exists(!0))])}function ZS(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(ph.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||HE(i[a])||(o=i[a],a++);var c,l,u,h={includeMetadataChanges:o.includeMetadataChanges};if(HE(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof jE)l=AE(t.firestore,qE),u=Um(t._key.path),c={next:function(e){i[a]&&i[a](tx(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=AE(t,NE);l=AE(f.firestore,qE),u=f._query;var p=new YS(l);c={next:function(t){i[a]&&i[a](new AS(l,p,f,t))},error:i[a+1],complete:i[a+2]},RS(t._query)}return function(t,e,n,r){var i=this,s=new eE(r),o=new hC(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(i,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=oC,[4,fE(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(i,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=aC,[4,fE(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(zE(l),u,h,c)}function JS(t,e){return function(t,e){var n=this,r=new hv;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return n=EC,[4,dE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(zE(t),e)}function tx(t,e,n){var r=n.docs.get(e._key),i=new YS(t);return new TS(t,i,e._key,r,new IS(n.hasPendingWrites,n.fromCache),e._converter)}var ex=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Pi.c)(e,t),e.prototype.get=function(e){var n=this,r=QS(e,this._firestore),i=new YS(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new TS(n._firestore,i,r._key,t._document,new IS(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=iS(t)}return t.prototype.get=function(t){var e=this,n=QS(t,this._firestore),r=new GS(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ig();var i=t[0];if(i.isFoundDocument())return new SS(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new SS(e._firestore,r,n._key,null,n._converter);throw Ig()})},t.prototype.set=function(t,e,n){var r=QS(t,this._firestore),i=WS(r._converter,e,n),s=sS(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=QS(t,this._firestore);return s="string"==typeof(e=Object(ph.g)(e))||e instanceof $E?fS(this._dataReader,"Transaction.update",o._key,e,n,r):dS(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=QS(t,this._firestore);return this._transaction.delete(e._key),this},t}());function nx(){if("undefined"==typeof Uint8Array)throw new _g(vg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rx(){if("undefined"==typeof atob)throw new _g(vg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ix=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return rx(),new t(QE.fromBase64String(e))},t.fromUint8Array=function(e){return nx(),new t(QE.fromUint8Array(e))},t.prototype.toBase64=function(){return rx(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return nx(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),sx=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){GE(t=AE(t,qE));var n=zE(t),r=t._freezeSettings(),i=new tE;return WE(n,i,new ZC(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){GE(t=AE(t,qE));var e=zE(t),n=t._freezeSettings(),r=new tE;return WE(e,r,new JC(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new _g(vg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new hv;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Pi.b)(this,void 0,void 0,function(){return Object(Pi.d)(this,function(e){switch(e.label){case 0:return pv.yt()?[4,pv.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(x_(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),ox=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof bE||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=AE(t,RE))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&xg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return[4,lE(t)];case 1:return e=r.sent(),[4,hE(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=kg(t);return e.$r.delete(0),Tw(e)}(n))]}})})})}(zE(AE(this._delegate,qE)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e,n;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return[4,lE(t)];case 1:return e=r.sent(),[4,hE(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Pi.b)(this,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return(e=kg(t)).$r.add(0),[4,kw(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(zE(AE(this._delegate,qE)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&OE("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new hv;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(e,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(r){switch(r.label){case 0:return e=kC,[4,dE(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(zE(AE(this._delegate,qE)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new eE(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){kg(t).Gr.add(e),e.next()},[4,fE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var e;return Object(Pi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){kg(t).Gr.delete(e)},[4,fE(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(zE(t=AE(t,qE)),HE(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new _g(vg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _x(this,LE(this._delegate,t))}catch(t){throw dx(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hx(this,ME(this._delegate,t))}catch(t){throw dx(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new bx(this,function(t,e){if(t=AE(t,RE),SE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _g(vg.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new NE(t,null,function(t){return new Bm(Ug.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw dx(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new hv;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return cE(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new rE(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(zE(t),function(n){return e(new ex(t,n))})}(this._delegate,function(n){return t(new cx(e,n))})},t.prototype.batch=function(){var t=this;return zE(this._delegate),new lx(new $S(this._delegate,function(e){return JS(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new _g(vg.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new _g(vg.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ax=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pi.c)(e,t),e.prototype.convertBytes=function(t){return new ix(new QE(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hx.Zc(e,this.firestore,null)},e}(KS),cx=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ax(t)}return t.prototype.get=function(t){var e=this,n=wx(t);return this._delegate.get(n).then(function(t){return new gx(e._firestore,new TS(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=wx(t);return n?(xE("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=wx(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Pi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=wx(t);return this._delegate.delete(e),this},t}(),lx=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=wx(t);return n?(xE("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=wx(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Pi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=wx(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ux=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new kS(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mx(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new ax(e),n),i.set(n,s)),s},t}();ux.eu=new WeakMap;var hx=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ax(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new _g(vg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new jE(n._delegate,r,new nm(e)))},t.Zc=function(e,n,r){return new t(n,new jE(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _x(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _x(this.firestore,LE(this._delegate,t))}catch(t){throw dx(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(ph.g)(t))instanceof jE&&BE(this._delegate,t)},t.prototype.set=function(t,e){e=xE("DocumentReference.set",e);try{return function(t,e,n){t=AE(t,jE);var r=AE(t.firestore,qE),i=WS(t._converter,e,n);return JS(r,[sS(iS(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,vb.none())])}(this._delegate,t,e)}catch(t){throw dx(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?XS(this._delegate,t):XS.apply(void 0,Object(Pi.f)([this._delegate,t,e],n))}catch(t){throw dx(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return JS(AE((t=this._delegate).firestore,qE),[new jb(t._key,vb.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fx(e),i=px(e,function(e){return new gx(t.firestore,new TS(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return ZS(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=AE(t,jE);var e=AE(t.firestore,qE),n=zE(e),r=new YS(e);return function(t,e){var n=this,r=new hv;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i;return Object(Pi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=kg(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new _g(vg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=tC(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,uE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new TS(e,r,t._key,n,new IS(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=AE(t,jE);var e=AE(t.firestore,qE);return pE(zE(e),t._key,{source:"server"}).then(function(n){return tx(e,t,n)})}(this._delegate):function(t){t=AE(t,jE);var e=AE(t.firestore,qE);return pE(zE(e),t._key).then(function(n){return tx(e,t,n)})}(this._delegate)).then(function(t){return new gx(e.firestore,new TS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ux.tu(this.firestore,e):null))},t}();function dx(t,e,n){return t.message=t.message.replace(e,n),t}function fx(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!HE(r))return r}return{}}function px(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=HE(t[0])?t[0]:HE(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gx=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hx(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return DS(this._delegate,t._delegate)},t}(),mx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pi.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(gx),bx=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ax(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,NS(this._delegate,function(t,e,n){var r=e,i=OS("where",t);return new FS(i,r,n)}(e,n,r)))}catch(e){throw dx(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,NS(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=OS("orderBy",t);return new LS(r,n)}(e,n)))}catch(e){throw dx(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,NS(this._delegate,function(t){return PE("limit",t),new MS("limit",t,"F")}(e)))}catch(e){throw dx(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,NS(this._delegate,function(t){return PE("limitToLast",t),new MS("limitToLast",t,"L")}(e)))}catch(e){throw dx(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,NS(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BS("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw dx(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,NS(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BS("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw dx(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,NS(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VS("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw dx(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,NS(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VS("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw dx(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return VE(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=AE(t,NE);var e=AE(t.firestore,qE),n=zE(e),r=new YS(e);return function(t,e){var n=this,r=new hv;return t.asyncQueue.enqueueAndForget(function(){return Object(Pi.b)(n,void 0,void 0,function(){var n;return Object(Pi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pi.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Pi.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,V_(t,e,!0)];case 1:return a=c.sent(),r=new mC(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=tC(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,uE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new AS(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=AE(t,NE);var e=AE(t.firestore,qE),n=zE(e),r=new YS(e);return gE(n,t._query,{source:"server"}).then(function(n){return new AS(e,r,t,n)})}(this._delegate):function(t){t=AE(t,NE);var e=AE(t.firestore,qE),n=zE(e),r=new YS(e);return RS(t._query),gE(n,t._query).then(function(n){return new AS(e,r,t,n)})}(this._delegate)).then(function(t){return new vx(e.firestore,new AS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fx(e),i=px(e,function(e){return new vx(t.firestore,new AS(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return ZS(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?ux.tu(this.firestore,e):null))},t}(),yx=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new mx(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),vx=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new bx(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new mx(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new yx(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new mx(n._firestore,r))})},t.prototype.isEqual=function(t){return DS(this._delegate,t._delegate)},t}(),_x=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Pi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hx(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hx(this.firestore,void 0===t?ME(this._delegate):ME(this._delegate,t))}catch(t){throw dx(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=AE(t.firestore,qE),r=ME(t),i=WS(t._converter,e);return JS(n,[sS(iS(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,vb.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new hx(e.firestore,t)})},e.prototype.isEqual=function(t){return BE(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?ux.tu(this.firestore,t):null))},e}(bx);function wx(t){return AE(t,jE)}var Cx,Ex=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new($E.bind.apply($E,Object(Pi.f)([void 0],t)))}return t.documentId=function(){return new t(qg.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(ph.g)(t))instanceof $E&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Sx=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new cS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new oS("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lS("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uS("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hS("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),xx=n("/6Yf"),Ox={Firestore:ox,GeoPoint:XE,Timestamp:Ng,Blob:ix,Transaction:cx,WriteBatch:lx,DocumentReference:hx,DocumentSnapshot:gx,Query:bx,QueryDocumentSnapshot:mx,QuerySnapshot:vx,CollectionReference:_x,FieldPath:Ex,FieldValue:Sx,setLogLevel:function(t){wg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Ix(t,e){return e?Zt(()=>t,e):Zt(()=>t)}(function(t,e){t.INTERNAL.registerComponent(new xx.a("firestore",function(t){return function(t,e){return new ox(t,new qE(t,e),new sx)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Ox)))})(Cx=fh.a),Cx.registerVersion("@firebase/firestore","2.2.5");var Tx=n("tf+s");const kx=new r.r("angularfire2.auth.use-emulator"),Ax=new r.r("angularfire2.auth.settings"),Px=new r.r("angularfire2.auth.tenant-id"),Dx=new r.r("angularfire2.auth.langugage-code"),Rx=new r.r("angularfire2.auth.use-device-language"),jx=new r.r("angularfire.auth.persistence");let Nx=(()=>{class t{constructor(t,e,r,i,s,o,a,c,l,u){const h=new hh.d(i),d=Object(hh.h)(h),f=new kt.a,p=Object(Tt.a)(void 0).pipe(Object(Bl.b)(h.outsideAngular),Zt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Yt.a)(()=>Object(hh.g)(t,i,e)),Object(Yt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(hh.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),u&&r.setPersistence(u),r},[e,a,c,l,n,u])})),ql({bufferSize:1,refCount:!1}));if(W(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Tt.a)(null);else{p.pipe(Te()).subscribe();const t=p.pipe(Zt(t=>t.getRedirectResult().then(t=>t,()=>null)),d,ql({bufferSize:1,refCount:!1})),e=t=>new Mt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Zt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Zt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ix(n),Object(Tx.a)(h.outsideAngular),Object(Bl.b)(h.insideAngular)),this.user=t.pipe(Ix(r),Object(Tx.a)(h.outsideAngular),Object(Bl.b)(h.insideAngular)),this.idToken=this.user.pipe(Zt(t=>t?Object(It.a)(t.getIdToken()):Object(Tt.a)(null))),this.idTokenResult=this.user.pipe(Zt(t=>t?Object(It.a)(t.getIdTokenResult()):Object(Tt.a)(null))),this.credential=Object(ru.a)(t,f,this.authState.pipe(le(t=>!t))).pipe(Object(Yt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Tx.a)(h.outsideAngular),Object(Bl.b)(h.insideAngular))}return Object(hh.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(hh.c),r.bc(hh.b,8),r.bc(r.C),r.bc(r.A),r.bc(kx,8),r.bc(Ax,8),r.bc(Px,8),r.bc(Dx,8),r.bc(Rx,8),r.bc(jx,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(hh.c),Object(r.bc)(hh.b,8),Object(r.bc)(r.C),Object(r.bc)(r.A),Object(r.bc)(kx,8),Object(r.bc)(Ax,8),Object(r.bc)(Px,8),Object(r.bc)(Dx,8),Object(r.bc)(Rx,8),Object(r.bc)(jx,8))},token:t,providedIn:"any"}),t})();function Fx(t,e){return function(t,e=wa.b){return new Mt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Lx(t,e){return Fx(t,e).pipe(Object(Yt.a)(t=>({payload:t,type:"query"})))}function Mx(t,e){return Lx(t,e).pipe(se(void 0),Nl(),Object(Yt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Bx(t,e,n){return Mx(t,n).pipe(oe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Vx(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Vx(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Vx(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),El(),Object(Yt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Vx(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Ux(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(hh.e)(Nx,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Hx{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Mx(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(se(void 0),Nl(),le(([t,e])=>e.length>0||!t),Object(Yt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(oe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ux(t);return Bx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Lx(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Bl.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new qx(this.ref.doc(t),this.afs)}}class qx{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Qx(n,e);return new Hx(r,i,this.afs)}snapshotChanges(){return Fx(this.ref,this.afs.schedulers.outsideAngular).pipe(se(void 0),Nl(),Object(Yt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Yt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(It.a)(this.ref.get(t)).pipe(Object(Bl.b)(this.afs.schedulers.insideAngular))}}class zx{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Mx(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),le(t=>t.length>0),this.afs.keepUnstableUntilFirst):Mx(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(oe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Ux(t);return Bx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Lx(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Bl.b)(this.afs.schedulers.insideAngular))}}const Kx=new r.r("angularfire2.enableFirestorePersistence"),Wx=new r.r("angularfire2.firestore.persistenceSettings"),Gx=new r.r("angularfire2.firestore.settings"),$x=new r.r("angularfire2.firestore.use-emulator");function Qx(t,e=(t=>t)){return{query:e(t),ref:t}}let Yx=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new hh.d(s),this.keepUnstableUntilFirst=Object(hh.h)(this.schedulers);const l=Object(hh.g)(t,s,e);!dh.a.auth&&c&&Object(hh.j)();const u=a;[this.firestore,this.persistenceEnabled$]=Object(hh.f)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),u&&t.useEmulator(...u),n&&!W(i)){const e=()=>{try{return Object(It.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Cx){return"undefined"!=typeof console&&console.warn(Cx),Object(Tt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Tt.a)(!1)]},[r,u,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Qx(n,e),s=this.schedulers.ngZone.run(()=>r);return new Hx(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new zx(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new qx(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.bc(hh.c),r.bc(hh.b,8),r.bc(Kx,8),r.bc(Gx,8),r.bc(r.C),r.bc(r.A),r.bc(Wx,8),r.bc($x,8),r.bc(kx,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(hh.c),Object(r.bc)(hh.b,8),Object(r.bc)(Kx,8),Object(r.bc)(Gx,8),Object(r.bc)(r.C),Object(r.bc)(r.A),Object(r.bc)(Wx,8),Object(r.bc)($x,8),Object(r.bc)(kx,8))},token:t,providedIn:"any"}),t})(),Xx=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Kx,useValue:!0},{provide:Wx,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Yx]}),t})(),Zx=(()=>{class t{constructor(t){this.firestore=t,this.openingsCollection=this.firestore.collection("openings"),this.openings=this.openingsCollection.snapshotChanges().pipe(Object(Yt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}addOpening(t){return this.firestore.collection("openings").add(t)}getOpenings(){return this.openings}getOpeningById(t){return this.firestore.collection("openings").doc(t).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Yx))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Jx=["underline"],tO=["connectionContainer"],eO=["inputContainer"],nO=["label"];function rO(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",14),r.Qb(2,"div",15),r.Qb(3,"div",16),r.Qb(4,"div",17),r.Tb(),r.Ub(5,"div",18),r.Qb(6,"div",15),r.Qb(7,"div",16),r.Qb(8,"div",17),r.Tb(),r.Rb())}function iO(t,e){1&t&&(r.Ub(0,"div",19),r.lc(1,1),r.Tb())}function sO(t,e){if(1&t&&(r.Sb(0),r.lc(1,2),r.Ub(2,"span"),r.Gc(3),r.Tb(),r.Rb()),2&t){const t=r.ic(2);r.Cb(3),r.Hc(t._control.placeholder)}}function oO(t,e){1&t&&r.lc(0,3,["*ngSwitchCase","true"])}function aO(t,e){1&t&&(r.Ub(0,"span",23),r.Gc(1," *"),r.Tb())}function cO(t,e){if(1&t){const t=r.Vb();r.Ub(0,"label",20,21),r.ec("cdkObserveContent",function(){return r.xc(t),r.ic().updateOutlineGap()}),r.Ec(2,sO,4,1,"ng-container",12),r.Ec(3,oO,1,0,"ng-content",12),r.Ec(4,aO,2,0,"span",22),r.Tb()}if(2&t){const t=r.ic();r.Hb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.nc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Db("for",t._control.id)("aria-owns",t._control.id),r.Cb(2),r.nc("ngSwitchCase",!1),r.Cb(1),r.nc("ngSwitchCase",!0),r.Cb(1),r.nc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function lO(t,e){1&t&&(r.Ub(0,"div",24),r.lc(1,4),r.Tb())}function uO(t,e){if(1&t&&(r.Ub(0,"div",25,26),r.Qb(2,"span",27),r.Tb()),2&t){const t=r.ic();r.Cb(2),r.Hb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function hO(t,e){if(1&t&&(r.Ub(0,"div"),r.lc(1,5),r.Tb()),2&t){const t=r.ic();r.nc("@transitionMessages",t._subscriptAnimationState)}}function dO(t,e){if(1&t&&(r.Ub(0,"div",31),r.Gc(1),r.Tb()),2&t){const t=r.ic(2);r.nc("id",t._hintLabelId),r.Cb(1),r.Hc(t.hintLabel)}}function fO(t,e){if(1&t&&(r.Ub(0,"div",28),r.Ec(1,dO,2,2,"div",29),r.lc(2,6),r.Qb(3,"div",30),r.lc(4,7),r.Tb()),2&t){const t=r.ic();r.nc("@transitionMessages",t._subscriptAnimationState),r.Cb(1),r.nc("ngIf",t.hintLabel)}}const pO=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],gO=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],mO=new r.r("MatError"),bO={transitionMessages:Ni("transitionMessages",[Bi("enter",Mi({opacity:1,transform:"translateY(0%)"})),Vi("void => enter",[Mi({opacity:0,transform:"translateY(-5px)"}),Fi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t}),t})();const vO=new r.r("MatHint");let _O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-label"]]}),t})(),wO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-placeholder"]]}),t})();const CO=new r.r("MatPrefix"),EO=new r.r("MatSuffix");let SO=0;class xO{constructor(t){this._elementRef=t}}const OO=kc(xO,"primary"),IO=new r.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),TO=new r.r("MatFormField");let kO=(()=>{class t extends OO{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new kt.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+SO++,this._labelId="mat-form-field-label-"+SO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Oa(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(se(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Dl(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Dl(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(ru.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(se(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(se(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Dl(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ml(this._label.nativeElement,"transitionend").pipe(ne(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(r.l),r.Pb(mc,8),r.Pb(IO,8),r.Pb(Ra),r.Pb(r.A),r.Pb(ba,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,yO,1),r.Ib(n,yO,3),r.Ib(n,_O,1),r.Ib(n,_O,3),r.Ib(n,wO,1),r.Ib(n,mO,1),r.Ib(n,vO,1),r.Ib(n,CO,1),r.Ib(n,EO,1)),2&t){let t;r.uc(t=r.fc())&&(e._controlNonStatic=t.first),r.uc(t=r.fc())&&(e._controlStatic=t.first),r.uc(t=r.fc())&&(e._labelChildNonStatic=t.first),r.uc(t=r.fc())&&(e._labelChildStatic=t.first),r.uc(t=r.fc())&&(e._placeholderChild=t.first),r.uc(t=r.fc())&&(e._errorChildren=t),r.uc(t=r.fc())&&(e._hintChildren=t),r.uc(t=r.fc())&&(e._prefixChildren=t),r.uc(t=r.fc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Kc(Jx,1),r.Kc(tO,3),r.Kc(eO,1),r.Kc(nO,1)),2&t){let t;r.uc(t=r.fc())&&(e.underlineRef=t.first),r.uc(t=r.fc())&&(e._connectionContainerRef=t.first),r.uc(t=r.fc())&&(e._inputContainerRef=t.first),r.uc(t=r.fc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.Hb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Bb([{provide:TO,useExisting:t}]),r.zb],ngContentSelectors:gO,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.mc(pO),r.Ub(0,"div",0),r.Ub(1,"div",1,2),r.ec("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.Ec(3,rO,9,0,"ng-container",3),r.Ec(4,iO,2,0,"div",4),r.Ub(5,"div",5,6),r.lc(7),r.Ub(8,"span",7),r.Ec(9,cO,5,16,"label",8),r.Tb(),r.Tb(),r.Ec(10,lO,2,0,"div",9),r.Tb(),r.Ec(11,uO,3,4,"div",10),r.Ub(12,"div",11),r.Ec(13,hO,2,1,"div",12),r.Ec(14,fO,5,2,"div",13),r.Tb(),r.Tb()),2&t&&(r.Cb(3),r.nc("ngIf","outline"==e.appearance),r.Cb(1),r.nc("ngIf",e._prefixChildren.length),r.Cb(5),r.nc("ngIf",e._hasFloatingLabel()),r.Cb(1),r.nc("ngIf",e._suffixChildren.length),r.Cb(1),r.nc("ngIf","outline"!=e.appearance),r.Cb(1),r.nc("ngSwitch",e._getDisplayedMessages()),r.Cb(1),r.nc("ngSwitchCase","error"),r.Cb(1),r.nc("ngSwitchCase","hint"))},directives:[D,F,L,Ka],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[bO.transitionMessages]},changeDetection:0}),t})(),AO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K,Ic,Wa],Ic]}),t})();var PO=n("XoHu");function DO(...t){if(1===t.length){const e=t[0];if(Object(Rt.a)(e))return RO(e,null);if(Object(PO.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return RO(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return RO(t=1===t.length&&Object(Rt.a)(t[0])?t[0]:t,null).pipe(Object(Yt.a)(t=>e(...t)))}return RO(t,null)}function RO(t,e){return new Mt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(It.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const jO=new r.r("NgValueAccessor"),NO={provide:jO,useExisting:Object(r.V)(()=>LO),multi:!0},FO=new r.r("CompositionEventMode");let LO=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.F),r.Pb(r.l),r.Pb(FO,8))},t.\u0275dir=r.Kb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ec("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([NO])]}),t})();const MO=new r.r("NgValidators"),BO=new r.r("NgAsyncValidators");function VO(t){return null!=t}function UO(t){const e=Object(r.tb)(t)?Object(It.a)(t):t;return Object(r.sb)(e),e}function HO(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function qO(t,e){return e.map(e=>e(t))}function zO(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function KO(t){return null!=t?function(t){if(!t)return null;const e=t.filter(VO);return 0==e.length?null:function(t){return HO(qO(t,e))}}(zO(t)):null}function WO(t){return null!=t?function(t){if(!t)return null;const e=t.filter(VO);return 0==e.length?null:function(t){return DO(qO(t,e).map(UO)).pipe(Object(Yt.a)(HO))}}(zO(t)):null}function GO(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $O(t){return t._rawValidators}function QO(t){return t._rawAsyncValidators}let YO=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=WO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t}),t})(),XO=(()=>{class t extends YO{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ZO(e||t)},t.\u0275dir=r.Kb({type:t,features:[r.zb]}),t})();const ZO=r.Wb(XO);class JO extends YO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let tI=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(JO,2))},t.\u0275dir=r.Kb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Hb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function eI(t,e){iI(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oI(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oI(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function nI(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sI(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function rI(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function iI(t,e,n){const r=$O(t);null!==e.validator?t.setValidators(GO(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=QO(t);if(null!==e.asyncValidator?t.setAsyncValidators(GO(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();rI(e._rawValidators,n),rI(e._rawAsyncValidators,n)}}function sI(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=$O(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=QO(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};rI(e._rawValidators,t),rI(e._rawAsyncValidators,t)}return r}function oI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aI(t,e){iI(t,e,!1)}function cI(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function lI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const uI="VALID",hI="INVALID",dI="PENDING",fI="DISABLED";function pI(t){return(yI(t)?t.validators:t)||null}function gI(t){return Array.isArray(t)?KO(t):t||null}function mI(t,e){return(yI(e)?e.asyncValidators:t)||null}function bI(t){return Array.isArray(t)?WO(t):t||null}function yI(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class vI{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=gI(this._rawValidators),this._composedAsyncValidatorFn=bI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===uI}get invalid(){return this.status===hI}get pending(){return this.status==dI}get disabled(){return this.status===fI}get enabled(){return this.status!==fI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gI(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bI(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=dI,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fI,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=uI,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==uI&&this.status!==dI||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fI:uI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=dI,this._hasOwnPendingAsyncValidator=!0;const e=UO(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof wI?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof CI&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?fI:this.errors?hI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dI)?dI:this._anyControlsHaveStatus(hI)?hI:uI}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _I extends vI{constructor(t=null,e,n){super(pI(e),mI(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class wI extends vI{constructor(t,e,n){super(pI(e),mI(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof _I?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class CI extends vI{constructor(t,e,n){super(pI(e),mI(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof _I?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const EI={provide:XO,useExisting:Object(r.V)(()=>xI)},SI=(()=>Promise.resolve(null))();let xI=(()=>{class t extends XO{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new wI({},KO(t),WO(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){SI.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),eI(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){SI.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),lI(this._directives,t)})}addFormGroup(t){SI.then(()=>{const e=this._findContainer(t.path),n=new wI({});aI(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){SI.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){SI.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,cI(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(MO,10),r.Pb(BO,10))},t.\u0275dir=r.Kb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ec("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([EI]),r.zb]}),t})();const OI={provide:JO,useExisting:Object(r.V)(()=>TI)},II=(()=>Promise.resolve(null))();let TI=(()=>{class t extends JO{constructor(t,e,n,i){super(),this.control=new _I,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===LO?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eI(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){II.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;II.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(XO,9),r.Pb(MO,10),r.Pb(BO,10),r.Pb(jO,10))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([OI]),r.zb,r.Ab]}),t})(),kI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const AI={provide:XO,useExisting:Object(r.V)(()=>PI)};let PI=(()=>{class t extends XO{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sI(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return eI(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){nI(t.control||null,t,!1),lI(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,cI(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(nI(e||null,t),n instanceof _I&&(eI(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);aI(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return sI(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iI(this.form,this,!1),this._oldForm&&sI(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(MO,10),r.Pb(BO,10))},t.\u0275dir=r.Kb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ec("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([AI]),r.zb,r.Ab]}),t})(),DI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[kI]]}),t})(),RI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[DI]}),t})();const jI=["trigger"],NI=["panel"];function FI(t,e){if(1&t&&(r.Ub(0,"span",8),r.Gc(1),r.Tb()),2&t){const t=r.ic();r.Cb(1),r.Hc(t.placeholder)}}function LI(t,e){if(1&t&&(r.Ub(0,"span",12),r.Gc(1),r.Tb()),2&t){const t=r.ic(2);r.Cb(1),r.Hc(t.triggerValue)}}function MI(t,e){1&t&&r.lc(0,0,["*ngSwitchCase","true"])}function BI(t,e){if(1&t&&(r.Ub(0,"span",9),r.Ec(1,LI,2,1,"span",10),r.Ec(2,MI,1,0,"ng-content",11),r.Tb()),2&t){const t=r.ic();r.nc("ngSwitch",!!t.customTrigger),r.Cb(2),r.nc("ngSwitchCase",!0)}}function VI(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",13),r.Ub(1,"div",14,15),r.ec("@transformPanel.done",function(e){return r.xc(t),r.ic()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.xc(t),r.ic()._handleKeydown(e)}),r.lc(3,1),r.Tb(),r.Tb()}if(2&t){const t=r.ic();r.nc("@transformPanelWrap",void 0),r.Cb(1),r.Fb("mat-select-panel ",t._getPanelTheme(),""),r.Bc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.nc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Db("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const UI=[[["mat-select-trigger"]],"*"],HI=["mat-select-trigger","*"],qI={transformPanelWrap:Ni("transformPanelWrap",[Vi("* => void",Hi("@transformPanel",[Ui()],{optional:!0}))]),transformPanel:Ni("transformPanel",[Bi("void",Mi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Bi("showing",Mi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Bi("showing-multiple",Mi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Vi("void => *",Fi("120ms cubic-bezier(0, 0, 0.2, 1)")),Vi("* => void",Fi("100ms 25ms linear",Mi({opacity:0})))])};let zI=0;const KI=256,WI=new r.r("mat-select-scroll-strategy"),GI=new r.r("MAT_SELECT_CONFIG"),$I={provide:WI,deps:[ju],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class QI{constructor(t,e){this.source=t,this.value=e}}class YI{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const XI=Ac(Pc(Tc(Dc(YI)))),ZI=new r.r("MatSelectTrigger");let JI=(()=>{class t extends XI{constructor(t,e,n,i,s,o,a,c,l,u,h,d,f,p){var g,m,b;super(s,i,a,c,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+zI++,this._triggerAriaLabelledBy=null,this._destroy=new kt.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+zI++,this._panelDoneAnimatingStream=new kt.a,this._overlayPanelClass=(null===(g=this._defaultOptions)||void 0===g?void 0:g.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(b=null===(m=this._defaultOptions)||void 0===m?void 0:m.disableOptionCentering)&&void 0!==b&&b,this.ariaLabel="",this.optionSelectionChanges=$t(()=>{const t=this.options;return t?t.changes.pipe(se(t),Zt(()=>Object(ru.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(ne(1),Zt(()=>this.optionSelectionChanges))}),this.openedChange=new r.n,this._openedStream=this.openedChange.pipe(le(t=>t),Object(Yt.a)(()=>{})),this._closedStream=this.openedChange.pipe(le(t=>!t),Object(Yt.a)(()=>{})),this.selectionChange=new r.n,this.valueChange=new r.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Oa(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Oa(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Oa(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Ia(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new zl(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(El(),Dl(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Dl(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(se(null),Dl(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!_a(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||_a(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(ne(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new $a(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Dl(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Dl(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(ru.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Dl(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(ru.a)(...this.options.map(t=>t._stateChanges)).pipe(Dl(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Wl),r.Pb(r.h),r.Pb(r.A),r.Pb(Rc),r.Pb(r.l),r.Pb(mc,8),r.Pb(xI,8),r.Pb(PI,8),r.Pb(TO,8),r.Pb(JO,10),r.cc("tabindex"),r.Pb(WI),r.Pb(rc),r.Pb(GI,8))},t.\u0275dir=r.Kb({type:t,viewQuery:function(t,e){if(1&t&&(r.Kc(jI,1),r.Kc(NI,1),r.Kc(Mu,1)),2&t){let t;r.uc(t=r.fc())&&(e.trigger=t.first),r.uc(t=r.fc())&&(e.panel=t.first),r.uc(t=r.fc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.zb,r.Ab]}),t})(),tT=(()=>{class t extends JI{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Dl(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(ne(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=rl(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new QI(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(KI/r);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-KI)%r):e-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,KI)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,KI),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=rl(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return eT(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,ZI,1),r.Ib(n,nl,1),r.Ib(n,Yc,1)),2&t){let t;r.uc(t=r.fc())&&(e.customTrigger=t.first),r.uc(t=r.fc())&&(e.options=t),r.uc(t=r.fc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.ec("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Db("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Hb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r.Bb([{provide:yO,useExisting:t},{provide:Kc,useExisting:t}]),r.zb],ngContentSelectors:HI,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.mc(UI),r.Ub(0,"div",0,1),r.ec("click",function(){return e.toggle()}),r.Ub(3,"div",2),r.Ec(4,FI,2,1,"span",3),r.Ec(5,BI,3,2,"span",4),r.Tb(),r.Ub(6,"div",5),r.Qb(7,"div",6),r.Tb(),r.Tb(),r.Ec(8,VI,4,14,"ng-template",7),r.ec("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.vc(1);r.Db("aria-owns",e.panelOpen?e.id+"-panel":null),r.Cb(3),r.nc("ngSwitch",e.empty),r.Db("id",e._valueId),r.Cb(1),r.nc("ngSwitchCase",!0),r.Cb(1),r.nc("ngSwitchCase",!1),r.Cb(3),r.nc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Lu,F,L,Mu,M,T],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[qI.transformPanelWrap,qI.transformPanel]},changeDetection:0}),t})();const eT=r.Wb(tT);let nT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[$I],imports:[[K,Vu,il,Ic],Gl,AO,il,Ic]}),t})();function rT(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"mat-optgroup",4),r.Ub(2,"mat-option",5),r.Gc(3),r.Tb(),r.Tb(),r.Rb()),2&t){const t=e.$implicit;r.Cb(1),r.oc("label",t.type),r.Cb(1),r.oc("value",t.id),r.Cb(1),r.Hc(t.name)}}function iT(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"mat-label"),r.Gc(2,"Name: "),r.Tb(),r.Ub(3,"span"),r.Gc(4),r.Tb(),r.Qb(5,"br"),r.Ub(6,"mat-label"),r.Gc(7,"Origin: "),r.Tb(),r.Ub(8,"span"),r.Gc(9),r.Tb(),r.Qb(10,"br"),r.Ub(11,"mat-label"),r.Gc(12,"Called: "),r.Tb(),r.Ub(13,"span"),r.Gc(14),r.Tb(),r.Qb(15,"br"),r.Ub(16,"mat-label"),r.Gc(17,"Type: "),r.Tb(),r.Ub(18,"span"),r.Gc(19),r.Tb(),r.Qb(20,"br"),r.Ub(21,"mat-label"),r.Gc(22,"Movements: "),r.Tb(),r.Ub(23,"span"),r.Gc(24),r.Tb(),r.Qb(25,"br"),r.Ub(26,"mat-label"),r.Gc(27,"FEN: "),r.Qb(28,"br"),r.Tb(),r.Ub(29,"span"),r.Gc(30),r.Tb(),r.Rb()),2&t){const t=r.ic();r.Cb(4),r.Hc(t.selected.name),r.Cb(5),r.Hc(t.selected.origin),r.Cb(5),r.Hc(t.selected.called),r.Cb(5),r.Hc(t.selected.type),r.Cb(5),r.Hc(t.selected.movements),r.Cb(6),r.Hc(t.selected.FEN)}}let sT=(()=>{class t{constructor(t,e){this.firebase=t,this.boardService=e}ngOnInit(){this.openings=this.firebase.getOpenings(),console.log(this.openings),this.selected={FEN:"",called:"",movements:"",name:"",origin:"",type:""}}delay(t){return new Promise(e=>setTimeout(e,t))}changeSelectedInfo(t){return Object(Pi.b)(this,void 0,void 0,function*(){this.selected={FEN:"",called:"",movements:"",name:"",origin:"",type:""},yield this.firebase.getOpeningById(t).subscribe(t=>{this.selected=t}),yield this.delay(100),this.boardService.setFEN(this.selected.FEN)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Zx),r.Pb(Di))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-openings"]],decls:14,vars:4,consts:[["appearance","fill"],[3,"selectionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"label"],[3,"value"]],template:function(t,e){1&t&&(r.Ub(0,"h1"),r.Gc(1,"OPENINGS"),r.Tb(),r.Qb(2,"hr"),r.Ub(3,"mat-form-field",0),r.Ub(4,"mat-label"),r.Gc(5,"Choose one"),r.Tb(),r.Ub(6,"mat-select",1),r.ec("selectionChange",function(t){return e.changeSelectedInfo(t.value)}),r.Ec(7,rT,4,3,"ng-container",2),r.jc(8,"async"),r.Tb(),r.Tb(),r.Ub(9,"div"),r.Ub(10,"mat-label"),r.Gc(11,"Information"),r.Tb(),r.Qb(12,"br"),r.Ec(13,iT,31,6,"ng-container",3),r.Tb()),2&t&&(r.Cb(7),r.nc("ngForOf",r.kc(8,2,e.openings)),r.Cb(6),r.nc("ngIf",e.selected.name))},directives:[kO,_O,tT,A,D,Xc,nl],pipes:[z],styles:[".example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}"]}),t})();const oT=Va({passive:!0});let aT=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Gt.a;const e=Aa(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new kt.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,oT),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,oT)}}),r}stopMonitoring(t){const e=Aa(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Ra),r.bc(r.A))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(Ra),Object(r.bc)(r.A))},token:t,providedIn:"root"}),t})(),cT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[ja]]}),t})();const lT=new r.r("MAT_INPUT_VALUE_ACCESSOR"),uT=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hT=0;class dT{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const fT=Dc(dT);let pT=(()=>{class t extends fT{constructor(t,e,n,r,i,s,o,a,c,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+hT++,this.focused=!1,this.stateChanges=new kt.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Fa().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Oa(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Oa(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Fa().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Oa(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){uT.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(Ra),r.Pb(JO,10),r.Pb(xI,8),r.Pb(PI,8),r.Pb(Rc),r.Pb(lT,10),r.Pb(aT),r.Pb(r.A),r.Pb(TO,8))},t.\u0275dir=r.Kb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.ec("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Xb("disabled",e.disabled)("required",e.required),r.Db("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.Hb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Bb([{provide:yO,useExisting:t}]),r.zb,r.Ab]}),t})(),gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Rc],imports:[[cT,AO,Ic],cT,AO]}),t})();const mT="p[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}";let bT=(()=>{class t{constructor(t,e,n){this.dialog=t,this.router=e,this.fireBase=n}ngOnInit(){this.openDialog()}openDialog(){this.dialog.open(yT,{width:"1200px",disableClose:!0,data:{FEN:this.FEN,called:this.called,movements:this.movements,name:this.name,origin:this.origin,type:this.type}}).afterClosed().subscribe(t=>{t&&this.fireBase.addOpening(t),this.router.navigate(["./intro"])})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(eh),r.Pb(ai),r.Pb(Zx))},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},styles:[mT]}),t})(),yT=(()=>{class t{constructor(t,e,n){this.router=t,this.dialogRef=e,this.data=n}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ai),r.Pb($u),r.Pb(Yu))},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:40,vars:8,consts:[[1,"container"],["mat-dialog-title",""],["appearance","outline"],["matInput","","placeholder","Sicilian Defense",3,"ngModel","ngModelChange"],["matInput","","placeholder","Giulio Polerio, 1594",3,"ngModel","ngModelChange"],["matInput","","placeholder","Sicilian",3,"ngModel","ngModelChange"],["matInput","","placeholder","Aperturas semiabiertas",3,"ngModel","ngModelChange"],["matInput","","placeholder","pe4 Pc5",3,"ngModel","ngModelChange"],["matInput","","placeholder","rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 0",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-lg","btn-block",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h2",1),r.Ub(2,"strong"),r.Gc(3,"ADD A OPENNING"),r.Tb(),r.Tb(),r.Qb(4,"hr"),r.Ub(5,"mat-dialog-content"),r.Ub(6,"p"),r.Ub(7,"mat-form-field",2),r.Ub(8,"mat-label"),r.Gc(9,"Opennig Name"),r.Tb(),r.Ub(10,"input",3),r.ec("ngModelChange",function(t){return e.data.name=t}),r.Tb(),r.Tb(),r.Tb(),r.Ub(11,"p"),r.Ub(12,"mat-form-field",2),r.Ub(13,"mat-label"),r.Gc(14,"Opennig Origin"),r.Tb(),r.Ub(15,"input",4),r.ec("ngModelChange",function(t){return e.data.origin=t}),r.Tb(),r.Tb(),r.Tb(),r.Ub(16,"p"),r.Ub(17,"mat-form-field",2),r.Ub(18,"mat-label"),r.Gc(19,"Opennig Secondary Name"),r.Tb(),r.Ub(20,"input",5),r.ec("ngModelChange",function(t){return e.data.called=t}),r.Tb(),r.Tb(),r.Tb(),r.Ub(21,"p"),r.Ub(22,"mat-form-field",2),r.Ub(23,"mat-label"),r.Gc(24,"Opennig Type"),r.Tb(),r.Ub(25,"input",6),r.ec("ngModelChange",function(t){return e.data.type=t}),r.Tb(),r.Tb(),r.Tb(),r.Ub(26,"p"),r.Ub(27,"mat-form-field",2),r.Ub(28,"mat-label"),r.Gc(29,"Opennig Movements"),r.Tb(),r.Ub(30,"input",7),r.ec("ngModelChange",function(t){return e.data.movements=t}),r.Tb(),r.Tb(),r.Tb(),r.Ub(31,"p"),r.Ub(32,"mat-form-field",2),r.Ub(33,"mat-label"),r.Gc(34,"Opennig FEN"),r.Tb(),r.Ub(35,"input",8),r.ec("ngModelChange",function(t){return e.data.FEN=t}),r.Tb(),r.Tb(),r.Tb(),r.Ub(36,"button",9),r.Gc(37,"Add"),r.Tb(),r.Ub(38,"button",9),r.Gc(39,"Cancel"),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Cb(10),r.nc("ngModel",e.data.name),r.Cb(5),r.nc("ngModel",e.data.origin),r.Cb(5),r.nc("ngModel",e.data.called),r.Cb(5),r.nc("ngModel",e.data.type),r.Cb(5),r.nc("ngModel",e.data.movements),r.Cb(5),r.nc("ngModel",e.data.FEN),r.Cb(1),r.nc("mat-dialog-close",e.data),r.Cb(2),r.nc("mat-dialog-close",!1))},directives:[ih,sh,kO,_O,pT,LO,tI,TI,rh],styles:[mT]}),t})();const vT=[{path:"Intro",component:lh},{path:"Game",component:pl},{path:"Openings",component:sT},{path:"Add",component:bT},{path:"",pathMatch:"full",redirectTo:"Intro"},{path:"**",redirectTo:"Intro"}];let _T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ci.forRoot(vT)],Ci]}),t})();function wT(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function CT(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ET(t,e){const n=e?"":"none";CT(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function ST(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function xT(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function OT(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function IT(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function TT(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function kT(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function AT(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:c,height:l}=t,u=c*e,h=l*e;return r>i-h&&r<o+h&&n>a-u&&n<s+u}class PT{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:IT(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,c=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&kT(t.clientRect,a,c)}),i.top=s,i.left=o,{top:a,left:c}}}function DT(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?FT(t,e):"input"!==r&&"select"!==r&&"textarea"!==r||NT(t,e),RT("canvas",t,e,FT),RT("input, textarea, select",t,e,NT),e}function RT(t,e,n,r){const i=e.querySelectorAll(t);if(i.length){const e=n.querySelectorAll(t);for(let t=0;t<i.length;t++)r(i[t],e[t])}}let jT=0;function NT(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${jT++}`)}function FT(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(vD){}}const LT=Va({passive:!0}),MT=Va({passive:!1});class BT{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new kt.a,this._pointerMoveSubscription=Pe.a.EMPTY,this._pointerUpSubscription=Pe.a.EMPTY,this._scrollSubscription=Pe.a.EMPTY,this._resizeSubscription=Pe.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new kt.a,this.started=new kt.a,this.released=new kt.a,this.ended=new kt.a,this.entered=new kt.a,this.exited=new kt.a,this.dropped=new kt.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new PT(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Oa(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ET(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Aa(t)),this._handles.forEach(t=>ET(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Aa(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,MT),e.addEventListener("touchstart",this._pointerDown,LT)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Aa(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&HT(this._rootElement),HT(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ET(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ET(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&HT(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&HT(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){qT(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,r=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();n.insertBefore(s,t),ST(t,!1),this._document.body.appendChild(n.replaceChild(i,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,o).appendChild(r),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=qT(e),i=!r&&0!==e.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=IT(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){ST(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,n,this._initialIndex,this._initialContainer,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=VT(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=zT(i,this._document),this._previewRef=i,t.matchSize?KT(r,e):r.style.transform=VT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=DT(t),KT(r,t.getBoundingClientRect())}return CT(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),ET(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=VT(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=OT(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=OT(e,"transition-duration"),o=OT(e,"transition-delay");return xT(s[i])+xT(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=zT(this._placeholderRef,this._document)):n=DT(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=qT(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=qT(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=r,e.y=i,e.matrixTransform(t.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,s=this._previewRect,o=i.top+e,a=i.bottom-(s.height-e);n=UT(n,i.left+t,i.right-(s.width-t)),r=UT(r,o,a)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ET(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,MT),t.removeEventListener("touchstart",this._pointerDown,LT)}_applyRootElementTransform(t,e){const n=VT(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:qT(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&kT(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Ha(this._rootElement)),this._cachedShadowRoot}}function VT(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function UT(t,e,n){return Math.max(e,Math.min(n,t))}function HT(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function qT(t){return"t"===t.type[0]}function zT(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function KT(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=VT(e.left,e.top)}function WT(t,e){return Math.max(0,Math.min(e,t))}class GT{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new kt.a,this.entered=new kt.a,this.exited=new kt.a,this.dropped=new kt.a,this.sorted=new kt.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Pe.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new kt.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=wa.a){return(!Object(Tl.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=wa.a),new Mt.a(n=>(n.add(e.schedule(wT,t,{subscriber:n,counter:0,period:t})),n))}(0,Cl).pipe(Dl(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?QT(t,-e):2===this._verticalScrollDirection&&QT(t,e),1===this._horizontalScrollDirection?YT(t,-e):2===this._horizontalScrollDirection&&YT(t,e)})},this.element=Aa(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new PT(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){let i;this._draggingStarted(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let c=s[i];if(c===t&&(c=s[i+1]),o>-1&&s.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(a,e),s.unshift(t)}else Aa(this.element).appendChild(a),s.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Aa(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?$T("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!AT(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=$T(i,e=>e.drag===t),c=i[s],l=c.clientRect,u=a>s?1:-1,h=this._getItemOffsetPx(i[a].clientRect,l,u),d=this._getSiblingOffsetPx(a,i,u),f=i.slice();!function(t,e,n){const r=WT(e,t.length-1),i=WT(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(f[n]===e)return;const r=e.drag===t,i=r?h:d,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,kT(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,kT(e.clientRect,i,0))}),this._previousSwap.overlaps=TT(l,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&AT(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=XT(e,r),s=ZT(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=XT(a,e),i=ZT(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Aa(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Aa(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:IT(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Aa(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation,s=$T(this._itemPositions,({drag:s,clientRect:o},a,c)=>{if(s===t)return c.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)});return-1!==s&&this.sortPredicate(s,t,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&TT(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!TT(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=Aa(this.element);return r===i||i.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{kT(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Ha(Aa(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function $T(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function QT(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function YT(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function XT(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function ZT(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const JT=Va({passive:!1,capture:!0});let tk=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new kt.a,this.pointerUp=new kt.a,this.scroll=new kt.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,JT)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,JT)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:JT}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:JT}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(o))},token:t,providedIn:"root"}),t})();const ek={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let nk=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=ek){return new BT(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new GT(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o),r.bc(r.A),r.bc(Wl),r.bc(tk))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(o),Object(r.bc)(r.A),Object(r.bc)(Wl),Object(r.bc)(tk))},token:t,providedIn:"root"}),t})();const rk=new r.r("CDK_DRAG_PARENT"),ik=new r.r("CDK_DRAG_CONFIG"),sk=new r.r("CdkDropList"),ok=new r.r("CdkDragHandle"),ak=new r.r("CdkDragPlaceholder"),ck=new r.r("CdkDragPreview");let lk=(()=>{class t{constructor(e,n,i,s,o,a,c,l,u,h,d){this.element=e,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=o,this._dir=c,this._changeDetectorRef=u,this._selfHandle=h,this._parentDrag=d,this._destroyed=new kt.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new Mt.a(t=>{const e=this._dragRef.moved.pipe(Object(Yt.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=l.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Oa(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(ne(1),Dl(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(se(this._handles),Object(ke.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Zt(t=>Object(ru.a)(...t.map(t=>t._stateChanges.pipe(se(t))))),Dl(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?uk(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?uk(this.element.nativeElement,t):Aa(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:Ia(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(ne(1)).subscribe(()=>{var n,r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(null===(n=i.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(r=t._dragInstances.find(t=>t.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(sk,12),r.Pb(o),r.Pb(r.A),r.Pb(r.R),r.Pb(ik,8),r.Pb(mc,8),r.Pb(nk),r.Pb(r.h),r.Pb(ok,10),r.Pb(rk,12))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,ck,1),r.Ib(n,ak,1),r.Ib(n,ok,1)),2&t){let t;r.uc(t=r.fc())&&(e._previewTemplate=t.first),r.uc(t=r.fc())&&(e._placeholderTemplate=t.first),r.uc(t=r.fc())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Hb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bb([{provide:rk,useExisting:t}]),r.Ab]}),t._dragInstances=[],t})();function uk(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let hk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[nk],imports:[Gl]}),t})();var dk=n("LvDl");const fk=["boardRef"],pk=["modal"];function gk(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",10),r.ec("cdkDragEnded",function(e){return r.xc(t),r.ic().dragEnded(e)})("cdkDragMoved",function(e){return r.xc(t),r.ic().dragMoved(e)})("cdkDragStarted",function(e){return r.xc(t),r.ic().dragStart(e)}),r.Tb()}if(2&t){const t=e.$implicit,n=r.ic();r.Bc("transform","translate3d("+t.point.col*n.pieceSize+"px, "+t.point.row*n.pieceSize+"px,0px)")("max-height",n.pieceSize+"px")("font-size",.8*n.pieceSize+"px")("width",n.pieceSize+"px")("height",n.pieceSize+"px"),r.nc("cdkDragDisabled",n.engineFacade.dragDisabled)("innerHTML",n.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",r.yc)("ngStyle",n.engineFacade.pieceIconManager.isDefaultIcons()?"":n.getCustomPieceIcons(t))}}function mk(t,e){if(1&t&&(r.Ub(0,"span",17),r.Gc(1),r.Tb()),2&t){const t=r.ic(2).index,e=r.ic();r.Bc("color",t%2==0?e.lightTileColor:e.darkTileColor)("font-size",e.pieceSize/4,"px"),r.Cb(1),r.Ic(" ",e.engineFacade.coords.yCoords[t]," ")}}function bk(t,e){if(1&t&&(r.Ub(0,"span",18),r.Gc(1),r.Tb()),2&t){const t=r.ic().index,e=r.ic(2);r.Bc("color",t%2==0?e.lightTileColor:e.darkTileColor)("font-size",e.pieceSize/4,"px"),r.Cb(1),r.Ic(" ",e.engineFacade.coords.xCoords[t]," ")}}function yk(t,e){if(1&t&&(r.Ub(0,"div",19),r.Qb(1,"div",20),r.Tb()),2&t){const t=r.ic(3);r.Cb(1),r.Bc("font-size",t.pieceSize+"px"),r.nc("ngClass","piece")}}function vk(t,e){if(1&t&&(r.Ub(0,"div",13),r.Ec(1,mk,2,5,"span",14),r.Ec(2,bk,2,5,"span",15),r.Ec(3,yk,2,3,"div",16),r.Tb()),2&t){const t=e.index,n=r.ic().index,i=r.ic();r.Bc("background-color",(n+t)%2==0?i.lightTileColor:i.darkTileColor),r.Hb("current-selection",i.engineFacade.board.isXYInActiveMove(n,t))("dest-move",i.engineFacade.board.isXYInDestMove(n,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(n,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(n,t))("possible-capture",i.engineFacade.board.isXYInPossibleCaptures(n,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(n,t))("source-move",i.engineFacade.board.isXYInSourceMove(n,t)),r.Cb(1),r.nc("ngIf",i.showCoords&&7===t),r.Cb(1),r.nc("ngIf",i.showCoords&&7===n),r.Cb(1),r.nc("ngIf",i.engineFacade.board.getPieceByPoint(n,t))}}function _k(t,e){if(1&t&&(r.Ub(0,"div",11),r.Ec(1,vk,4,19,"div",12),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.nc("ngForOf",t)}}function wk(t,e){if(1&t&&(r.hc(),r.Ub(0,"defs"),r.Ub(1,"marker",21),r.Qb(2,"path",22),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.nc("id",t+"Arrow"),r.Cb(1),r.Bc("fill",t)}}function Ck(t,e){if(1&t&&(r.hc(),r.Qb(0,"line",23)),2&t){const t=e.$implicit;r.Db("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function Ek(t,e){if(1&t&&(r.hc(),r.Qb(0,"circle",24)),2&t){const t=e.$implicit,n=r.ic();r.Db("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",n.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}const Sk=function(){return["red","green","blue","orange"]},xk=["myModal"];var Ok=function(t){return t[t.WHITE=0]="WHITE",t[t.BLACK=1]="BLACK",t}({});class Ik{constructor(t,e,n,r,i){this.checkPoints=[],this.color=e,this.constant=n,this.point=t,this.relValue=r,this.board=i}}class Tk{constructor(t,e){this.row=t,this.col=e}isEqual(t){return t&&this.row===t.row&&this.col===t.col}hasCoordsEqual(t,e){return t&&e&&this.row===t&&this.col===e}clone(){return new Tk(this.row,this.col)}}class kk extends Ik{constructor(t,e,n,r){super(t,e,n,5,r),this.isMovedAlready=!1}getPossibleMoves(){const t=[],e=this.point.row,n=this.point.col;for(let r=e+1;r<8&&this.board.isFieldEmpty(r,n);++r)t.push(new Tk(r,n));for(let r=e-1;r>=0&&this.board.isFieldEmpty(r,n);--r)t.push(new Tk(r,n));for(let r=n-1;r>=0&&this.board.isFieldEmpty(e,r);--r)t.push(new Tk(e,r));for(let r=n+1;r<8&&this.board.isFieldEmpty(e,r);++r)t.push(new Tk(e,r));return t}getPossibleCaptures(){const t=[],e=this.point.row,n=this.point.col;for(let r=e+1;r<8;++r){if(this.board.isFieldTakenByEnemy(r,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,n));break}if(!this.board.isFieldEmpty(r,n))break}for(let r=e-1;r>=0;--r){if(this.board.isFieldTakenByEnemy(r,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,n));break}if(!this.board.isFieldEmpty(r,n))break}for(let r=n-1;r>=0;--r){if(this.board.isFieldTakenByEnemy(e,r,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(e,r));break}if(!this.board.isFieldEmpty(e,r))break}for(let r=n+1;r<8;++r){if(this.board.isFieldTakenByEnemy(e,r,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(e,r));break}if(!this.board.isFieldEmpty(e,r))break}return t}getCoveredFields(){const t=[],e=this.point.row,n=this.point.col;for(let r=e+1;r<8;++r)if(this.board.isFieldEmpty(r,n))t.push(new Tk(r,n));else if(!(this.board.getPieceByField instanceof Ak)){t.push(new Tk(r,n));break}for(let r=e-1;r>=0;--r)if(this.board.isFieldEmpty(r,n))t.push(new Tk(r,n));else if(!(this.board.getPieceByField instanceof Ak)){t.push(new Tk(r,n));break}for(let r=n-1;r>=0;--r)if(this.board.isFieldEmpty(e,r))t.push(new Tk(e,r));else if(!(this.board.getPieceByField instanceof Ak)){t.push(new Tk(e,r));break}for(let r=n+1;r<8;++r)if(this.board.isFieldEmpty(e,r))t.push(new Tk(e,r));else if(!(this.board.getPieceByField instanceof Ak)){t.push(new Tk(e,r));break}return t}}class Ak extends Ik{constructor(t,e,n,r){super(t,e,n,0,r),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){const t=[],e=this.point.row,n=this.point.col;if(this.board.isFieldEmpty(e,n-1)&&!this.board.isFieldUnderAttack(e,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e,n-1)),this.board.isFieldEmpty(e,n+1)&&!this.board.isFieldUnderAttack(e,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e,n+1)),this.board.isFieldEmpty(e+1,n)&&!this.board.isFieldUnderAttack(e+1,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n)),this.board.isFieldEmpty(e-1,n)&&!this.board.isFieldUnderAttack(e-1,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n)),this.board.isFieldEmpty(e-1,n-1)&&!this.board.isFieldUnderAttack(e-1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n-1)),this.board.isFieldEmpty(e-1,n+1)&&!this.board.isFieldUnderAttack(e-1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n+1)),this.board.isFieldEmpty(e+1,n-1)&&!this.board.isFieldUnderAttack(e+1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n-1)),this.board.isFieldEmpty(e+1,n+1)&&!this.board.isFieldUnderAttack(e+1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n+1)),!this.isMovedAlready){let r=!0;for(let t=n-1;t>0;--t)if(!this.board.isFieldEmpty(e,t)||this.board.isFieldUnderAttack(e,t,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){r=!1;break}if(r&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(e,0)){const r=this.board.getPieceByField(e,0);r instanceof kk&&(r.isMovedAlready||t.push(new Tk(e,n-2)))}let i=!0;for(let t=n+1;t<7;++t)if(!this.board.isFieldEmpty(e,t)||this.board.isFieldUnderAttack(e,t,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(e,7)){const r=this.board.getPieceByField(e,7);r instanceof kk&&(r.isMovedAlready||t.push(new Tk(e,n+2)))}}return t}getPossibleCaptures(){const t=[],e=this.point.row,n=this.point.col;return this.board.isFieldTakenByEnemy(e,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e,n-1)),this.board.isFieldTakenByEnemy(e,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e,n+1)),this.board.isFieldTakenByEnemy(e+1,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e+1,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n)),this.board.isFieldTakenByEnemy(e-1,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e-1,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n)),this.board.isFieldTakenByEnemy(e-1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e-1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n-1)),this.board.isFieldTakenByEnemy(e-1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e-1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n+1)),this.board.isFieldTakenByEnemy(e+1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e+1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n-1)),this.board.isFieldTakenByEnemy(e+1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&!this.board.isFieldUnderAttack(e+1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n+1)),t}getCoveredFields(){const t=[],e=this.point.row,n=this.point.col;return t.push(new Tk(e,n-1)),t.push(new Tk(e,n+1)),t.push(new Tk(e+1,n)),t.push(new Tk(e-1,n)),t.push(new Tk(e-1,n-1)),t.push(new Tk(e-1,n+1)),t.push(new Tk(e+1,n-1)),t.push(new Tk(e+1,n+1)),t}}class Pk extends Ik{constructor(t,e,n,r){super(t,e,n,3,r)}getPossibleMoves(){const t=[],e=this.point.row,n=this.point.col;for(let r=e-1,i=n-1;r>=0&&i>=0&&this.board.isFieldEmpty(r,i);--r,--i)t.push(new Tk(r,i));for(let r=e-1,i=n+1;r>=0&&i<8&&this.board.isFieldEmpty(r,i);--r,++i)t.push(new Tk(r,i));for(let r=e+1,i=n-1;r<8&&i>=0&&this.board.isFieldEmpty(r,i);++r,--i)t.push(new Tk(r,i));for(let r=e+1,i=n+1;r<8&&i<8&&this.board.isFieldEmpty(r,i);++r,++i)t.push(new Tk(r,i));return t}getPossibleCaptures(){const t=[],e=this.point.row,n=this.point.col;for(let r=e-1,i=n-1;r>=0&&i>=0;--r,--i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}for(let r=e-1,i=n+1;r>=0&&i<8;--r,++i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}for(let r=e+1,i=n-1;r<8&&i>=0;++r,--i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}for(let r=e+1,i=n+1;r<8&&i<8;++r,++i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}return t}getCoveredFields(){const t=[],e=this.point.row,n=this.point.col;for(let r=e-1,i=n-1;r>=0&&i>=0;--r,--i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}for(let r=e-1,i=n+1;r>=0&&i<8;--r,++i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}for(let r=e+1,i=n-1;r<8&&i>=0;++r,--i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}for(let r=e+1,i=n+1;r<8&&i<8;++r,++i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}return t}}class Dk extends Ik{constructor(t,e,n,r){super(t,e,n,3,r),this.isMovedAlready=!1}getPossibleMoves(){const t=[],e=this.point.row,n=this.point.col;return this.board.isFieldEmpty(e-2,n-1)&&t.push(new Tk(e-2,n-1)),this.board.isFieldEmpty(e-2,n+1)&&t.push(new Tk(e-2,n+1)),this.board.isFieldEmpty(e-1,n-2)&&t.push(new Tk(e-1,n-2)),this.board.isFieldEmpty(e-1,n+2)&&t.push(new Tk(e-1,n+2)),this.board.isFieldEmpty(e+1,n-2)&&t.push(new Tk(e+1,n-2)),this.board.isFieldEmpty(e+1,n+2)&&t.push(new Tk(e+1,n+2)),this.board.isFieldEmpty(e+2,n-1)&&t.push(new Tk(e+2,n-1)),this.board.isFieldEmpty(e+2,n+1)&&t.push(new Tk(e+2,n+1)),t}getPossibleCaptures(){const t=[],e=this.point.row,n=this.point.col;return this.board.isFieldTakenByEnemy(e-2,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-2,n-1)),this.board.isFieldTakenByEnemy(e-2,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-2,n+1)),this.board.isFieldTakenByEnemy(e-1,n-2,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n-2)),this.board.isFieldTakenByEnemy(e-1,n+2,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n+2)),this.board.isFieldTakenByEnemy(e+1,n-2,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n-2)),this.board.isFieldTakenByEnemy(e+1,n+2,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n+2)),this.board.isFieldTakenByEnemy(e+2,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+2,n-1)),this.board.isFieldTakenByEnemy(e+2,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+2,n+1)),t}getCoveredFields(){const t=[],e=this.point.row,n=this.point.col;return t.push(new Tk(e-2,n-1)),t.push(new Tk(e-2,n+1)),t.push(new Tk(e-1,n-2)),t.push(new Tk(e-1,n+2)),t.push(new Tk(e+1,n-2)),t.push(new Tk(e+1,n+2)),t.push(new Tk(e+2,n-1)),t.push(new Tk(e+2,n+1)),t}}class Rk extends Ik{constructor(t,e,n,r){super(t,e,n,1,r),this.isMovedAlready=!1}getPossibleMoves(){const t=[],e=this.point.row,n=this.point.col;return!this.board.reverted&&this.color===Ok.WHITE||this.board.reverted&&this.color===Ok.BLACK?this.board.isFieldEmpty(e-1,n)&&(t.push(new Tk(e-1,n)),!this.isMovedAlready&&this.board.isFieldEmpty(e-2,n)&&t.push(new Tk(e-2,n))):this.board.isFieldEmpty(e+1,n)&&(t.push(new Tk(e+1,n)),!this.isMovedAlready&&this.board.isFieldEmpty(e+2,n)&&t.push(new Tk(e+2,n))),t}getPossibleCaptures(){const t=[],e=this.point.row,n=this.point.col;return!this.board.reverted&&this.color===Ok.WHITE||this.board.reverted&&this.color===Ok.BLACK?(this.board.isFieldTakenByEnemy(e-1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n-1)),this.board.isFieldTakenByEnemy(e-1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e-1,n+1))):(this.board.isFieldTakenByEnemy(e+1,n-1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n-1)),this.board.isFieldTakenByEnemy(e+1,n+1,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&t.push(new Tk(e+1,n+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)&&e===this.board.enPassantPiece.point.row&&1===Math.abs(this.board.enPassantPiece.point.col-n)&&t.push(this.board.enPassantPoint),t}getCoveredFields(){const t=[],e=this.point.row,n=this.point.col;return!this.board.reverted&&this.color===Ok.WHITE||this.board.reverted&&this.color===Ok.BLACK?(t.push(new Tk(e-1,n-1)),t.push(new Tk(e-1,n+1))):(t.push(new Tk(e+1,n-1)),t.push(new Tk(e+1,n+1))),t}}class jk extends Ik{constructor(t,e,n,r){super(t,e,n,9,r)}getPossibleMoves(){const t=[],e=this.point.row,n=this.point.col;for(let r=e-1,i=n-1;r>=0&&i>=0&&this.board.isFieldEmpty(r,i);--r,--i)t.push(new Tk(r,i));for(let r=e-1,i=n+1;r>=0&&i<8&&this.board.isFieldEmpty(r,i);--r,++i)t.push(new Tk(r,i));for(let r=e+1,i=n-1;r<8&&i>=0&&this.board.isFieldEmpty(r,i);++r,--i)t.push(new Tk(r,i));for(let r=e+1,i=n+1;r<8&&i<8&&this.board.isFieldEmpty(r,i);++r,++i)t.push(new Tk(r,i));for(let r=e+1;r<8&&this.board.isFieldEmpty(r,n);++r)t.push(new Tk(r,n));for(let r=e-1;r>=0&&this.board.isFieldEmpty(r,n);--r)t.push(new Tk(r,n));for(let r=n-1;r>=0&&this.board.isFieldEmpty(e,r);--r)t.push(new Tk(e,r));for(let r=n+1;r<8&&this.board.isFieldEmpty(e,r);++r)t.push(new Tk(e,r));return t}getPossibleCaptures(){const t=[],e=this.point.row,n=this.point.col;for(let r=e-1,i=n-1;r>=0&&i>=0;--r,--i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}for(let r=e-1,i=n+1;r>=0&&i<8;--r,++i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}for(let r=e+1,i=n-1;r<8&&i>=0;++r,--i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}for(let r=e+1,i=n+1;r<8&&i<8;++r,++i){if(this.board.isFieldTakenByEnemy(r,i,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,i));break}if(!this.board.isFieldEmpty(r,i))break}for(let r=e+1;r<8;++r){if(this.board.isFieldTakenByEnemy(r,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,n));break}if(!this.board.isFieldEmpty(r,n))break}for(let r=e-1;r>=0;--r){if(this.board.isFieldTakenByEnemy(r,n,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(r,n));break}if(!this.board.isFieldEmpty(r,n))break}for(let r=n-1;r>=0;--r){if(this.board.isFieldTakenByEnemy(e,r,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(e,r));break}if(!this.board.isFieldEmpty(e,r))break}for(let r=n+1;r<8;++r){if(this.board.isFieldTakenByEnemy(e,r,this.color===Ok.WHITE?Ok.BLACK:Ok.WHITE)){t.push(new Tk(e,r));break}if(!this.board.isFieldEmpty(e,r))break}return t}getCoveredFields(){const t=[],e=this.point.row,n=this.point.col;for(let r=e+1;r<8;++r){if(!this.board.isFieldEmpty(r,n)){this.board.getPieceByField(r,n)instanceof Ak||t.push(new Tk(r,n));break}t.push(new Tk(r,n))}for(let r=e-1;r>=0;--r){if(!this.board.isFieldEmpty(r,n)){this.board.getPieceByField(r,n)instanceof Ak||t.push(new Tk(r,n));break}t.push(new Tk(r,n))}for(let r=n-1;r>=0;--r){if(!this.board.isFieldEmpty(e,r)){this.board.getPieceByField(e,r)instanceof Ak||t.push(new Tk(e,r));break}t.push(new Tk(e,r))}for(let r=n+1;r<8;++r){if(!this.board.isFieldEmpty(e,r)){this.board.getPieceByField(e,r)instanceof Ak||t.push(new Tk(e,r));break}t.push(new Tk(e,r))}for(let r=e-1,i=n-1;r>=0&&i>=0;--r,--i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}for(let r=e-1,i=n+1;r>=0&&i<8;--r,++i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}for(let r=e+1,i=n-1;r<8&&i>=0;++r,--i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}for(let r=e+1,i=n+1;r<8&&i<8;++r,++i){if(!this.board.isFieldEmpty(r,i)){this.board.getPieceByField(r,i)instanceof Ak||t.push(new Tk(r,i));break}t.push(new Tk(r,i))}return t}}const Nk={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}};class Fk{process(t,e){let n=t;if(!t)throw Error("Incorrect FEN provided");{e.board.reverted=!1,e.board.pieces=[];const t=n.split("/");for(let n=0;n<8;++n){let r=0;for(let i=0;i<8;++i){const s=t[n].charAt(i);if(s.match(/[0-9]/))r+=Number(s);else{switch(s){case"r":e.board.pieces.push(new kk(new Tk(n,r),Ok.BLACK,Nk.BLACK_ROOK,e.board));break;case"n":e.board.pieces.push(new Dk(new Tk(n,r),Ok.BLACK,Nk.BLACK_KNIGHT,e.board));break;case"b":e.board.pieces.push(new Pk(new Tk(n,r),Ok.BLACK,Nk.BLACK_BISHOP,e.board));break;case"q":e.board.pieces.push(new jk(new Tk(n,r),Ok.BLACK,Nk.BLACK_QUEEN,e.board));break;case"k":e.board.pieces.push(new Ak(new Tk(n,r),Ok.BLACK,Nk.BLACK_KING,e.board));break;case"p":{const t=new Rk(new Tk(n,r),Ok.BLACK,Nk.BLACK_PAWN,e.board);(t.color===Ok.BLACK&&1!==t.point.row||t.color===Ok.WHITE&&6!==t.point.row)&&(t.isMovedAlready=!0),e.board.pieces.push(t);break}case"R":e.board.pieces.push(new kk(new Tk(n,r),Ok.WHITE,Nk.WHITE_ROOK,e.board));break;case"N":e.board.pieces.push(new Dk(new Tk(n,r),Ok.WHITE,Nk.WHITE_KNIGHT,e.board));break;case"B":e.board.pieces.push(new Pk(new Tk(n,r),Ok.WHITE,Nk.WHITE_BISHOP,e.board));break;case"Q":e.board.pieces.push(new jk(new Tk(n,r),Ok.WHITE,Nk.WHITE_QUEEN,e.board));break;case"K":e.board.pieces.push(new Ak(new Tk(n,r),Ok.WHITE,Nk.WHITE_KING,e.board));break;case"P":{const t=new Rk(new Tk(n,r),Ok.WHITE,Nk.WHITE_PAWN,e.board);(t.color===Ok.BLACK&&1!==t.point.row||t.color===Ok.WHITE&&6!==t.point.row)&&(t.isMovedAlready=!0),e.board.pieces.push(t);break}}++r}}}this.setCurrentPlayer(e.board,n),this.setCastles(e.board,n),this.setEnPassant(n),this.setFullMoveCount(n),e.board.fen=n}}setCurrentPlayer(t,e){if(e){const n=e.split(" ");t.currentWhitePlayer="w"===n[1]}}setCastles(t,e){if(e){const n=e.split(" ")[2];n.includes("K")||this.setRookAlreadyMoved(t,Ok.WHITE,7),n.includes("Q")||this.setRookAlreadyMoved(t,Ok.WHITE,0),n.includes("k")||this.setRookAlreadyMoved(t,Ok.BLACK,7),n.includes("q")||this.setRookAlreadyMoved(t,Ok.BLACK,0)}}setFullMoveCount(t){}setEnPassant(t){!t||t.split(" ")}setRookAlreadyMoved(t,e,n){const r=t.pieces.find(t=>t.color===e&&t instanceof kk&&t.point.col===n);r&&(r.isMovedAlready=!0)}}class Lk{constructor(t,e,n){this._xAxis=t,this._yAxis=e,this._reverted=n}get xAxis(){return this._xAxis}set xAxis(t){this._xAxis=t}get yAxis(){return this._yAxis}set yAxis(t){this._yAxis=t}get reverted(){return this._reverted}set reverted(t){this._reverted=t}}class Mk{static willMoveCauseCheck(t,e,n,r,i,s){const o=s.getPieceByField(e,n),a=s.getPieceByField(r,i);o&&(o.point.row=r,o.point.col=i),a&&(s.pieces=s.pieces.filter(t=>t!==a));const c=s.isKingInCheck(t,s.pieces);return o&&(o.point.col=n,o.point.row=e),a&&s.pieces.push(a),c}static format(t,e,n){if(n){const n=104-e.col;return String.fromCharCode(104-t.col)+(t.row+1)+String.fromCharCode(n)+(e.row+1)}{const n=97;return String.fromCharCode(t.col+n)+(Math.abs(t.row-7)+1)+String.fromCharCode(e.col+n)+(Math.abs(e.row-7)+1)}}static translateCoordsToIndex(t,e){let n,r;return e?(n=104-t.charCodeAt(0),r=+t.charAt(1)-1):(n=t.charCodeAt(0)-97,r=Math.abs(+t.charAt(1)-8)),new Lk(n,r,e)}static findPieceByPossibleMovesContaining(t,e,n){let r=this.translateCoordsToIndex(t,e.reverted),i=new Tk(r.yAxis,r.xAxis),s=[];for(let o of e.pieces.filter(t=>t.color===n))for(let t of o.getPossibleMoves())!Mk.willMoveCauseCheck(o.color,o.point.row,o.point.col,r.yAxis,r.xAxis,e)&&t.isEqual(i)&&s.push(o);return s}static findPieceByPossibleCapturesContaining(t,e,n){let r=this.translateCoordsToIndex(t,e.reverted),i=new Tk(r.yAxis,r.xAxis),s=[];for(let o of e.pieces.filter(t=>t.color===n))for(let t of o.getPossibleCaptures())!Mk.willMoveCauseCheck(o.color,o.point.row,o.point.col,r.yAxis,r.xAxis,e)&&t.isEqual(i)&&s.push(o);return s}static formatSingle(t,e){return e?String.fromCharCode(104-t.col)+(t.row+1):String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static getFirstLetterPiece(t){return t instanceof Rk?"P":t instanceof Dk?"N":t instanceof Pk?"B":t instanceof kk?"R":t instanceof Ak?"K":t instanceof jk?"Q":""}static reverse(t,e){return t.reverted?e+1:Math.abs(e-7)+1}static formatCol(t,e){return String.fromCharCode(t.reverted?104-e:97+e)}}class Bk{static loadDefaultPieces(t){t.pieces=[];for(let e=0;e<8;++e)t.pieces.push(new Rk(new Tk(1,e),Ok.BLACK,Nk.BLACK_PAWN,t));t.pieces.push(new kk(new Tk(0,0),Ok.BLACK,Nk.BLACK_ROOK,t)),t.pieces.push(new Dk(new Tk(0,1),Ok.BLACK,Nk.BLACK_KNIGHT,t)),t.pieces.push(new Pk(new Tk(0,2),Ok.BLACK,Nk.BLACK_BISHOP,t)),t.pieces.push(new jk(new Tk(0,3),Ok.BLACK,Nk.BLACK_QUEEN,t)),t.pieces.push(new Ak(new Tk(0,4),Ok.BLACK,Nk.BLACK_KING,t)),t.pieces.push(new Pk(new Tk(0,5),Ok.BLACK,Nk.BLACK_BISHOP,t)),t.pieces.push(new Dk(new Tk(0,6),Ok.BLACK,Nk.BLACK_KNIGHT,t)),t.pieces.push(new kk(new Tk(0,7),Ok.BLACK,Nk.BLACK_ROOK,t));for(let e=0;e<8;++e)t.pieces.push(new Rk(new Tk(6,e),Ok.WHITE,Nk.WHITE_PAWN,t));t.pieces.push(new kk(new Tk(7,0),Ok.WHITE,Nk.WHITE_ROOK,t)),t.pieces.push(new Dk(new Tk(7,1),Ok.WHITE,Nk.WHITE_KNIGHT,t)),t.pieces.push(new Pk(new Tk(7,2),Ok.WHITE,Nk.WHITE_BISHOP,t)),t.pieces.push(new jk(new Tk(7,3),Ok.WHITE,Nk.WHITE_QUEEN,t)),t.pieces.push(new Ak(new Tk(7,4),Ok.WHITE,Nk.WHITE_KING,t)),t.pieces.push(new Pk(new Tk(7,5),Ok.WHITE,Nk.WHITE_BISHOP,t)),t.pieces.push(new Dk(new Tk(7,6),Ok.WHITE,Nk.WHITE_KNIGHT,t)),t.pieces.push(new kk(new Tk(7,7),Ok.WHITE,Nk.WHITE_ROOK,t)),t.calculateFEN()}}class Vk{process(t,e){if(t){e.board.reverted=!1,e.board.pieces=[],e.reset(),Bk.loadDefaultPieces(e.board);let n=this.extractMoves(t),r=-1;for(let t of n){++r,t=t.replace(/[+#]/g,"");let n="";t.includes("=")&&(n=this.resolvePromotion(t.substring(t.length-1)),t=t.substring(0,t.length-2));let i=0===r||r%2==0?Ok.WHITE:Ok.BLACK;if(/^[a-z]\d$/g.test(t)){let r=Mk.findPieceByPossibleMovesContaining(t,e.board,i).find(t=>t instanceof Rk);r&&e.move(Mk.formatSingle(r.point,!1)+t+n)}else if(/^[A-Z][a-h]\d$/g.test(t)){let r=Mk.findPieceByPossibleMovesContaining(t.substring(1),e.board,i).find(e=>this.resolvePieceByFirstChar(t.charAt(0),e));r&&e.move(Mk.formatSingle(r.point,!1)+t.substring(1)+n)}else if("O-O"===t)e.move(i===Ok.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(t)){let r,s=Mk.findPieceByPossibleCapturesContaining(t.substring(t.indexOf("x")+1),e.board,i).filter(t=>t instanceof Rk);r=s.length>1?this.resolveByCol(s,t.substring(0,1)):s[0],r&&e.move(Mk.formatSingle(r.point,!1)+t.substring(t.indexOf("x")+1)+n)}else if(/^[A-Z]x[a-z]\d$/g.test(t)){let r=Mk.findPieceByPossibleCapturesContaining(t.substring(t.indexOf("x")+1),e.board,i).find(e=>this.resolvePieceByFirstChar(t.substring(0,1),e));r&&e.move(Mk.formatSingle(r.point,!1)+t.substring(t.indexOf("x")+1)+n)}else if("O-O-O"===t)e.move(i===Ok.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(t)){let r=Mk.findPieceByPossibleCapturesContaining(t.substring(t.indexOf("x")+1),e.board,i).filter(e=>this.resolvePieceByFirstChar(t.charAt(0),e)),s=this.resolveByRow(r,t.substring(1,2));s&&e.move(Mk.formatSingle(s.point,!1)+t.substring(t.indexOf("x")+1)+n)}else if(/^[A-Z][a-z][a-z]\d$/g.test(t)){let r=Mk.findPieceByPossibleMovesContaining(t.substring(2,4),e.board,i).filter(e=>this.resolvePieceByFirstChar(t.charAt(0),e)),s=this.resolveByCol(r,t.substring(1,2));s&&e.move(Mk.formatSingle(s.point,!1)+t.substring(2,4)+n)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(t)){let r=Mk.findPieceByPossibleCapturesContaining(t.substring(t.indexOf("x")+1),e.board,i).filter(e=>this.resolvePieceByFirstChar(t.charAt(0),e)),s=this.resolveByCol(r,t.substring(1,2));s&&e.move(Mk.formatSingle(s.point,!1)+t.substring(t.indexOf("x")+1)+n)}}}}extractMoves(t){return t.substring(t.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(t,e,n){let r=Mk.translateCoordsToIndex(n,e.reverted);t.point.col=r.xAxis,t.point.row=r.yAxis}hasUpperCase(t){return/[A-Z]/.test(t)}resolvePieceByFirstChar(t,e){let n="";return e instanceof Ak?n="K":e instanceof jk?n="Q":e instanceof kk?n="R":e instanceof Pk?n="B":e instanceof Dk?n="N":e instanceof Rk&&(n="P"),t===n}isShortCastle(t){return"O-O"===t}removePiece(t,e){let n=Mk.translateCoordsToIndex(t,e.reverted);e.pieces=e.pieces.filter(t=>!t.point.isEqual(new Tk(n.yAxis,n.xAxis)))}isLongCastle(t){return"O-O-O"===t}resolveByCol(t,e){let n=Mk.formatSingle(t[0].point,!1);return Mk.formatSingle(t[1].point,!1),n.substring(0,1)===e?t[0]:t[1]}resolveByRow(t,e){let n=Mk.formatSingle(t[0].point,!1);return Mk.formatSingle(t[1].point,!1),n.substring(1,2)===e?t[0]:t[1]}replacePromotion(t){return t.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(t){switch(t){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}}class Uk{static getProcessor(t){switch(t){case Hk.FEN:return new Fk;case Hk.PGN:return new Vk}}static getDefaultProcessor(){return new Fk}}var Hk=function(t){return t[t.FEN=1]="FEN",t[t.PGN=2]="PGN",t}({});class qk{constructor(t,e,n){this.x=t+.5,this.y=e+.5,this.color=n}isEqual(t){return t&&t.x===this.x&&this.y===t.y}}class zk{static getClickPoint(t,e,n,r,i){return new Tk(Math.floor((t.y-e)/(n/8)),Math.floor((t.x-r)/(i/8)))}static getDrawingPoint(t,e,n,r,i,s,o,a,c){const l=t/8,u=Math.floor((n-a)/l),h=Math.floor((r-c)/l);let d=e.resolve(i,o,s);return new qk(Math.floor(u*l+l/2),Math.floor(h*l+l/2),d)}}class Kk{constructor(t,e,n,r){this.move=t,this.piece=e,this.color=n,this.x=r}}class Wk{constructor(){this.historyMovesSubject$=new Pt([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(t){this.historyMovesSubject$.next(t)}addMove(t){this.historyMoves=[...this.historyMoves,t]}pop(){const t=this.getLastMove();return this.historyMoves=this.historyMoves.filter(e=>e!==t),t}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}}let Gk=(()=>{class t{}return t.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",t.DEFAULT_LIGHT_TILE_COLOR="#BAA378",t.DEFAULT_SIZE=500,t.MIN_BOARD_SIZE=100,t.MAX_BOARD_SIZE=4e3,t})();class $k{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(t){this._pieceIconInput=t}get defaultIcons(){return this._defaultIcons}set defaultIcons(t){this._defaultIcons=t}isDefaultIcons(){return null==this.pieceIconInput}getPieceIcon(t){let e=t.color===Ok.WHITE;switch(t.constructor){case Ak:return e?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case jk:return e?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case kk:return e?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case Pk:return e?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case Dk:return e?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case Rk:return e?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}}class Qk{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}}class Yk{dragEnded(t,e,n){e||n&&(t.source._dragRef.getRootElement().style.transform=n)}}class Xk{constructor(){this.dragEndProcessor=new Yk}process(t,e,n){this.dragEndProcessor.dragEnded(t,e,n)}setDragEndProcessor(t){this.dragEndProcessor=t}}class Zk{dragStarted(t){const e=t.source.getRootElement().style;e.zIndex="1000",e.position="absolute"}}class Jk{constructor(){this.dragStartProcessor=new Zk}process(t){this.dragStartProcessor.dragStarted(t)}setDragStartProcessor(t){this.dragStartProcessor=t}}class tA{resolve(t,e,n){let r="green";return(t||e)&&(r="red"),n&&(r="blue"),(e||t)&&n&&(r="orange"),r}}class eA{constructor(){this.colorProcessor=new tA}resolve(t,e,n){return this.colorProcessor.resolve(t,e,n)}setColorProcessor(t){this.colorProcessor=t}}class nA{constructor(){this.arrowsSubject$=new Pt([]),this.circlesSubject$=new Pt([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(t){this.circlesSubject$.next(t)}get arrows(){return this.arrowsSubject$.value}set arrows(t){this.arrowsSubject$.next(t)}addCircle(t){this.circles=[...this.circles,t]}reomveCircle(t){this.circles=this.circles.filter(e=>!e.isEqual(t))}addArrow(t){this.arrows=[...this.arrows,t]}removeArrow(t){this.arrows=this.arrows.filter(e=>!e.isEqual(t))}containsCircle(t){return this.circles.some(e=>e.isEqual(t))}containsArrow(t){return this.arrows.some(e=>e.isEqual(t))}clear(){this.arrows=[],this.circles=[]}}class rA extends class{constructor(){this.pgn="",this.currentIndex=.5}getPGN(){return this.pgn}processChecks(t,e,n){t?this.pgn+="#":e&&(this.pgn+="+")}reset(){this.pgn="",this.currentIndex=.5}addPromotionChoice(t){switch(t){case 1:this.pgn+="=Q";break;case 2:this.pgn+="=R";break;case 3:this.pgn+="=B";break;case 4:this.pgn+="=N"}}removeLast(){if(this.currentIndex>=.5){this.currentIndex-=.5;const t=new RegExp(/\d+\./g);t.test(this.pgn),this.pgn=this.pgn.substring(0,t.lastIndex).trim()}}}{process(t,e,n,r){this.currentIndex+=.5,this.pgn+=this.currentIndex%Math.floor(this.currentIndex)==0?" "+this.currentIndex+". ":" ";let i=[],s=[];r&&(i=Mk.findPieceByPossibleCapturesContaining(Mk.formatSingle(n,t.reverted),t,e.color).filter(t=>t.constructor.name===e.constructor.name)),s=Mk.findPieceByPossibleMovesContaining(Mk.formatSingle(n,t.reverted),t,e.color).filter(t=>t.constructor.name===e.constructor.name),e instanceof Rk&&!r&&0===i.length?this.pgn+=Mk.formatSingle(n,t.reverted):e instanceof Rk&&r?this.pgn+=Mk.formatSingle(e.point,t.reverted).substring(0,1)+"x"+Mk.formatSingle(n,t.reverted):e instanceof Ak&&2===Math.abs(e.point.col-n.col)?this.pgn+=t.reverted?n.col<2?"O-O":"O-O-O":n.col<3?"O-O-O":"O-O":!(e instanceof Rk)&&0===i.length&&s.length<2?this.pgn+=Mk.getFirstLetterPiece(e)+Mk.formatSingle(n,t.reverted):s&&2===s.length&&0===i.length?this.isEqualByCol(s[0],s[1])?this.pgn+=Mk.getFirstLetterPiece(e)+Mk.reverse(t,e.point.row)+Mk.formatSingle(n,t.reverted):this.pgn+=Mk.getFirstLetterPiece(e)+Mk.formatCol(t,e.point.col)+Mk.formatSingle(n,t.reverted):i.length>1?this.isEqualByCol(i[0],i[1])?this.pgn+=Mk.getFirstLetterPiece(e)+Mk.reverse(t,e.point.row)+"x"+Mk.formatSingle(n,t.reverted):this.pgn+=Mk.getFirstLetterPiece(e)+Mk.formatCol(t,e.point.col)+"x"+Mk.formatSingle(n,t.reverted):this.pgn+=Mk.getFirstLetterPiece(e)+"x"+Mk.formatSingle(n,t.reverted),this.pgn=this.pgn.trim()}resolvePieceByFirstChar(t,e){return Mk.getFirstLetterPiece(e)===t}isEqualByCol(t,e){return t.point.col===e.point.col}}class iA{constructor(t,e){this.engineFacade=t,this.notationProcessor=e||Uk.getDefaultProcessor()}addPieces(){Bk.loadDefaultPieces(this.engineFacade.board)}loadFEN(t){this.notationProcessor.process(t,this.engineFacade)}loadPGN(t){this.notationProcessor.process(t,this.engineFacade)}setEngineFacade(t){this.engineFacade=t}setNotationProcessor(t){this.notationProcessor=t}}class sA{constructor(t){this.board=t}}class oA{constructor(){this.statesSubject$=new Pt([])}get states(){return this.statesSubject$.value}set states(t){this.statesSubject$.next(t)}addMove(t){this.states=[...this.states,t]}getStates(){return this.states}pop(){const t=this.getLastState();return this.states=this.states.filter(e=>e!==t),t}isEmpty(){return 0===this.states.length}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}}class aA{isEqual(t){return t&&this.start.isEqual(t.start)&&this.end.isEqual(t.end)}}class cA{isEqual(t){return t&&this.drawPoint.isEqual(t.drawPoint)}}class lA extends class{constructor(t){this.piece=t}}{constructor(t,e,n,r){super(t),this.pointClicked=e,this.color=n,this.board=r}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(t=>!Mk.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,t.row,t.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(t=>!Mk.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,t.row,t.col,this.board))}}class uA{static resolvePromotionChoice(t,e,n){const r=e.color===Ok.WHITE;switch(n){case 1:t.pieces.push(new jk(e.point,e.color,r?Nk.WHITE_QUEEN:Nk.BLACK_QUEEN,t));break;case 2:t.pieces.push(new kk(e.point,e.color,r?Nk.WHITE_ROOK:Nk.BLACK_ROOK,t));break;case 3:t.pieces.push(new Pk(e.point,e.color,r?Nk.WHITE_BISHOP:Nk.BLACK_BISHOP,t));break;case 4:t.pieces.push(new Dk(e.point,e.color,r?Nk.WHITE_KNIGHT:Nk.BLACK_KNIGHT,t))}}}var hA=function(t){return t[t.KING=1]="KING",t[t.QUEEN=2]="QUEEN",t[t.BISHOP=3]="BISHOP",t[t.KNIGHT=4]="KNIGHT",t[t.ROOK=5]="ROOK",t[t.PAWN=6]="PAWN",t}({}),dA=function(t){return t[t.LIGHT=1]="LIGHT",t[t.DARK=2]="DARK",t}({});class fA extends class{constructor(t){this.dragStartStrategy=new Jk,this.dragEndStrategy=new Xk,this.pgnProcessor=new rA,this.colorStrategy=new eA,this.coords=new Qk,this.heightAndWidth=Gk.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new nA,this.pieceIconManager=new $k,this.moveHistoryProvider=new Wk,this.disabling=!1,this.board=t}checkIfPawnFirstMove(t){t instanceof Rk&&(t.isMovedAlready=!0)}checkIfRookMoved(t){t instanceof kk&&(t.isMovedAlready=!0)}checkIfKingMoved(t){t instanceof Ak&&(t.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}}{constructor(t,e){super(t),this._selected=!1,this.moveChange=e,this.boardLoader=new iA(this),this.boardLoader.addPieces(),this.boardStateProvider=new oA}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset(),this.freeMode=!1}undo(){if(!this.boardStateProvider.isEmpty()){const t=this.boardStateProvider.pop().board;this.board.reverted&&t.reverse(),this.board=t,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){const t=this.board.clone();this.board.reverted&&t.reverse(),this.moveStateProvider.addMove(new sA(t))}move(t){if(t){const e=Mk.translateCoordsToIndex(t.substring(0,2),this.board.reverted),n=Mk.translateCoordsToIndex(t.substring(2,4),this.board.reverted),r=this.board.getPieceByPoint(e.yAxis,e.xAxis);if(r){if(this.board.currentWhitePlayer&&r.color===Ok.BLACK||!this.board.currentWhitePlayer&&r.color===Ok.WHITE)return;this.prepareActivePiece(r,r.point),this.board.isPointInPossibleMoves(new Tk(n.yAxis,n.xAxis))||this.board.isPointInPossibleCaptures(new Tk(n.yAxis,n.xAxis))?(this.saveClone(),this.movePiece(r,new Tk(n.yAxis,n.xAxis),5===t.length?+t.substring(4,5):0),this.board.lastMoveSrc=new Tk(e.yAxis,e.xAxis),this.board.lastMoveDest=new Tk(n.yAxis,n.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(t,e){this.board.activePiece=t,this._selected=!0,this.board.possibleCaptures=new lA(t,e,this.board.currentWhitePlayer?Ok.WHITE:Ok.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new lA(t,e,this.board.currentWhitePlayer?Ok.WHITE:Ok.BLACK,this.board).getPossibleMoves()}onPieceClicked(t,e){this.board.currentWhitePlayer&&t.color===Ok.BLACK||!this.board.currentWhitePlayer&&t.color===Ok.WHITE||this.prepareActivePiece(t,e)}handleClickEvent(t,e){let n=!1;(this.board.isPointInPossibleMoves(t)||this.board.isPointInPossibleCaptures(t)||this.freeMode)&&(this.saveClone(),this.board.lastMoveSrc=new Tk(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=t.clone(),this.movePiece(this.board.activePiece,t),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(n=!0)),(e||n)&&this.disableSelection(),this.disableSelection();const r=this.board.getPieceByPoint(t.row,t.col);r&&!n&&(this.onFreeMode(r),this.onPieceClicked(r,t))}onMouseDown(t,e,n,r){if(this.moveDone=!1,0!==t.button)return void(this.drawPoint=zk.getDrawingPoint(this.heightAndWidth,this.colorStrategy,t.x,t.y,t.ctrlKey,t.altKey,t.shiftKey,n,r));if(this.drawProvider.clear(),this.board.activePiece&&e.isEqual(this.board.activePiece.point))return void(this.disabling=!0);const i=this.board.getPieceByPoint(e.row,e.col);if(this.freeMode&&i){if(t.ctrlKey)return void(this.board.pieces=this.board.pieces.filter(t=>t!==i));this.board.currentWhitePlayer=i.color===Ok.WHITE}this.isPieceDisabled(i)||(this._selected?this.handleClickEvent(e,!0):i&&(this.onFreeMode(i),this.onPieceClicked(i,e)))}onMouseUp(t,e,n,r){if(this.moveDone=!1,0!==t.button&&!this.drawDisabled)return void this.addDrawPoint(t.x,t.y,t.ctrlKey,t.altKey,t.shiftKey,n,r);if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&e.isEqual(this.board.activePiece.point)&&this.disabling)return this.disableSelection(),void(this.disabling=!1);const i=this.board.getPieceByPoint(e.row,e.col);this.isPieceDisabled(i)||this._selected&&this.handleClickEvent(e,!1)}saveClone(){const t=this.board.clone();this.board.reverted&&t.reverse(),this.boardStateProvider.addMove(new sA(t))}movePiece(t,e,n){const r=this.board.pieces.find(t=>t.point.col===e.col&&t.point.row===e.row);if(this.pgnProcessor.process(this.board,t,e,r),r&&t.color!==r.color)this.board.pieces=this.board.pieces.filter(t=>t!==r);else if(r&&t.color===r.color)return;const i=new Kk(Mk.format(t.point,e,this.board.reverted),t.constant.name,t.color===Ok.WHITE?"white":"black",!!r);if(this.moveHistoryProvider.addMove(i),t instanceof Ak&&Math.abs(e.col-t.point.col)>1)if(e.col<3){const e=this.board.getPieceByField(t.point.row,0);this.freeMode||(e.point.col=this.board.reverted?2:3)}else{const e=this.board.getPieceByField(t.point.row,7);this.freeMode||(e.point.col=this.board.reverted?4:5)}t instanceof Rk?(this.board.checkIfPawnTakesEnPassant(e),this.board.checkIfPawnEnpassanted(t,e)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),t.point=e,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(t,n)||this.afterMoveActions()}checkForPawnPromote(t,e){if(t instanceof Rk)return 0===t.point.row||7===t.point.row?(this.board.pieces=this.board.pieces.filter(e=>e!==t),e?(uA.resolvePromotionChoice(this.board,t,e),this.afterMoveActions(e)):this.openPromoteDialog(t),!0):void 0}afterMoveActions(t){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(Ok.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(Ok.WHITE,this.board.pieces);const e=this.board.blackKingChecked||this.board.whiteKingChecked,n=this.checkForPossibleMoves(Ok.BLACK)||this.checkForPossibleMoves(Ok.WHITE),r=this.checkForPat(Ok.BLACK)||this.checkForPat(Ok.WHITE);this.pgnProcessor.processChecks(n,e,r),this.pgnProcessor.addPromotionChoice(t),this.disabling=!1,this.board.calculateFEN();const i=this.moveHistoryProvider.getLastMove();i&&t&&(i.move+=t),this.moveChange.emit(Object.assign(Object.assign({},i),{check:e,checkmate:n,stalemate:r,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(t){return t===Ok.WHITE&&!this.board.whiteKingChecked||t===Ok.BLACK&&!this.board.blackKingChecked?this.checkForPossibleMoves(t):void 0}openPromoteDialog(t){this.modal.open(e=>{uA.resolvePromotionChoice(this.board,t,e),this.afterMoveActions(e)})}checkForPossibleMoves(t){return!this.board.pieces.filter(e=>e.color===t).some(e=>e.getPossibleMoves().some(n=>!Mk.willMoveCauseCheck(t,e.point.row,e.point.col,n.row,n.col,this.board))||e.getPossibleCaptures().some(n=>!Mk.willMoveCauseCheck(t,e.point.row,e.point.col,n.row,n.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(t){this.freeMode&&null!=t&&(this.board.currentWhitePlayer=t.color===Ok.WHITE)}isPieceDisabled(t){return!(t&&t.point&&this.board.possibleCaptures.find(e=>e.col===t.point.col&&e.row===t.point.row))&&t&&(this.lightDisabled&&t.color===Ok.WHITE||this.darkDisabled&&t.color===Ok.BLACK)}addDrawPoint(t,e,n,r,i,s,o){const a=zk.getDrawingPoint(this.heightAndWidth,this.colorStrategy,t,e,n,r,i,s,o);if(this.drawPoint.isEqual(a)){const t=new cA;t.drawPoint=a,this.drawProvider.containsCircle(t)?this.drawProvider.reomveCircle(t):this.drawProvider.addCircle(t)}else{const t=new aA;t.start=this.drawPoint,t.end=a,this.drawProvider.containsArrow(t)?this.drawProvider.removeArrow(t):this.drawProvider.addArrow(t)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(t,e,n){if(this.freeMode&&n&&t>0&&e>0){let r=Mk.translateCoordsToIndex(n,this.board.reverted),i=this.board.getPieceByPoint(r.yAxis,r.xAxis);i&&(this.board.pieces=this.board.pieces.filter(t=>t!==i));let s=class{static create(t,e,n,r){let i,s=n===dA.LIGHT?Ok.WHITE:Ok.BLACK;switch(e){case hA.QUEEN:i=new jk(new Tk(t.yAxis,t.xAxis),s,s===Ok.WHITE?Nk.WHITE_QUEEN:Nk.BLACK_QUEEN,r);break;case hA.KING:i=new Ak(new Tk(t.yAxis,t.xAxis),s,s===Ok.WHITE?Nk.WHITE_KING:Nk.BLACK_KING,r);break;case hA.KNIGHT:i=new Dk(new Tk(t.yAxis,t.xAxis),s,s===Ok.WHITE?Nk.WHITE_KNIGHT:Nk.BLACK_KNIGHT,r);break;case hA.BISHOP:i=new Pk(new Tk(t.yAxis,t.xAxis),s,s===Ok.WHITE?Nk.WHITE_BISHOP:Nk.BLACK_BISHOP,r);break;case hA.ROOK:i=new kk(new Tk(t.yAxis,t.xAxis),s,s===Ok.WHITE?Nk.WHITE_ROOK:Nk.BLACK_ROOK,r);break;case hA.PAWN:i=new Rk(new Tk(t.yAxis,t.xAxis),s,s===Ok.WHITE?Nk.WHITE_PAWN:Nk.BLACK_PAWN,r)}return i}}.create(r,t,e,this.board);this.saveClone(),this.board.pieces.push(s),this.afterMoveActions()}}}class pA{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let t=0;t<8;++t){this.board[t]=[];for(let e=0;e<8;++e)this.board[t][e]=0}}isXYInPossibleMoves(t,e){return this.possibleMoves.some(n=>n.row===t&&n.col===e)}isXYInPossibleCaptures(t,e){return this.possibleCaptures.some(n=>n.row===t&&n.col===e)}isXYInSourceMove(t,e){return this.lastMoveSrc&&this.lastMoveSrc.row===t&&this.lastMoveSrc.col===e}isXYInDestMove(t,e){return this.lastMoveDest&&this.lastMoveDest.row===t&&this.lastMoveDest.col===e}isXYInActiveMove(t,e){return this.activePiece&&this.activePiece.point.row===t&&this.activePiece.point.col===e}isPointInPossibleMoves(t){return this.possibleMoves.some(e=>e.row===t.row&&e.col===t.col)}isPointInPossibleCaptures(t){return this.possibleCaptures.some(e=>e.row===t.row&&e.col===t.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(t=>this.reversePoint(t.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return Object(dk.cloneDeep)(this)}isFieldTakenByEnemy(t,e,n){return!(t>7||t<0||e>7||e<0)&&this.pieces.some(r=>r.point.col===e&&r.point.row===t&&r.color===n)}isFieldEmpty(t,e){return!(t>7||t<0||e>7||e<0||this.pieces.some(n=>n.point.col===e&&n.point.row===t))}isFieldUnderAttack(t,e,n){return this.pieces.filter(t=>t.color===n).some(n=>n.getCoveredFields().some(n=>n.col===e&&n.row===t))}getPieceByField(t,e){if(!this.isFieldEmpty(t,e))return this.pieces.find(n=>n.point.col===e&&n.point.row===t)}isKingInCheck(t,e){const n=e.find(e=>e.color===t&&e instanceof Ak);return!!n&&e.some(e=>e.getPossibleCaptures().some(t=>t.col===n.point.col&&t.row===n.point.row)&&e.color!==t)}getKingByColor(t){return this.pieces.find(e=>e instanceof Ak&&e.color===t)}getCastleFENString(t){const e=this.getKingByColor(t);if(!e||e.isMovedAlready)return"";let n="";const r=this.getPieceByField(e.point.row,0),i=this.getPieceByField(e.point.row,7);return i instanceof kk&&i.color===t&&(i.isMovedAlready||(n+=this.reverted?"q":"k")),r instanceof kk&&r.color===t&&(r.isMovedAlready||(n+=this.reverted?"k":"q")),n=n.split("").sort().join(""),t===Ok.BLACK?n:n.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let t="";for(let n=0;n<8;++n){let e=0;for(let r=0;r<8;++r){const i=this.pieces.find(t=>t.point.col===r&&t.point.row===n);i?(e>0&&(t+=e,e=0),i instanceof kk?t+=i.color===Ok.BLACK?"r":"R":i instanceof Dk?t+=i.color===Ok.BLACK?"n":"N":i instanceof Pk?t+=i.color===Ok.BLACK?"b":"B":i instanceof jk?t+=i.color===Ok.BLACK?"q":"Q":i instanceof Ak?t+=i.color===Ok.BLACK?"k":"K":i instanceof Rk&&(t+=i.color===Ok.BLACK?"p":"P")):++e}e>0&&(t+=e),t+="/"}t=t.substr(0,t.length-1),this.reverted&&(t=t.split("").reverse().join("")),t+=" "+(this.currentWhitePlayer?"w":"b");let e=this.getCastleFENString(Ok.WHITE)+this.getCastleFENString(Ok.BLACK);e||(e="-"),t+=" "+e,t+=" "+this.getEnPassantFENString(),t+=" 0",t+=" "+this.fullMoveCount,this.fen=t}isXYInPointSelection(t,e){return!1}reversePoint(t){t&&(t.row=Math.abs(t.row-7),t.col=Math.abs(t.col-7))}getPieceByPoint(t,e){return t=Math.floor(t),e=Math.floor(e),this.pieces.find(n=>n.point.col===e&&n.point.row===t)}checkIfPawnTakesEnPassant(t){t.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(t,e){Math.abs(t.point.row-e.row)>1?(this.enPassantPiece=t,this.enPassantPoint=new Tk((t.point.row+e.row)/2,t.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(t){if(t instanceof Ak)return t.color===Ok.WHITE?this.whiteKingChecked:this.blackKingChecked}}let gA=(()=>{class t{constructor(){this.componentMethodCallSource=new kt.a,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),mA=(()=>{class t{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=Gk.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=Gk.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.moveChange=new r.n,this.checkmate=new r.n,this.stalemate=new r.n,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new fA(new pA,this.moveChange)}set size(t){this.engineFacade.heightAndWidth=t&&t>=Gk.MIN_BOARD_SIZE&&t<=Gk.MAX_BOARD_SIZE?t:Gk.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor(Uk.getProcessor(Hk.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(e){this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor(Uk.getProcessor(Hk.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(e){console.log(e),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let e=t.source.getRootElement().style.transform.split(") ");this.startTransition=2===e.length?e[1]:e[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return zk.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,e,n){this.engineFacade.addPiece(t,e,n)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let e=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,n=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+e+"px, "+n+"px,0px)"}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(gA))},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-chess-board"]],viewQuery:function(t,e){if(1&t&&(r.Kc(fk,1),r.Kc(pk,1)),2&t){let t;r.uc(t=r.fc())&&(e.boardRef=t.first),r.uc(t=r.fc())&&(e.modal=t.first)}},hostBindings:function(t,e){1&t&&r.ec("contextmenu",function(t){return e.onRightClick(t)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},features:[r.Ab],decls:13,vars:16,consts:[["id","board",3,"pointerdown","pointerup"],["boardRef",""],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],["modal",""],["cdkDrag","",1,"single-piece",3,"cdkDragDisabled","innerHTML","ngStyle","cdkDragEnded","cdkDragMoved","cdkDragStarted"],[1,"board-row"],["class","board-col",3,"current-selection","dest-move","king-check","point-circle","possible-capture","possible-point","source-move","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",0,1),r.ec("pointerdown",function(n){return r.xc(t),!r.vc(12).opened&&e.onMouseDown(n)})("pointerup",function(n){return r.xc(t),!r.vc(12).opened&&e.onMouseUp(n)}),r.Ub(2,"div",2),r.Ec(3,gk,1,13,"div",3),r.Ec(4,_k,2,1,"div",4),r.Tb(),r.hc(),r.Ub(5,"svg",5),r.Ec(6,wk,3,3,"defs",6),r.Ec(7,Ck,1,6,"line",7),r.jc(8,"async"),r.Ec(9,Ek,1,4,"circle",8),r.jc(10,"async"),r.Tb(),r.gc(),r.Qb(11,"app-piece-promotion-modal",null,9),r.Tb()}2&t&&(r.Bc("height",e.engineFacade.heightAndWidth,"px")("width",e.engineFacade.heightAndWidth,"px"),r.Cb(3),r.nc("ngForOf",e.engineFacade.board.pieces),r.Cb(1),r.nc("ngForOf",e.engineFacade.board.board),r.Cb(1),r.Db("height",e.engineFacade.heightAndWidth)("width",e.engineFacade.heightAndWidth),r.Cb(1),r.nc("ngForOf",r.qc(15,Sk)),r.Cb(1),r.nc("ngForOf",r.kc(8,11,e.engineFacade.drawProvider.arrows$)),r.Cb(2),r.nc("ngForOf",r.kc(10,13,e.engineFacade.drawProvider.circles$)))},directives:function(){return[A,bA,lk,B,D,T]},pipes:function(){return[z]},styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;height:12.5%;position:relative;width:100%}.board-col[_ngcontent-%COMP%]{cursor:default;display:inline-block;height:100%;position:relative;vertical-align:top;width:12.5%}.piece[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;background-size:cover;color:#000!important;cursor:-webkit-grab;cursor:grab;height:100%;justify-content:center;text-align:center;user-select:none;width:100%}.piece[_ngcontent-%COMP%], .piece[_ngcontent-%COMP%]:after{box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\u200b"}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262f 15%,transparent 20%)}.possible-capture[_ngcontent-%COMP%]:hover, .possible-point[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0,transparent 80%,#13262f 0);box-sizing:border-box;margin:0;opacity:.5;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.source-move[_ngcontent-%COMP%]{background-color:rgba(146,111,26,.79)!important}.dest-move[_ngcontent-%COMP%]{background-color:#b28e1a!important}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{right:.2em}.xCoord[_ngcontent-%COMP%], .yCoord[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;box-sizing:border-box;cursor:pointer;font-family:Lucida Console,Courier,monospace;position:absolute;user-select:none}.xCoord[_ngcontent-%COMP%]{bottom:0;left:.2em}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0 #111) drop-shadow(-1px 1px 0 #111) drop-shadow(1px -1px 0 #111) drop-shadow(-1px -1px 0 #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;background-size:cover;color:#000!important;cursor:-webkit-grab;cursor:grab;justify-content:center;position:absolute;text-align:center;user-select:none;z-index:999}.single-piece[_ngcontent-%COMP%]:after{box-sizing:border-box;content:"\u200b"}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),t})(),bA=(()=>{class t{constructor(){this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,e){if(1&t&&r.Kc(xk,1),2&t){let t;r.uc(t=r.fc())&&(e.modal=t.first)}},decls:13,vars:0,consts:[[1,"container"],["myModal",""],[1,"wrapper"],[1,"content"],[1,"piece-wrapper"],[1,"piece",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0,1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ub(5,"div",5),r.ec("click",function(){return e.changeSelection(1)}),r.Gc(6,"\u265b"),r.Tb(),r.Ub(7,"div",5),r.ec("click",function(){return e.changeSelection(2)}),r.Gc(8,"\u265c"),r.Tb(),r.Ub(9,"div",5),r.ec("click",function(){return e.changeSelection(3)}),r.Gc(10,"\u265d"),r.Tb(),r.Ub(11,"div",5),r.ec("click",function(){return e.changeSelection(4)}),r.Gc(12,"\u265e"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb())},styles:[".container[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4);color:#000;display:none;overflow:auto;position:absolute;top:0;z-index:1}.container[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{height:100%;width:100%}.content[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{position:relative}.content[_ngcontent-%COMP%]{background-color:#fefefe;border:1px solid #888;font-size:100%;height:40%;margin:auto;padding:10px;top:30%;width:90%}.piece[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;font-size:5rem;height:100%;width:25%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;border-radius:4px;color:#fff;display:inline-block;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none}.selected[_ngcontent-%COMP%]{border:2px solid #00b919;border-radius:4px;box-sizing:border-box}"]}),t})(),yA=(()=>{class t{static forRoot(){return{ngModule:t,providers:[gA]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K,hk]]}),t})();const vA=["*"],_A=["tabListContainer"],wA=["tabList"],CA=["nextPaginator"],EA=["previousPaginator"],SA=["mat-tab-nav-bar",""],xA=new r.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let OA=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=r}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.A),r.Pb(xA),r.Pb(ba,8))},t.\u0275dir=r.Kb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&r.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const IA=Va({passive:!0});let TA=(()=>{class t{constructor(t,e,n,i,s,o,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=s,this._platform=o,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new kt.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new kt.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.n,this.indexFocused=new r.n,s.runOutsideAngular(()=>{ml(t.nativeElement,"mouseleave").pipe(Dl(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Ia(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){ml(this._previousPaginator.nativeElement,"touchstart",IA).pipe(Dl(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ml(this._nextPaginator.nativeElement,"touchstart",IA).pipe(Dl(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(Tt.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Qa(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(ru.a)(t,e,this._items.changes).pipe(Dl(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(n)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Dl(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!_a(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:i}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=r,o=s+i):(o=this._tabList.nativeElement.offsetWidth-r,s=o-i);const a=this.scrollDistance,c=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),kl(650,100).pipe(Dl(Object(ru.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(Wl),r.Pb(mc,8),r.Pb(r.A),r.Pb(Ra),r.Pb(ba,8))},t.\u0275dir=r.Kb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),kA=(()=>{class t extends TA{constructor(t,e,n,r,i,s,o){super(t,r,i,e,n,s,o),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement.classList;e.remove(`mat-background-${this.backgroundColor}`),t&&e.add(`mat-background-${t}`),this._backgroundColor=t}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Oa(t)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(se(null),Dl(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const t=this._items.toArray();for(let e=0;e<t.length;e++)if(t[e].active)return this.selectedIndex=e,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(mc,8),r.Pb(r.A),r.Pb(r.h),r.Pb(Wl),r.Pb(Ra),r.Pb(ba,8))},t.\u0275dir=r.Kb({type:t,inputs:{color:"color",backgroundColor:"backgroundColor",disableRipple:"disableRipple"},features:[r.zb]}),t})(),AA=(()=>{class t extends kA{constructor(t,e,n,r,i,s,o){super(t,e,n,r,i,s,o)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(mc,8),r.Pb(r.A),r.Pb(r.h),r.Pb(Wl),r.Pb(Ra),r.Pb(ba,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(t,e,n){if(1&t&&r.Ib(n,jA,1),2&t){let t;r.uc(t=r.fc())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(r.Kc(OA,3),r.Kc(_A,3),r.Kc(wA,3),r.Kc(CA,1),r.Kc(EA,1)),2&t){let t;r.uc(t=r.fc())&&(e._inkBar=t.first),r.uc(t=r.fc())&&(e._tabListContainer=t.first),r.uc(t=r.fc())&&(e._tabList=t.first),r.uc(t=r.fc())&&(e._nextPaginator=t.first),r.uc(t=r.fc())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(t,e){2&t&&r.Hb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())("mat-primary","warn"!==e.color&&"accent"!==e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[r.zb],attrs:SA,ngContentSelectors:vA,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(r.mc(),r.Ub(0,"div",0,1),r.ec("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),r.Qb(2,"div",2),r.Tb(),r.Ub(3,"div",3,4),r.ec("keydown",function(t){return e._handleKeydown(t)}),r.Ub(5,"div",5,6),r.ec("cdkObserveContent",function(){return e._onContentChanges()}),r.Ub(7,"div",7),r.lc(8),r.Tb(),r.Qb(9,"mat-ink-bar"),r.Tb(),r.Tb(),r.Ub(10,"div",8,9),r.ec("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),r.Qb(12,"div",2),r.Tb()),2&t&&(r.Hb("mat-tab-header-pagination-disabled",e._disableScrollBefore),r.nc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),r.Cb(5),r.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Cb(5),r.Hb("mat-tab-header-pagination-disabled",e._disableScrollAfter),r.nc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[Uc,Ka,OA],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n'],encapsulation:2}),t})();class PA{}const DA=Pc(Ac(Tc(PA)));let RA=(()=>{class t extends DA{constructor(t,e,n,r,i,s){super(),this._tabNavBar=t,this.elementRef=e,this._focusMonitor=i,this._isActive=!1,this.rippleConfig=n||{},this.tabIndex=parseInt(r)||0,"NoopAnimations"===s&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(t){Oa(t)!==this._isActive&&(this._isActive=t,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(kA),r.Pb(r.l),r.Pb(Vc,8),r.cc("tabindex"),r.Pb(cc),r.Pb(ba,8))},t.\u0275dir=r.Kb({type:t,inputs:{active:"active"},features:[r.zb]}),t})(),jA=(()=>{class t extends RA{constructor(t,e,n,r,i,s,o,a){super(t,e,i,s,o,a),this._tabLinkRipple=new Bc(this,n,e,r),this._tabLinkRipple.setupTriggerEvents(e.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(AA),r.Pb(r.l),r.Pb(r.A),r.Pb(Ra),r.Pb(Vc,8),r.cc("tabindex"),r.Pb(cc),r.Pb(ba,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("aria-current",e.active?"page":null)("aria-disabled",e.disabled)("tabIndex",e.tabIndex),r.Hb("mat-tab-disabled",e.disabled)("mat-tab-label-active",e.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[r.zb]}),t})(),NA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K,Ic,nu,Hc,Wa,pc],Ic]}),t})();var FA=n("z6cu"),LA=n("w1tV");class MA{}class BA{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof BA?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new BA;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof BA?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class VA{encodeKey(t){return UA(t)}encodeValue(t){return UA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function UA(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class HA{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new VA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new HA({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function qA(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function zA(t){return"undefined"!=typeof Blob&&t instanceof Blob}function KA(t){return"undefined"!=typeof FormData&&t instanceof FormData}class WA{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new BA),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new HA,this.urlWithParams=e}serializeBody(){return null===this.body?null:qA(this.body)||zA(this.body)||KA(this.body)||"string"==typeof this.body?this.body:this.body instanceof HA?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KA(this.body)?null:zA(this.body)?this.body.type||null:qA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HA?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new WA(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var GA=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class $A extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new BA,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=GA.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $A({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function QA(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let YA=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof WA)r=t;else{let i,s;i=n.headers instanceof BA?n.headers:new BA(n.headers),n.params&&(s=n.params instanceof HA?n.params:new HA({fromObject:n.params})),r=new WA(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Tt.a)(r).pipe(me(t=>this.handler.handle(t)));if(t instanceof WA||"events"===n.observe)return i;const s=i.pipe(le(t=>t instanceof $A));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Yt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Yt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Yt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Yt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new HA).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,QA(n,e))}post(t,e,n={}){return this.request("POST",t,QA(n,e))}put(t,e,n={}){return this.request("PUT",t,QA(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(MA))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const XA=["*"];function ZA(t){return Error(`Unable to find icon with the name "${t}"`)}function JA(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function tP(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class eP{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let nP=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new eP(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.J.HTML,n);if(!s)throw tP(n);return this._addSvgIconConfig(t,e,new eP("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new eP(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw tP(e);return this._addSvgIconSetConfig(t,new eP("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw JA(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Tt.a)(rP(n)):this._loadSvgIconFromConfig(new eP(t,null)).pipe(Object(ke.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Yt.a)(t=>rP(t)))}getNamedSvgIcon(t,e=""){const n=iP(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(FA.a)(ZA(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Tt.a)(rP(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Yt.a)(t=>rP(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Tt.a)(n):DO(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(de(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Tt.a)(null)})))).pipe(Object(Yt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw ZA(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(ke.a)(e=>t.svgText=e),Object(Yt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Tt.a)(null):this._fetchIcon(t).pipe(Object(ke.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!o)throw JA(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(De(()=>this._inProgressUrlFetches.delete(o)),Object(LA.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(iP(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new eP(i.url,null,i.options):new eP(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.bc(YA,8),r.bc(wt),r.bc(o,8),r.bc(r.m))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(YA,8),Object(r.bc)(wt),Object(r.bc)(o,8),Object(r.bc)(r.m))},token:t,providedIn:"root"}),t})();function rP(t){return t.cloneNode(!0)}function iP(t,e){return t+":"+e}class sP{constructor(t){this._elementRef=t}}const oP=kc(sP),aP=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),cP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lP=cP.map(t=>`[${t}]`).join(", "),uP=/^url\(['"]?#(.*?)['"]?\)$/;let hP=(()=>{class t extends oP{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Pe.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Oa(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(lP),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)cP.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(uP):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(ne(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(nP),r.cc("aria-hidden"),r.Pb(aP),r.Pb(r.m))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Hb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.zb],ngContentSelectors:XA,decls:1,vars:0,template:function(t,e){1&t&&(r.mc(),r.lc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),dP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ic],Ic]}),t})();const fP=["board"];function pP(t,e){if(1&t&&(r.Ub(0,"label",10,11),r.Ub(2,"strong"),r.Gc(3),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.vc(1);r.nc("routerLink",t.link)("active",n.isActive),r.Cb(3),r.Hc(t.label)}}let gP=(()=>{class t{constructor(t,e,n){this.ngxChessBoardService=t,this.functions=e,this.router=n,this.title="",this.activeLinkIndex=-1,this.colorTheme=!1,this.item="\ud83c\udf15",this.history=[],this.size=window.innerWidth>800?800:window.innerWidth-20,window.innerWidth<=1080&&window.innerWidth>=805&&(this.size=window.innerWidth-10),this.functions.sendFENObservable.subscribe(t=>this.board.setFEN(t)),this.navLinks=[{label:"Play Game",link:"./Game",index:0},{label:"Learn Openings",link:"./Openings",index:1},{label:"Add Openings",link:"./Add",index:1}]}ngOnInit(){}reset(){this.functions.reset(this.board)}reverse(){this.board.reverse()}undo(){this.functions.undo(this.board,this.history)}getMoveHistory(){return Object(Pi.b)(this,void 0,void 0,function*(){yield this.functions.sendHistory(this.board,this.history),this.functions.sendHistoryObservable.subscribe(t=>this.history=t),console.log(this.history)})}getFEN(){return console.log(this.board.getFEN()),this.board.getFEN()}onResize(t){this.size=window.innerWidth>800?800:window.innerWidth-20,window.innerWidth<=1080&&window.innerWidth>=805&&(this.size=window.innerWidth-10)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(gA),r.Pb(Di),r.Pb(ai))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&r.Kc(fP,1),2&t){let t;r.uc(t=r.fc())&&(e.board=t.first)}},decls:28,vars:2,consts:[[1,"navigation"],["mat-tab-nav-bar","","mat-stretch-tabs","","color","primary",3,"click"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],[3,"size","lightTileColor","darkTileColor","showCoords","drawDisabled","click","resize"],["board",""],[1,"menu"],[1,"btn","btn-warning","btn-lg","btn-block",3,"click"],["aria-hidden","false"],[1,"btn","btn-dark","btn-lg","btn-block",3,"click"],[1,"btn","btn-danger","btn-lg","btn-block",3,"click"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"nav",1),r.ec("click",function(){return e.reset()}),r.Ec(2,pP,4,3,"label",2),r.Tb(),r.Tb(),r.Ub(3,"ngx-chess-board",3,4),r.ec("click",function(){return e.getMoveHistory()})("resize",function(t){return e.onResize(t)},!1,r.wc),r.Tb(),r.Ub(5,"mat-card",5),r.Qb(6,"router-outlet"),r.Tb(),r.Ub(7,"button",6),r.ec("click",function(){return e.reset()}),r.Ub(8,"mat-icon",7),r.Gc(9,"restart_alt"),r.Tb(),r.Ub(10,"span"),r.Gc(11," RESET "),r.Tb(),r.Ub(12,"mat-icon",7),r.Gc(13,"restart_alt"),r.Tb(),r.Tb(),r.Ub(14,"button",8),r.ec("click",function(){return e.reverse()}),r.Ub(15,"mat-icon",7),r.Gc(16,"360"),r.Tb(),r.Ub(17,"span"),r.Gc(18," FLIP "),r.Tb(),r.Ub(19,"mat-icon",7),r.Gc(20,"360"),r.Tb(),r.Tb(),r.Ub(21,"button",9),r.ec("click",function(){return e.undo()}),r.Ub(22,"mat-icon",7),r.Gc(23,"undo"),r.Tb(),r.Ub(24,"span"),r.Gc(25," UNDO "),r.Tb(),r.Ub(26,"mat-icon",7),r.Gc(27,"undo"),r.Tb(),r.Tb()),2&t&&(r.Cb(2),r.nc("ngForOf",e.navLinks),r.Cb(1),r.nc("size",e.size))},directives:[AA,A,mA,cl,di,hP,jA,hi,ci],styles:["ngx-chess-board[_ngcontent-%COMP%]{float:left;margin:30px 100px 0 10px}button[_ngcontent-%COMP%]{position:relative;width:45%}nav[_ngcontent-%COMP%]{margin-top:-10px;background-color:#fff}@media only screen and (max-width:1656px){button[_ngcontent-%COMP%]{width:40%;margin-left:0}ngx-chess-board[_ngcontent-%COMP%]{margin:30px 100px 0 10px}}@media only screen and (max-width:1520px){button[_ngcontent-%COMP%]{width:35%;margin-left:0}ngx-chess-board[_ngcontent-%COMP%]{margin:30px 100px 0 10px}}@media only screen and (max-width:1400px){button[_ngcontent-%COMP%]{width:25%;margin-left:-100px}ngx-chess-board[_ngcontent-%COMP%]{margin:30px 0 0 10px}}@media only screen and (max-width:1089px){button[_ngcontent-%COMP%]{width:100%;margin-left:0}}"]}),t})();class mP{call(t,e){return e.subscribe(new bP(t))}}class bP extends Nt{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Bt(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var yP=n("Lhse");function vP(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Vt.a)(t,void 0).lift(new _P(e))}class _P{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new wP(t,this.resultSelector))}}class wP extends jt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Rt.a)(t)?e.push(new EP(t)):e.push("function"==typeof t[yP.a]?new CP(t[yP.a]()):new SP(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class CP{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class EP{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[yP.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class SP extends Xt.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[yP.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Xt.c)(this.observable,new Xt.a(this))}}function xP(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new OP(t,n))}}class OP{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new IP(t,this.observables,this.project))}}class IP extends Nt{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Bt(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4");const TP=["*"],kP=["dialog"];function AP(t){return null!=t}function PP(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const DP={animation:!0,transitionTimerDelayMs:5};let RP=(()=>{class t{constructor(){this.animation=DP.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const jP=()=>{},{transitionTimerDelayMs:NP}=DP,FP=new Map,LP=(t,e,n,r)=>{let i=r.context||{};const s=FP.get(e);if(s)switch(r.runningTransition){case"continue":return Gt.a;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),FP.delete(e)}const o=n(e,r.animation,i)||jP;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(Tt.a)(void 0).pipe(function(t){return e=>new Mt.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new kt.a,c=new kt.a,l=a.pipe(function(...t){return e=>Wt(e,Object(Tt.a)(...t))}(!0));FP.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=ml(e,"transitionend").pipe(Dl(l),le(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(Rt.a)(t[0]))return t[0];t=t[0]}return Object(Vt.a)(t,void 0).lift(new mP)})(kl(u+NP).pipe(Dl(l)),n,c).pipe(Dl(l)).subscribe(()=>{FP.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let MP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),BP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),VP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})(),UP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),HP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();var qP=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const zP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function KP(t){const e=Array.from(t.querySelectorAll(zP)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),l=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=o.top-(e.offsetHeight+c+l);break;case"bottom":d=o.top+o.height;break;case"left":f=o.left-(e.offsetWidth+u+h);break;case"right":f=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":f=o.left;break;case"right":f=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,b=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=b&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let WP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K,RI]]}),t})(),GP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})(),$P=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.bc(RP))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(RP))},token:t,providedIn:"root"}),t})();class QP{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const YP=()=>{};let XP=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):YP}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.bc(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(o))},token:t,providedIn:"root"}),t})(),ZP=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(ne(1)).subscribe(()=>{LP(this._zone,this._el.nativeElement,(t,e)=>{e&&PP(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return LP(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.A))},t.\u0275cmp=r.Jb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Eb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Hb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class JP{close(t){}dismiss(t){}}class tD{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new kt.a,this._dismissed=new kt.a,this._hidden=new kt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Dl(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Dl(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Tt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),vP(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var eD=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let nD=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new kt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new kt.a,this.hidden=new kt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=vP(LP(this._zone,t,()=>t.classList.remove("show"),e),LP(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};vP(LP(this._zone,this._elRef.nativeElement,(t,e)=>{e&&PP(t),t.classList.add("show")},t),LP(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ml(t,"keydown").pipe(Dl(this._closed$),le(t=>t.which===qP.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(eD.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;ml(this._dialogEl.nativeElement,"mousedown").pipe(Dl(this._closed$),Object(ke.a)(()=>e=!1),Zt(()=>ml(t,"mouseup").pipe(Dl(this._closed$),ne(1))),le(({target:e})=>t===e)).subscribe(()=>{e=!0}),ml(t,"click").pipe(Dl(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(eD.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=KP(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&LP(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(o),r.Pb(r.l),r.Pb(r.A))},t.\u0275cmp=r.Jb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Kc(kP,3),2&t){let t;r.uc(t=r.fc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Eb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Hb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:TP,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.mc(),r.Ub(0,"div",0,1),r.Ub(2,"div",2),r.lc(3),r.Tb(),r.Tb()),2&t&&r.Eb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),rD=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new kt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=ml(e,"focusin").pipe(Dl(n),Object(Yt.a)(t=>t.target));ml(e,"keydown").pipe(Dl(n),le(t=>t.which===qP.Tab),xP(t)).subscribe(([t,n])=>{const[r,i]=KP(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&ml(e,"click").pipe(Dl(n),xP(t),Object(Yt.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:AP(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new JP,l=this._getContentRef(t,r.injector||e,n,c,r);let u=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,l),d=new tD(h,l,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,r),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(ZP).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(nD).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{AP(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{AP(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.M?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new QP([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new QP([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new QP([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:JP,useValue:i}],parent:e}),c=o.create(a),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new QP([[l]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.g),r.bc(r.s),r.bc(o),r.bc(XP),r.bc(r.G),r.bc(r.A))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(r.g),Object(r.bc)(r.o),Object(r.bc)(o),Object(r.bc)(XP),Object(r.bc)(r.G),Object(r.bc)(r.A))},token:t,providedIn:"root"}),t})(),iD=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.j),r.bc(r.s),r.bc(rD),r.bc($P))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.bc)(r.j),Object(r.bc)(r.o),Object(r.bc)(rD),Object(r.bc)($P))},token:t,providedIn:"root"}),t})(),sD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[iD]}),t})(),oD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),aD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),cD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),lD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),uD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),hD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),dD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})(),fD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let pD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[K]]}),t})();const gD=[MP,BP,VP,UP,HP,WP,GP,sD,oD,aD,cD,lD,uD,hD,dD,fD,pD];let mD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[gD,MP,BP,VP,UP,HP,WP,GP,sD,oD,aD,cD,lD,uD,hD,dD,fD,pD]}),t})();const bD={apiKey:"AIzaSyBA54QW0XlLXbAziqQLLrYMoTUE5cC66qk",authDomain:"chess-reyes.firebaseapp.com",projectId:"chess-reyes",storageBucket:"chess-reyes.appspot.com",messagingSenderId:"490551130716",appId:"1:490551130716:web:5998ff555f4524ba2b8499"};let yD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t,bootstrap:[gP]}),t.\u0275inj=r.Mb({providers:[],imports:[[Ot,_T,va,yA,ll,mD,aD,BP,RI,ah,nT,hh.a.initializeApp(bD),Xx,NA,AO,gT,dP]]}),t})();Object(r.U)(),St().bootstrapModule(yD).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);